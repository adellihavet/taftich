(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(o){if(o.ep)return;o.ep=!0;const d=i(o);fetch(o.href,d)}})();function Ug(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ed={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function sv(){if(Mp)return Qi;Mp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,d){var f=null;if(d!==void 0&&(f=""+d),o.key!==void 0&&(f=""+o.key),"key"in o){d={};for(var m in o)m!=="key"&&(d[m]=o[m])}else d=o;return o=d.ref,{$$typeof:n,type:a,key:f,ref:o!==void 0?o:null,props:d}}return Qi.Fragment=e,Qi.jsx=i,Qi.jsxs=i,Qi}var Rp;function lv(){return Rp||(Rp=1,Ed.exports=sv()),Ed.exports}var s=lv(),Cd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function iv(){if(Dp)return _e;Dp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),N=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=N&&A[N]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,U={};function J(A,Q,ce){this.props=A,this.context=Q,this.refs=U,this.updater=ce||j}J.prototype.isReactComponent={},J.prototype.setState=function(A,Q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Q,"setState")},J.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function q(){}q.prototype=J.prototype;function B(A,Q,ce){this.props=A,this.context=Q,this.refs=U,this.updater=ce||j}var F=B.prototype=new q;F.constructor=B,E(F,J.prototype),F.isPureReactComponent=!0;var ae=Array.isArray;function de(){}var T={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function I(A,Q,ce){var fe=ce.ref;return{$$typeof:n,type:A,key:Q,ref:fe!==void 0?fe:null,props:ce}}function k(A,Q){return I(A.type,Q,A.props)}function R(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ee(A){var Q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ce){return Q[ce]})}var Z=/\/+/g;function L(A,Q){return typeof A=="object"&&A!==null&&A.key!=null?ee(""+A.key):Q.toString(36)}function K(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(de,de):(A.status="pending",A.then(function(Q){A.status==="pending"&&(A.status="fulfilled",A.value=Q)},function(Q){A.status==="pending"&&(A.status="rejected",A.reason=Q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function C(A,Q,ce,fe,me){var ye=typeof A;(ye==="undefined"||ye==="boolean")&&(A=null);var Te=!1;if(A===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(A.$$typeof){case n:case e:Te=!0;break;case b:return Te=A._init,C(Te(A._payload),Q,ce,fe,me)}}if(Te)return me=me(A),Te=fe===""?"."+L(A,0):fe,ae(me)?(ce="",Te!=null&&(ce=Te.replace(Z,"$&/")+"/"),C(me,Q,ce,"",function(_t){return _t})):me!=null&&(R(me)&&(me=k(me,ce+(me.key==null||A&&A.key===me.key?"":(""+me.key).replace(Z,"$&/")+"/")+Te)),Q.push(me)),1;Te=0;var Qe=fe===""?".":fe+":";if(ae(A))for(var De=0;De<A.length;De++)fe=A[De],ye=Qe+L(fe,De),Te+=C(fe,Q,ce,ye,me);else if(De=w(A),typeof De=="function")for(A=De.call(A),De=0;!(fe=A.next()).done;)fe=fe.value,ye=Qe+L(fe,De++),Te+=C(fe,Q,ce,ye,me);else if(ye==="object"){if(typeof A.then=="function")return C(K(A),Q,ce,fe,me);throw Q=String(A),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Te}function $(A,Q,ce){if(A==null)return A;var fe=[],me=0;return C(A,fe,"","",function(ye){return Q.call(ce,ye,me++)}),fe}function G(A){if(A._status===-1){var Q=A._result;Q=Q(),Q.then(function(ce){(A._status===0||A._status===-1)&&(A._status=1,A._result=ce)},function(ce){(A._status===0||A._status===-1)&&(A._status=2,A._result=ce)}),A._status===-1&&(A._status=0,A._result=Q)}if(A._status===1)return A._result.default;throw A._result}var le=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ie={map:$,forEach:function(A,Q,ce){$(A,function(){Q.apply(this,arguments)},ce)},count:function(A){var Q=0;return $(A,function(){Q++}),Q},toArray:function(A){return $(A,function(Q){return Q})||[]},only:function(A){if(!R(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _e.Activity=v,_e.Children=ie,_e.Component=J,_e.Fragment=i,_e.Profiler=o,_e.PureComponent=B,_e.StrictMode=a,_e.Suspense=x,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,_e.__COMPILER_RUNTIME={__proto__:null,c:function(A){return T.H.useMemoCache(A)}},_e.cache=function(A){return function(){return A.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(A,Q,ce){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var fe=E({},A.props),me=A.key;if(Q!=null)for(ye in Q.key!==void 0&&(me=""+Q.key),Q)!O.call(Q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Q.ref===void 0||(fe[ye]=Q[ye]);var ye=arguments.length-2;if(ye===1)fe.children=ce;else if(1<ye){for(var Te=Array(ye),Qe=0;Qe<ye;Qe++)Te[Qe]=arguments[Qe+2];fe.children=Te}return I(A.type,me,fe)},_e.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},_e.createElement=function(A,Q,ce){var fe,me={},ye=null;if(Q!=null)for(fe in Q.key!==void 0&&(ye=""+Q.key),Q)O.call(Q,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=Q[fe]);var Te=arguments.length-2;if(Te===1)me.children=ce;else if(1<Te){for(var Qe=Array(Te),De=0;De<Te;De++)Qe[De]=arguments[De+2];me.children=Qe}if(A&&A.defaultProps)for(fe in Te=A.defaultProps,Te)me[fe]===void 0&&(me[fe]=Te[fe]);return I(A,ye,me)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(A){return{$$typeof:m,render:A}},_e.isValidElement=R,_e.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:G}},_e.memo=function(A,Q){return{$$typeof:p,type:A,compare:Q===void 0?null:Q}},_e.startTransition=function(A){var Q=T.T,ce={};T.T=ce;try{var fe=A(),me=T.S;me!==null&&me(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,le)}catch(ye){le(ye)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),T.T=Q}},_e.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},_e.use=function(A){return T.H.use(A)},_e.useActionState=function(A,Q,ce){return T.H.useActionState(A,Q,ce)},_e.useCallback=function(A,Q){return T.H.useCallback(A,Q)},_e.useContext=function(A){return T.H.useContext(A)},_e.useDebugValue=function(){},_e.useDeferredValue=function(A,Q){return T.H.useDeferredValue(A,Q)},_e.useEffect=function(A,Q){return T.H.useEffect(A,Q)},_e.useEffectEvent=function(A){return T.H.useEffectEvent(A)},_e.useId=function(){return T.H.useId()},_e.useImperativeHandle=function(A,Q,ce){return T.H.useImperativeHandle(A,Q,ce)},_e.useInsertionEffect=function(A,Q){return T.H.useInsertionEffect(A,Q)},_e.useLayoutEffect=function(A,Q){return T.H.useLayoutEffect(A,Q)},_e.useMemo=function(A,Q){return T.H.useMemo(A,Q)},_e.useOptimistic=function(A,Q){return T.H.useOptimistic(A,Q)},_e.useReducer=function(A,Q,ce){return T.H.useReducer(A,Q,ce)},_e.useRef=function(A){return T.H.useRef(A)},_e.useState=function(A){return T.H.useState(A)},_e.useSyncExternalStore=function(A,Q,ce){return T.H.useSyncExternalStore(A,Q,ce)},_e.useTransition=function(){return T.H.useTransition()},_e.version="19.2.0",_e}var Ip;function cu(){return Ip||(Ip=1,Cd.exports=iv()),Cd.exports}var P=cu();const aa=Ug(P);var Ad={exports:{}},Xi={},kd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function av(){return Up||(Up=1,(function(n){function e(C,$){var G=C.length;C.push($);e:for(;0<G;){var le=G-1>>>1,ie=C[le];if(0<o(ie,$))C[le]=$,C[G]=ie,G=le;else break e}}function i(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var $=C[0],G=C.pop();if(G!==$){C[0]=G;e:for(var le=0,ie=C.length,A=ie>>>1;le<A;){var Q=2*(le+1)-1,ce=C[Q],fe=Q+1,me=C[fe];if(0>o(ce,G))fe<ie&&0>o(me,ce)?(C[le]=me,C[fe]=G,le=fe):(C[le]=ce,C[Q]=G,le=Q);else if(fe<ie&&0>o(me,G))C[le]=me,C[fe]=G,le=fe;else break e}}return $}function o(C,$){var G=C.sortIndex-$.sortIndex;return G!==0?G:C.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var x=[],p=[],b=1,v=null,N=3,w=!1,j=!1,E=!1,U=!1,J=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var $=i(p);$!==null;){if($.callback===null)a(p);else if($.startTime<=C)a(p),$.sortIndex=$.expirationTime,e(x,$);else break;$=i(p)}}function ae(C){if(E=!1,F(C),!j)if(i(x)!==null)j=!0,de||(de=!0,ee());else{var $=i(p);$!==null&&K(ae,$.startTime-C)}}var de=!1,T=-1,O=5,I=-1;function k(){return U?!0:!(n.unstable_now()-I<O)}function R(){if(U=!1,de){var C=n.unstable_now();I=C;var $=!0;try{e:{j=!1,E&&(E=!1,q(T),T=-1),w=!0;var G=N;try{t:{for(F(C),v=i(x);v!==null&&!(v.expirationTime>C&&k());){var le=v.callback;if(typeof le=="function"){v.callback=null,N=v.priorityLevel;var ie=le(v.expirationTime<=C);if(C=n.unstable_now(),typeof ie=="function"){v.callback=ie,F(C),$=!0;break t}v===i(x)&&a(x),F(C)}else a(x);v=i(x)}if(v!==null)$=!0;else{var A=i(p);A!==null&&K(ae,A.startTime-C),$=!1}}break e}finally{v=null,N=G,w=!1}$=void 0}}finally{$?ee():de=!1}}}var ee;if(typeof B=="function")ee=function(){B(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,L=Z.port2;Z.port1.onmessage=R,ee=function(){L.postMessage(null)}}else ee=function(){J(R,0)};function K(C,$){T=J(function(){C(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(C){switch(N){case 1:case 2:case 3:var $=3;break;default:$=N}var G=N;N=$;try{return C()}finally{N=G}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var G=N;N=C;try{return $()}finally{N=G}},n.unstable_scheduleCallback=function(C,$,G){var le=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?le+G:le):G=le,C){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,C={id:b++,callback:$,priorityLevel:C,startTime:G,expirationTime:ie,sortIndex:-1},G>le?(C.sortIndex=G,e(p,C),i(x)===null&&C===i(p)&&(E?(q(T),T=-1):E=!0,K(ae,G-le))):(C.sortIndex=ie,e(x,C),j||w||(j=!0,de||(de=!0,ee()))),C},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(C){var $=N;return function(){var G=N;N=$;try{return C.apply(this,arguments)}finally{N=G}}}})(Md)),Md}var Lp;function rv(){return Lp||(Lp=1,kd.exports=av()),kd.exports}var Rd={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function ov(){if(zp)return bt;zp=1;var n=cu();function e(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(x,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:x,containerInfo:p,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bt.createPortal=function(x,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(x,p,null,b)},bt.flushSync=function(x){var p=f.T,b=a.p;try{if(f.T=null,a.p=2,x)return x()}finally{f.T=p,a.p=b,a.d.f()}},bt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(x,p))},bt.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},bt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:N,fetchPriority:w}):b==="script"&&a.d.X(x,{crossOrigin:v,integrity:N,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);a.d.M(x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(x)},bt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin);a.d.L(x,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(x,p){if(typeof x=="string")if(p){var b=m(p.as,p.crossOrigin);a.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(x)},bt.requestFormReset=function(x){a.d.r(x)},bt.unstable_batchedUpdates=function(x,p){return x(p)},bt.useFormState=function(x,p,b){return f.H.useFormState(x,p,b)},bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var Pp;function Lg(){if(Pp)return Rd.exports;Pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rd.exports=ov(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function cv(){if(Op)return Xi;Op=1;var n=rv(),e=cu(),i=Lg();function a(t){var l="https://react.dev/errors/"+t;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)l+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var l=t,r=t;if(t.alternate)for(;l.return;)l=l.return;else{t=l;do l=t,(l.flags&4098)!==0&&(r=l.return),t=l.return;while(t)}return l.tag===3?r:null}function f(t){if(t.tag===13){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function m(t){if(t.tag===31){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function x(t){if(d(t)!==t)throw Error(a(188))}function p(t){var l=t.alternate;if(!l){if(l=d(t),l===null)throw Error(a(188));return l!==t?null:t}for(var r=t,c=l;;){var g=r.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){r=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===r)return x(g),t;if(y===c)return x(g),l;y=y.sibling}throw Error(a(188))}if(r.return!==c.return)r=g,c=y;else{for(var _=!1,S=g.child;S;){if(S===r){_=!0,r=g,c=y;break}if(S===c){_=!0,c=g,r=y;break}S=S.sibling}if(!_){for(S=y.child;S;){if(S===r){_=!0,r=y,c=g;break}if(S===c){_=!0,c=y,r=g;break}S=S.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==c)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:l}function b(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t;for(t=t.child;t!==null;){if(l=b(t),l!==null)return l;t=t.sibling}return null}var v=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function L(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case J:return"Profiler";case U:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case B:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case F:var l=t.render;return t=t.displayName,t||(t=l.displayName||l.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return l=t.displayName||null,l!==null?l:L(t.type)||"Memo";case O:l=t._payload,t=t._init;try{return L(t(l))}catch{}}return null}var K=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},le=[],ie=-1;function A(t){return{current:t}}function Q(t){0>ie||(t.current=le[ie],le[ie]=null,ie--)}function ce(t,l){ie++,le[ie]=t.current,t.current=l}var fe=A(null),me=A(null),ye=A(null),Te=A(null);function Qe(t,l){switch(ce(ye,l),ce(me,t),ce(fe,null),l.nodeType){case 9:case 11:t=(t=l.documentElement)&&(t=t.namespaceURI)?ep(t):0;break;default:if(t=l.tagName,l=l.namespaceURI)l=ep(l),t=tp(l,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(fe),ce(fe,t)}function De(){Q(fe),Q(me),Q(ye)}function _t(t){t.memoizedState!==null&&ce(Te,t);var l=fe.current,r=tp(l,t.type);l!==r&&(ce(me,t),ce(fe,r))}function wt(t){me.current===t&&(Q(fe),Q(me)),Te.current===t&&(Q(Te),Fi._currentValue=G)}var Vn,Ns;function Rt(t){if(Vn===void 0)try{throw Error()}catch(r){var l=r.stack.trim().match(/\n( *(at )?)/);Vn=l&&l[1]||"",Ns=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+t+Ns}var W=!1;function pt(t,l){if(!t||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(l){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Y=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){Y=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){Y=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),_=y[0],S=y[1];if(_&&S){var M=_.split(`
`),V=S.split(`
`);for(g=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(c===M.length||g===V.length)for(c=M.length-1,g=V.length-1;1<=c&&0<=g&&M[c]!==V[g];)g--;for(;1<=c&&0<=g;c--,g--)if(M[c]!==V[g]){if(c!==1||g!==1)do if(c--,g--,0>g||M[c]!==V[g]){var te=`
`+M[c].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=c&&0<=g);break}}}finally{W=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rt(r):""}function ma(t,l){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==l&&l!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return pt(t.type,!1);case 11:return pt(t.type.render,!1);case 1:return pt(t.type,!0);case 31:return Rt("Activity");default:return""}}function pa(t){try{var l="",r=null;do l+=ma(t,r),r=t,t=t.return;while(t);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Js=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,co=n.unstable_shouldYield,uo=n.unstable_requestPaint,gt=n.unstable_now,fo=n.unstable_getCurrentPriorityLevel,ga=n.unstable_ImmediatePriority,Ys=n.unstable_UserBlockingPriority,Ks=n.unstable_NormalPriority,Qs=n.unstable_LowPriority,xa=n.unstable_IdlePriority,ho=n.log,mo=n.unstable_setDisableYieldValue,yn=null,$e=null;function nn(t){if(typeof ho=="function"&&mo(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(yn,t)}catch{}}var xt=Math.clz32?Math.clz32:va,ba=Math.log,ya=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(ba(t)/ya|0)|0}var ue=256,pe=262144,Ne=4194304;function Xe(t){var l=t&42;if(l!==0)return l;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dt(t,l,r){var c=t.pendingLanes;if(c===0)return 0;var g=0,y=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?g=Xe(c):(_&=S,_!==0?g=Xe(_):r||(r=S&~t,r!==0&&(g=Xe(r))))):(S=c&~y,S!==0?g=Xe(S):_!==0?g=Xe(_):r||(r=c&~t,r!==0&&(g=Xe(r)))),g===0?0:l!==0&&l!==g&&(l&y)===0&&(y=g&-g,r=l&-l,y>=r||y===32&&(r&4194048)!==0)?l:g}function sn(t,l){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&l)===0}function Xs(t,l){switch(t){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),t}function _s(t){for(var l=[],r=0;31>r;r++)l.push(t);return l}function ai(t,l){t.pendingLanes|=l,l!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $x(t,l,r,c,g,y){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,V=t.hiddenUpdates;for(r=_&~r;0<r;){var te=31-xt(r),se=1<<te;S[te]=0,M[te]=-1;var Y=V[te];if(Y!==null)for(V[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}r&=~se}c!==0&&Uu(t,c,0),y!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=y&~(_&~l))}function Uu(t,l,r){t.pendingLanes|=l,t.suspendedLanes&=~l;var c=31-xt(l);t.entangledLanes|=l,t.entanglements[c]=t.entanglements[c]|1073741824|r&261930}function Lu(t,l){var r=t.entangledLanes|=l;for(t=t.entanglements;r;){var c=31-xt(r),g=1<<c;g&l|t[c]&l&&(t[c]|=l),r&=~g}}function zu(t,l){var r=l&-l;return r=(r&42)!==0?1:go(r),(r&(t.suspendedLanes|l))!==0?0:r}function go(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Sp(t.type))}function Ou(t,l){var r=$.p;try{return $.p=t,l()}finally{$.p=r}}var Bn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Bn,jt="__reactProps$"+Bn,Zs="__reactContainer$"+Bn,bo="__reactEvents$"+Bn,Fx="__reactListeners$"+Bn,Jx="__reactHandles$"+Bn,qu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function yo(t){delete t[dt],delete t[jt],delete t[bo],delete t[Fx],delete t[Jx]}function Ws(t){var l=t[dt];if(l)return l;for(var r=t.parentNode;r;){if(l=r[Zs]||r[dt]){if(r=l.alternate,l.child!==null||r!==null&&r.child!==null)for(t=op(t);t!==null;){if(r=t[dt])return r;t=op(t)}return l}t=r,r=t.parentNode}return null}function el(t){if(t=t[dt]||t[Zs]){var l=t.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return t}return null}function oi(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t.stateNode;throw Error(a(33))}function tl(t){var l=t[qu];return l||(l=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ot(t){t[ri]=!0}var Gu=new Set,Hu={};function ws(t,l){nl(t,l),nl(t+"Capture",l)}function nl(t,l){for(Hu[t]=l,t=0;t<l.length;t++)Gu.add(l[t])}var Yx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},Bu={};function Kx(t){return Js.call(Bu,t)?!0:Js.call(Vu,t)?!1:Yx.test(t)?Bu[t]=!0:(Vu[t]=!0,!1)}function Na(t,l,r){if(Kx(l))if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(l);return;case"boolean":var c=l.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(l);return}}t.setAttribute(l,""+r)}}function _a(t,l,r){if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttribute(l,""+r)}}function vn(t,l,r,c){if(c===null)t.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(l,r,""+c)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $u(t){var l=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Qx(t,l,r){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,l);if(!t.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(t,l,{configurable:!0,get:function(){return g.call(this)},set:function(_){r=""+_,y.call(this,_)}}),Object.defineProperty(t,l,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[l]}}}}function vo(t){if(!t._valueTracker){var l=$u(t)?"checked":"value";t._valueTracker=Qx(t,l,""+t[l])}}function Fu(t){if(!t)return!1;var l=t._valueTracker;if(!l)return!0;var r=l.getValue(),c="";return t&&(c=$u(t)?t.checked?"true":"false":t.value),t=c,t!==r?(l.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xx=/[\n"\\]/g;function $t(t){return t.replace(Xx,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function No(t,l,r,c,g,y,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),l!=null?_==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+Bt(l)):t.value!==""+Bt(l)&&(t.value=""+Bt(l)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),l!=null?_o(t,_,Bt(l)):r!=null?_o(t,_,Bt(r)):c!=null&&t.removeAttribute("value"),g==null&&y!=null&&(t.defaultChecked=!!y),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function Ju(t,l,r,c,g,y,_,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),l!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){vo(t);return}r=r!=null?""+Bt(r):"",l=l!=null?""+Bt(l):r,S||l===t.value||(t.value=l),t.defaultValue=l}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),vo(t)}function _o(t,l,r){l==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function sl(t,l,r,c){if(t=t.options,l){l={};for(var g=0;g<r.length;g++)l["$"+r[g]]=!0;for(r=0;r<t.length;r++)g=l.hasOwnProperty("$"+t[r].value),t[r].selected!==g&&(t[r].selected=g),g&&c&&(t[r].defaultSelected=!0)}else{for(r=""+Bt(r),l=null,g=0;g<t.length;g++){if(t[g].value===r){t[g].selected=!0,c&&(t[g].defaultSelected=!0);return}l!==null||t[g].disabled||(l=t[g])}l!==null&&(l.selected=!0)}}function Yu(t,l,r){if(l!=null&&(l=""+Bt(l),l!==t.value&&(t.value=l),r==null)){t.defaultValue!==l&&(t.defaultValue=l);return}t.defaultValue=r!=null?""+Bt(r):""}function Ku(t,l,r,c){if(l==null){if(c!=null){if(r!=null)throw Error(a(92));if(K(c)){if(1<c.length)throw Error(a(93));c=c[0]}r=c}r==null&&(r=""),l=r}r=Bt(l),t.defaultValue=r,c=t.textContent,c===r&&c!==""&&c!==null&&(t.value=c),vo(t)}function ll(t,l){if(l){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=l;return}}t.textContent=l}var Zx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(t,l,r){var c=l.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="":c?t.setProperty(l,r):typeof r!="number"||r===0||Zx.has(l)?l==="float"?t.cssFloat=r:t[l]=(""+r).trim():t[l]=r+"px"}function Xu(t,l,r){if(l!=null&&typeof l!="object")throw Error(a(62));if(t=t.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||l!=null&&l.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var g in l)c=l[g],l.hasOwnProperty(g)&&r[g]!==c&&Qu(t,g,c)}else for(var y in l)l.hasOwnProperty(y)&&Qu(t,y,l[y])}function wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return eb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var So=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var il=null,al=null;function Zu(t){var l=el(t);if(l&&(t=l.stateNode)){var r=t[jt]||null;e:switch(t=l.stateNode,l.type){case"input":if(No(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),l=r.name,r.type==="radio"&&l!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$t(""+l)+'"][type="radio"]'),l=0;l<r.length;l++){var c=r[l];if(c!==t&&c.form===t.form){var g=c[jt]||null;if(!g)throw Error(a(90));No(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<r.length;l++)c=r[l],c.form===t.form&&Fu(c)}break e;case"textarea":Yu(t,r.value,r.defaultValue);break e;case"select":l=r.value,l!=null&&sl(t,!!r.multiple,l,!1)}}}var To=!1;function Wu(t,l,r){if(To)return t(l,r);To=!0;try{var c=t(l);return c}finally{if(To=!1,(il!==null||al!==null)&&(ur(),il&&(l=il,t=al,al=il=null,Zu(l),t)))for(l=0;l<t.length;l++)Zu(t[l])}}function ci(t,l){var r=t.stateNode;if(r===null)return null;var c=r[jt]||null;if(c===null)return null;r=c[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,l,typeof r));return r}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=!1;if(_n)try{var di={};Object.defineProperty(di,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Eo=!1}var $n=null,Co=null,ja=null;function ef(){if(ja)return ja;var t,l=Co,r=l.length,c,g="value"in $n?$n.value:$n.textContent,y=g.length;for(t=0;t<r&&l[t]===g[t];t++);var _=r-t;for(c=1;c<=_&&l[r-c]===g[y-c];c++);return ja=g.slice(t,1<c?1-c:void 0)}function Ta(t){var l=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&l===13&&(t=13)):t=l,t===10&&(t=13),32<=t||t===13?t:0}function Ea(){return!0}function tf(){return!1}function Tt(t){function l(r,c,g,y,_){this._reactName=r,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ea:tf,this.isPropagationStopped=tf,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),l}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Tt(Ss),ui=v({},Ss,{view:0,detail:0}),tb=Tt(ui),Ao,ko,fi,Aa=v({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(Ao=t.screenX-fi.screenX,ko=t.screenY-fi.screenY):ko=Ao=0,fi=t),Ao)},movementY:function(t){return"movementY"in t?t.movementY:ko}}),nf=Tt(Aa),nb=v({},Aa,{dataTransfer:0}),sb=Tt(nb),lb=v({},ui,{relatedTarget:0}),Mo=Tt(lb),ib=v({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),ab=Tt(ib),rb=v({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ob=Tt(rb),cb=v({},Ss,{data:0}),sf=Tt(cb),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hb(t){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(t):(t=fb[t])?!!l[t]:!1}function Ro(){return hb}var mb=v({},ui,{key:function(t){if(t.key){var l=db[t.key]||t.key;if(l!=="Unidentified")return l}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ub[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pb=Tt(mb),gb=v({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=Tt(gb),xb=v({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),bb=Tt(xb),yb=v({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),vb=Tt(yb),Nb=v({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_b=Tt(Nb),wb=v({},Ss,{newState:0,oldState:0}),Sb=Tt(wb),jb=[9,13,27,32],Do=_n&&"CompositionEvent"in window,hi=null;_n&&"documentMode"in document&&(hi=document.documentMode);var Tb=_n&&"TextEvent"in window&&!hi,af=_n&&(!Do||hi&&8<hi&&11>=hi),rf=" ",of=!1;function cf(t,l){switch(t){case"keyup":return jb.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function Eb(t,l){switch(t){case"compositionend":return df(l);case"keypress":return l.which!==32?null:(of=!0,rf);case"textInput":return t=l.data,t===rf&&of?null:t;default:return null}}function Cb(t,l){if(rl)return t==="compositionend"||!Do&&cf(t,l)?(t=ef(),ja=Co=$n=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return af&&l.locale!=="ko"?null:l.data;default:return null}}var Ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l==="input"?!!Ab[t.type]:l==="textarea"}function ff(t,l,r,c){il?al?al.push(c):al=[c]:il=c,l=br(l,"onChange"),0<l.length&&(r=new Ca("onChange","change",null,r,c),t.push({event:r,listeners:l}))}var mi=null,pi=null;function kb(t){Ym(t,0)}function ka(t){var l=oi(t);if(Fu(l))return t}function hf(t,l){if(t==="change")return l}var mf=!1;if(_n){var Io;if(_n){var Uo="oninput"in document;if(!Uo){var pf=document.createElement("div");pf.setAttribute("oninput","return;"),Uo=typeof pf.oninput=="function"}Io=Uo}else Io=!1;mf=Io&&(!document.documentMode||9<document.documentMode)}function gf(){mi&&(mi.detachEvent("onpropertychange",xf),pi=mi=null)}function xf(t){if(t.propertyName==="value"&&ka(pi)){var l=[];ff(l,pi,t,jo(t)),Wu(kb,l)}}function Mb(t,l,r){t==="focusin"?(gf(),mi=l,pi=r,mi.attachEvent("onpropertychange",xf)):t==="focusout"&&gf()}function Rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(pi)}function Db(t,l){if(t==="click")return ka(l)}function Ib(t,l){if(t==="input"||t==="change")return ka(l)}function Ub(t,l){return t===l&&(t!==0||1/t===1/l)||t!==t&&l!==l}var It=typeof Object.is=="function"?Object.is:Ub;function gi(t,l){if(It(t,l))return!0;if(typeof t!="object"||t===null||typeof l!="object"||l===null)return!1;var r=Object.keys(t),c=Object.keys(l);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var g=r[c];if(!Js.call(l,g)||!It(t[g],l[g]))return!1}return!0}function bf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yf(t,l){var r=bf(t);t=0;for(var c;r;){if(r.nodeType===3){if(c=t+r.textContent.length,t<=l&&c>=l)return{node:r,offset:l-t};t=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bf(r)}}function vf(t,l){return t&&l?t===l?!0:t&&t.nodeType===3?!1:l&&l.nodeType===3?vf(t,l.parentNode):"contains"in t?t.contains(l):t.compareDocumentPosition?!!(t.compareDocumentPosition(l)&16):!1:!1}function Nf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var l=wa(t.document);l instanceof t.HTMLIFrameElement;){try{var r=typeof l.contentWindow.location.href=="string"}catch{r=!1}if(r)t=l.contentWindow;else break;l=wa(t.document)}return l}function Lo(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l&&(l==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||l==="textarea"||t.contentEditable==="true")}var Lb=_n&&"documentMode"in document&&11>=document.documentMode,ol=null,zo=null,xi=null,Po=!1;function _f(t,l,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Po||ol==null||ol!==wa(c)||(c=ol,"selectionStart"in c&&Lo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xi&&gi(xi,c)||(xi=c,c=br(zo,"onSelect"),0<c.length&&(l=new Ca("onSelect","select",null,l,r),t.push({event:l,listeners:c}),l.target=ol)))}function js(t,l){var r={};return r[t.toLowerCase()]=l.toLowerCase(),r["Webkit"+t]="webkit"+l,r["Moz"+t]="moz"+l,r}var cl={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Oo={},wf={};_n&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Ts(t){if(Oo[t])return Oo[t];if(!cl[t])return t;var l=cl[t],r;for(r in l)if(l.hasOwnProperty(r)&&r in wf)return Oo[t]=l[r];return t}var Sf=Ts("animationend"),jf=Ts("animationiteration"),Tf=Ts("animationstart"),zb=Ts("transitionrun"),Pb=Ts("transitionstart"),Ob=Ts("transitioncancel"),Ef=Ts("transitionend"),Cf=new Map,qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qo.push("scrollEnd");function ln(t,l){Cf.set(t,l),ws(l,[t])}var Ma=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ft=[],dl=0,Go=0;function Ra(){for(var t=dl,l=Go=dl=0;l<t;){var r=Ft[l];Ft[l++]=null;var c=Ft[l];Ft[l++]=null;var g=Ft[l];Ft[l++]=null;var y=Ft[l];if(Ft[l++]=null,c!==null&&g!==null){var _=c.pending;_===null?g.next=g:(g.next=_.next,_.next=g),c.pending=g}y!==0&&Af(r,g,y)}}function Da(t,l,r,c){Ft[dl++]=t,Ft[dl++]=l,Ft[dl++]=r,Ft[dl++]=c,Go|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Ho(t,l,r,c){return Da(t,l,r,c),Ia(t)}function Es(t,l){return Da(t,null,null,l),Ia(t)}function Af(t,l,r){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r);for(var g=!1,y=t.return;y!==null;)y.childLanes|=r,c=y.alternate,c!==null&&(c.childLanes|=r),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(g=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,g&&l!==null&&(g=31-xt(r),t=y.hiddenUpdates,c=t[g],c===null?t[g]=[l]:c.push(l),l.lane=r|536870912),y):null}function Ia(t){if(50<Oi)throw Oi=0,Xc=null,Error(a(185));for(var l=t.return;l!==null;)t=l,l=t.return;return t.tag===3?t.stateNode:null}var ul={};function qb(t,l,r,c){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,l,r,c){return new qb(t,l,r,c)}function Vo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wn(t,l){var r=t.alternate;return r===null?(r=Ut(t.tag,l,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=l,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,l=t.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function kf(t,l){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,l=r.dependencies,t.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),t}function Ua(t,l,r,c,g,y){var _=0;if(c=t,typeof t=="function")Vo(t)&&(_=1);else if(typeof t=="string")_=$y(t,r,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Ut(31,r,l,g),t.elementType=I,t.lanes=y,t;case E:return Cs(r.children,g,y,l);case U:_=8,g|=24;break;case J:return t=Ut(12,r,l,g|2),t.elementType=J,t.lanes=y,t;case ae:return t=Ut(13,r,l,g),t.elementType=ae,t.lanes=y,t;case de:return t=Ut(19,r,l,g),t.elementType=de,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:_=10;break e;case q:_=9;break e;case F:_=11;break e;case T:_=14;break e;case O:_=16,c=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),c=null}return l=Ut(_,r,l,g),l.elementType=t,l.type=c,l.lanes=y,l}function Cs(t,l,r,c){return t=Ut(7,t,c,l),t.lanes=r,t}function Bo(t,l,r){return t=Ut(6,t,null,l),t.lanes=r,t}function Mf(t){var l=Ut(18,null,null,0);return l.stateNode=t,l}function $o(t,l,r){return l=Ut(4,t.children!==null?t.children:[],t.key,l),l.lanes=r,l.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},l}var Rf=new WeakMap;function Jt(t,l){if(typeof t=="object"&&t!==null){var r=Rf.get(t);return r!==void 0?r:(l={value:t,source:l,stack:pa(l)},Rf.set(t,l),l)}return{value:t,source:l,stack:pa(l)}}var fl=[],hl=0,La=null,bi=0,Yt=[],Kt=0,Fn=null,hn=1,mn="";function Sn(t,l){fl[hl++]=bi,fl[hl++]=La,La=t,bi=l}function Df(t,l,r){Yt[Kt++]=hn,Yt[Kt++]=mn,Yt[Kt++]=Fn,Fn=t;var c=hn;t=mn;var g=32-xt(c)-1;c&=~(1<<g),r+=1;var y=32-xt(l)+g;if(30<y){var _=g-g%5;y=(c&(1<<_)-1).toString(32),c>>=_,g-=_,hn=1<<32-xt(l)+g|r<<g|c,mn=y+t}else hn=1<<y|r<<g|c,mn=t}function Fo(t){t.return!==null&&(Sn(t,1),Df(t,1,0))}function Jo(t){for(;t===La;)La=fl[--hl],fl[hl]=null,bi=fl[--hl],fl[hl]=null;for(;t===Fn;)Fn=Yt[--Kt],Yt[Kt]=null,mn=Yt[--Kt],Yt[Kt]=null,hn=Yt[--Kt],Yt[Kt]=null}function If(t,l){Yt[Kt++]=hn,Yt[Kt++]=mn,Yt[Kt++]=Fn,hn=l.id,mn=l.overflow,Fn=t}var ut=null,Je=null,Re=!1,Jn=null,Qt=!1,Yo=Error(a(519));function Yn(t){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yi(Jt(l,t)),Yo}function Uf(t){var l=t.stateNode,r=t.type,c=t.memoizedProps;switch(l[dt]=t,l[jt]=c,r){case"dialog":Ce("cancel",l),Ce("close",l);break;case"iframe":case"object":case"embed":Ce("load",l);break;case"video":case"audio":for(r=0;r<Gi.length;r++)Ce(Gi[r],l);break;case"source":Ce("error",l);break;case"img":case"image":case"link":Ce("error",l),Ce("load",l);break;case"details":Ce("toggle",l);break;case"input":Ce("invalid",l),Ju(l,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ce("invalid",l);break;case"textarea":Ce("invalid",l),Ku(l,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||l.textContent===""+r||c.suppressHydrationWarning===!0||Zm(l.textContent,r)?(c.popover!=null&&(Ce("beforetoggle",l),Ce("toggle",l)),c.onScroll!=null&&Ce("scroll",l),c.onScrollEnd!=null&&Ce("scrollend",l),c.onClick!=null&&(l.onclick=Nn),l=!0):l=!1,l||Yn(t,!0)}function Lf(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ut=ut.return}}function ml(t){if(t!==ut)return!1;if(!Re)return Lf(t),Re=!0,!1;var l=t.tag,r;if((r=l!==3&&l!==27)&&((r=l===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||fd(t.type,t.memoizedProps)),r=!r),r&&Je&&Yn(t),Lf(t),l===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Je=rp(t)}else if(l===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Je=rp(t)}else l===27?(l=Je,os(t.type)?(t=xd,xd=null,Je=t):Je=l):Je=ut?Zt(t.stateNode.nextSibling):null;return!0}function As(){Je=ut=null,Re=!1}function Ko(){var t=Jn;return t!==null&&(kt===null?kt=t:kt.push.apply(kt,t),Jn=null),t}function yi(t){Jn===null?Jn=[t]:Jn.push(t)}var Qo=A(null),ks=null,jn=null;function Kn(t,l,r){ce(Qo,l._currentValue),l._currentValue=r}function Tn(t){t._currentValue=Qo.current,Q(Qo)}function Xo(t,l,r){for(;t!==null;){var c=t.alternate;if((t.childLanes&l)!==l?(t.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),t===r)break;t=t.return}}function Zo(t,l,r,c){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var y=g.dependencies;if(y!==null){var _=g.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=g;for(var M=0;M<l.length;M++)if(S.context===l[M]){y.lanes|=r,S=y.alternate,S!==null&&(S.lanes|=r),Xo(y.return,r,t),c||(_=null);break e}y=S.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(a(341));_.lanes|=r,y=_.alternate,y!==null&&(y.lanes|=r),Xo(_,r,t),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===t){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function pl(t,l,r,c){t=null;for(var g=l,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=g.type;It(g.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(g===Te.current){if(_=g.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Fi):t=[Fi])}g=g.return}t!==null&&Zo(l,t,r,c),l.flags|=262144}function za(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){ks=t,jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return zf(ks,t)}function Pa(t,l){return ks===null&&Ms(t),zf(t,l)}function zf(t,l){var r=l._currentValue;if(l={context:l,memoizedValue:r,next:null},jn===null){if(t===null)throw Error(a(308));jn=l,t.dependencies={lanes:0,firstContext:l},t.flags|=524288}else jn=jn.next=l;return r}var Gb=typeof AbortController<"u"?AbortController:function(){var t=[],l=this.signal={aborted:!1,addEventListener:function(r,c){t.push(c)}};this.abort=function(){l.aborted=!0,t.forEach(function(r){return r()})}},Hb=n.unstable_scheduleCallback,Vb=n.unstable_NormalPriority,st={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new Gb,data:new Map,refCount:0}}function vi(t){t.refCount--,t.refCount===0&&Hb(Vb,function(){t.controller.abort()})}var Ni=null,ec=0,gl=0,xl=null;function Bb(t,l){if(Ni===null){var r=Ni=[];ec=0,gl=sd(),xl={status:"pending",value:void 0,then:function(c){r.push(c)}}}return ec++,l.then(Pf,Pf),l}function Pf(){if(--ec===0&&Ni!==null){xl!==null&&(xl.status="fulfilled");var t=Ni;Ni=null,gl=0,xl=null;for(var l=0;l<t.length;l++)(0,t[l])()}}function $b(t,l){var r=[],c={status:"pending",value:null,reason:null,then:function(g){r.push(g)}};return t.then(function(){c.status="fulfilled",c.value=l;for(var g=0;g<r.length;g++)(0,r[g])(l)},function(g){for(c.status="rejected",c.reason=g,g=0;g<r.length;g++)(0,r[g])(void 0)}),c}var Of=C.S;C.S=function(t,l){_m=gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Bb(t,l),Of!==null&&Of(t,l)};var Rs=A(null);function tc(){var t=Rs.current;return t!==null?t:Be.pooledCache}function Oa(t,l){l===null?ce(Rs,Rs.current):ce(Rs,l.pool)}function qf(){var t=tc();return t===null?null:{parent:st._currentValue,pool:t}}var bl=Error(a(460)),nc=Error(a(474)),qa=Error(a(542)),Ga={then:function(){}};function Gf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hf(t,l,r){switch(r=t[r],r===void 0?t.push(l):r!==l&&(l.then(Nn,Nn),l=r),l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Bf(t),t;default:if(typeof l.status=="string")l.then(Nn,Nn);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=l,t.status="pending",t.then(function(c){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=c}},function(c){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=c}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Bf(t),t}throw Is=l,bl}}function Ds(t){try{var l=t._init;return l(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Is=r,bl):r}}var Is=null;function Vf(){if(Is===null)throw Error(a(459));var t=Is;return Is=null,t}function Bf(t){if(t===bl||t===qa)throw Error(a(483))}var yl=null,_i=0;function Ha(t){var l=_i;return _i+=1,yl===null&&(yl=[]),Hf(yl,t,l)}function wi(t,l){l=l.props.ref,t.ref=l!==void 0?l:null}function Va(t,l){throw l.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(l),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":t)))}function $f(t){function l(z,D){if(t){var H=z.deletions;H===null?(z.deletions=[D],z.flags|=16):H.push(D)}}function r(z,D){if(!t)return null;for(;D!==null;)l(z,D),D=D.sibling;return null}function c(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function g(z,D){return z=wn(z,D),z.index=0,z.sibling=null,z}function y(z,D,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<D?(z.flags|=67108866,D):H):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,D,H,ne){return D===null||D.tag!==6?(D=Bo(H,z.mode,ne),D.return=z,D):(D=g(D,H),D.return=z,D)}function M(z,D,H,ne){var be=H.type;return be===E?te(z,D,H.props.children,ne,H.key):D!==null&&(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&Ds(be)===D.type)?(D=g(D,H.props),wi(D,H),D.return=z,D):(D=Ua(H.type,H.key,H.props,null,z.mode,ne),wi(D,H),D.return=z,D)}function V(z,D,H,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==H.containerInfo||D.stateNode.implementation!==H.implementation?(D=$o(H,z.mode,ne),D.return=z,D):(D=g(D,H.children||[]),D.return=z,D)}function te(z,D,H,ne,be){return D===null||D.tag!==7?(D=Cs(H,z.mode,ne,be),D.return=z,D):(D=g(D,H),D.return=z,D)}function se(z,D,H){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bo(""+D,z.mode,H),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return H=Ua(D.type,D.key,D.props,null,z.mode,H),wi(H,D),H.return=z,H;case j:return D=$o(D,z.mode,H),D.return=z,D;case O:return D=Ds(D),se(z,D,H)}if(K(D)||ee(D))return D=Cs(D,z.mode,H,null),D.return=z,D;if(typeof D.then=="function")return se(z,Ha(D),H);if(D.$$typeof===B)return se(z,Pa(z,D),H);Va(z,D)}return null}function Y(z,D,H,ne){var be=D!==null?D.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return be!==null?null:S(z,D,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===be?M(z,D,H,ne):null;case j:return H.key===be?V(z,D,H,ne):null;case O:return H=Ds(H),Y(z,D,H,ne)}if(K(H)||ee(H))return be!==null?null:te(z,D,H,ne,null);if(typeof H.then=="function")return Y(z,D,Ha(H),ne);if(H.$$typeof===B)return Y(z,D,Pa(z,H),ne);Va(z,H)}return null}function X(z,D,H,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(H)||null,S(D,z,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return z=z.get(ne.key===null?H:ne.key)||null,M(D,z,ne,be);case j:return z=z.get(ne.key===null?H:ne.key)||null,V(D,z,ne,be);case O:return ne=Ds(ne),X(z,D,H,ne,be)}if(K(ne)||ee(ne))return z=z.get(H)||null,te(D,z,ne,be,null);if(typeof ne.then=="function")return X(z,D,H,Ha(ne),be);if(ne.$$typeof===B)return X(z,D,H,Pa(D,ne),be);Va(D,ne)}return null}function ge(z,D,H,ne){for(var be=null,Ue=null,xe=D,Se=D=0,ke=null;xe!==null&&Se<H.length;Se++){xe.index>Se?(ke=xe,xe=null):ke=xe.sibling;var Le=Y(z,xe,H[Se],ne);if(Le===null){xe===null&&(xe=ke);break}t&&xe&&Le.alternate===null&&l(z,xe),D=y(Le,D,Se),Ue===null?be=Le:Ue.sibling=Le,Ue=Le,xe=ke}if(Se===H.length)return r(z,xe),Re&&Sn(z,Se),be;if(xe===null){for(;Se<H.length;Se++)xe=se(z,H[Se],ne),xe!==null&&(D=y(xe,D,Se),Ue===null?be=xe:Ue.sibling=xe,Ue=xe);return Re&&Sn(z,Se),be}for(xe=c(xe);Se<H.length;Se++)ke=X(xe,z,Se,H[Se],ne),ke!==null&&(t&&ke.alternate!==null&&xe.delete(ke.key===null?Se:ke.key),D=y(ke,D,Se),Ue===null?be=ke:Ue.sibling=ke,Ue=ke);return t&&xe.forEach(function(hs){return l(z,hs)}),Re&&Sn(z,Se),be}function ve(z,D,H,ne){if(H==null)throw Error(a(151));for(var be=null,Ue=null,xe=D,Se=D=0,ke=null,Le=H.next();xe!==null&&!Le.done;Se++,Le=H.next()){xe.index>Se?(ke=xe,xe=null):ke=xe.sibling;var hs=Y(z,xe,Le.value,ne);if(hs===null){xe===null&&(xe=ke);break}t&&xe&&hs.alternate===null&&l(z,xe),D=y(hs,D,Se),Ue===null?be=hs:Ue.sibling=hs,Ue=hs,xe=ke}if(Le.done)return r(z,xe),Re&&Sn(z,Se),be;if(xe===null){for(;!Le.done;Se++,Le=H.next())Le=se(z,Le.value,ne),Le!==null&&(D=y(Le,D,Se),Ue===null?be=Le:Ue.sibling=Le,Ue=Le);return Re&&Sn(z,Se),be}for(xe=c(xe);!Le.done;Se++,Le=H.next())Le=X(xe,z,Se,Le.value,ne),Le!==null&&(t&&Le.alternate!==null&&xe.delete(Le.key===null?Se:Le.key),D=y(Le,D,Se),Ue===null?be=Le:Ue.sibling=Le,Ue=Le);return t&&xe.forEach(function(nv){return l(z,nv)}),Re&&Sn(z,Se),be}function Ve(z,D,H,ne){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var be=H.key;D!==null;){if(D.key===be){if(be=H.type,be===E){if(D.tag===7){r(z,D.sibling),ne=g(D,H.props.children),ne.return=z,z=ne;break e}}else if(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===O&&Ds(be)===D.type){r(z,D.sibling),ne=g(D,H.props),wi(ne,H),ne.return=z,z=ne;break e}r(z,D);break}else l(z,D);D=D.sibling}H.type===E?(ne=Cs(H.props.children,z.mode,ne,H.key),ne.return=z,z=ne):(ne=Ua(H.type,H.key,H.props,null,z.mode,ne),wi(ne,H),ne.return=z,z=ne)}return _(z);case j:e:{for(be=H.key;D!==null;){if(D.key===be)if(D.tag===4&&D.stateNode.containerInfo===H.containerInfo&&D.stateNode.implementation===H.implementation){r(z,D.sibling),ne=g(D,H.children||[]),ne.return=z,z=ne;break e}else{r(z,D);break}else l(z,D);D=D.sibling}ne=$o(H,z.mode,ne),ne.return=z,z=ne}return _(z);case O:return H=Ds(H),Ve(z,D,H,ne)}if(K(H))return ge(z,D,H,ne);if(ee(H)){if(be=ee(H),typeof be!="function")throw Error(a(150));return H=be.call(H),ve(z,D,H,ne)}if(typeof H.then=="function")return Ve(z,D,Ha(H),ne);if(H.$$typeof===B)return Ve(z,D,Pa(z,H),ne);Va(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,D!==null&&D.tag===6?(r(z,D.sibling),ne=g(D,H),ne.return=z,z=ne):(r(z,D),ne=Bo(H,z.mode,ne),ne.return=z,z=ne),_(z)):r(z,D)}return function(z,D,H,ne){try{_i=0;var be=Ve(z,D,H,ne);return yl=null,be}catch(xe){if(xe===bl||xe===qa)throw xe;var Ue=Ut(29,xe,null,z.mode);return Ue.lanes=ne,Ue.return=z,Ue}finally{}}}var Us=$f(!0),Ff=$f(!1),Qn=!1;function sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(t,l){t=t.updateQueue,l.updateQueue===t&&(l.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,l,r){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var g=c.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),c.pending=l,l=Ia(t),Af(t,null,r),l}return Da(t,c,l,r),Ia(t)}function Si(t,l,r){if(l=l.updateQueue,l!==null&&(l=l.shared,(r&4194048)!==0)){var c=l.lanes;c&=t.pendingLanes,r|=c,l.lanes=r,Lu(t,r)}}function ic(t,l){var r=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var g=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?g=y=_:y=y.next=_,r=r.next}while(r!==null);y===null?g=y=l:y=y.next=l}else g=y=l;r={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=l:t.next=l,r.lastBaseUpdate=l}var ac=!1;function ji(){if(ac){var t=xl;if(t!==null)throw t}}function Ti(t,l,r,c){ac=!1;var g=t.updateQueue;Qn=!1;var y=g.firstBaseUpdate,_=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var M=S,V=M.next;M.next=null,_===null?y=V:_.next=V,_=M;var te=t.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==_&&(S===null?te.firstBaseUpdate=V:S.next=V,te.lastBaseUpdate=M))}if(y!==null){var se=g.baseState;_=0,te=V=M=null,S=y;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Ae&Y)===Y:(c&Y)===Y){Y!==0&&Y===gl&&(ac=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=t,ve=S;Y=l;var Ve=r;switch(ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){se=ge.call(Ve,se,Y);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,Y=typeof ge=="function"?ge.call(Ve,se,Y):ge,Y==null)break e;se=v({},se,Y);break e;case 2:Qn=!0}}Y=S.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=g.callbacks,X===null?g.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(V=te=X,M=se):te=te.next=X,_|=Y;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;X=S,S=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);te===null&&(M=se),g.baseState=M,g.firstBaseUpdate=V,g.lastBaseUpdate=te,y===null&&(g.shared.lanes=0),ss|=_,t.lanes=_,t.memoizedState=se}}function Jf(t,l){if(typeof t!="function")throw Error(a(191,t));t.call(l)}function Yf(t,l){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Jf(r[t],l)}var vl=A(null),Ba=A(0);function Kf(t,l){t=Un,ce(Ba,t),ce(vl,l),Un=t|l.baseLanes}function rc(){ce(Ba,Un),ce(vl,vl.current)}function oc(){Un=Ba.current,Q(vl),Q(Ba)}var Lt=A(null),Xt=null;function Wn(t){var l=t.alternate;ce(tt,tt.current&1),ce(Lt,t),Xt===null&&(l===null||vl.current!==null||l.memoizedState!==null)&&(Xt=t)}function cc(t){ce(tt,tt.current),ce(Lt,t),Xt===null&&(Xt=t)}function Qf(t){t.tag===22?(ce(tt,tt.current),ce(Lt,t),Xt===null&&(Xt=t)):es()}function es(){ce(tt,tt.current),ce(Lt,Lt.current)}function zt(t){Q(Lt),Xt===t&&(Xt=null),Q(tt)}var tt=A(0);function $a(t){for(var l=t;l!==null;){if(l.tag===13){var r=l.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pd(r)||gd(r)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var En=0,we=null,Ge=null,lt=null,Fa=!1,Nl=!1,Ls=!1,Ja=0,Ei=0,_l=null,Fb=0;function We(){throw Error(a(321))}function dc(t,l){if(l===null)return!1;for(var r=0;r<l.length&&r<t.length;r++)if(!It(t[r],l[r]))return!1;return!0}function uc(t,l,r,c,g,y){return En=y,we=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,C.H=t===null||t.memoizedState===null?Dh:Tc,Ls=!1,y=r(c,g),Ls=!1,Nl&&(y=Zf(l,r,c,g)),Xf(t),y}function Xf(t){C.H=ki;var l=Ge!==null&&Ge.next!==null;if(En=0,lt=Ge=we=null,Fa=!1,Ei=0,_l=null,l)throw Error(a(300));t===null||it||(t=t.dependencies,t!==null&&za(t)&&(it=!0))}function Zf(t,l,r,c){we=t;var g=0;do{if(Nl&&(_l=null),Ei=0,Nl=!1,25<=g)throw Error(a(301));if(g+=1,lt=Ge=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=Ih,y=l(r,c)}while(Nl);return y}function Jb(){var t=C.H,l=t.useState()[0];return l=typeof l.then=="function"?Ci(l):l,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(we.flags|=1024),l}function fc(){var t=Ja!==0;return Ja=0,t}function hc(t,l,r){l.updateQueue=t.updateQueue,l.flags&=-2053,t.lanes&=~r}function mc(t){if(Fa){for(t=t.memoizedState;t!==null;){var l=t.queue;l!==null&&(l.pending=null),t=t.next}Fa=!1}En=0,lt=Ge=we=null,Nl=!1,Ei=Ja=0,_l=null}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?we.memoizedState=lt=t:lt=lt.next=t,lt}function nt(){if(Ge===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var l=lt===null?we.memoizedState:lt.next;if(l!==null)lt=l,Ge=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},lt===null?we.memoizedState=lt=t:lt=lt.next=t}return lt}function Ya(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ci(t){var l=Ei;return Ei+=1,_l===null&&(_l=[]),t=Hf(_l,t,l),l=we,(lt===null?l.memoizedState:lt.next)===null&&(l=l.alternate,C.H=l===null||l.memoizedState===null?Dh:Tc),t}function Ka(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ci(t);if(t.$$typeof===B)return ft(t)}throw Error(a(438,String(t)))}function pc(t){var l=null,r=we.updateQueue;if(r!==null&&(l=r.memoCache),l==null){var c=we.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(l={data:c.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),r===null&&(r=Ya(),we.updateQueue=r),r.memoCache=l,r=l.data[l.index],r===void 0)for(r=l.data[l.index]=Array(t),c=0;c<t;c++)r[c]=k;return l.index++,r}function Cn(t,l){return typeof l=="function"?l(t):l}function Qa(t){var l=nt();return gc(l,Ge,t)}function gc(t,l,r){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var g=t.baseQueue,y=c.pending;if(y!==null){if(g!==null){var _=g.next;g.next=y.next,y.next=_}l.baseQueue=g=y,c.pending=null}if(y=t.baseState,g===null)t.memoizedState=y;else{l=g.next;var S=_=null,M=null,V=l,te=!1;do{var se=V.lane&-536870913;if(se!==V.lane?(Ae&se)===se:(En&se)===se){var Y=V.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),se===gl&&(te=!0);else if((En&Y)===Y){V=V.next,Y===gl&&(te=!0);continue}else se={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(S=M=se,_=y):M=M.next=se,we.lanes|=Y,ss|=Y;se=V.action,Ls&&r(y,se),y=V.hasEagerState?V.eagerState:r(y,se)}else Y={lane:se,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(S=M=Y,_=y):M=M.next=Y,we.lanes|=se,ss|=se;V=V.next}while(V!==null&&V!==l);if(M===null?_=y:M.next=S,!It(y,t.memoizedState)&&(it=!0,te&&(r=xl,r!==null)))throw r;t.memoizedState=y,t.baseState=_,t.baseQueue=M,c.lastRenderedState=y}return g===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function xc(t){var l=nt(),r=l.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var c=r.dispatch,g=r.pending,y=l.memoizedState;if(g!==null){r.pending=null;var _=g=g.next;do y=t(y,_.action),_=_.next;while(_!==g);It(y,l.memoizedState)||(it=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),r.lastRenderedState=y}return[y,c]}function Wf(t,l,r){var c=we,g=nt(),y=Re;if(y){if(r===void 0)throw Error(a(407));r=r()}else r=l();var _=!It((Ge||g).memoizedState,r);if(_&&(g.memoizedState=r,it=!0),g=g.queue,vc(nh.bind(null,c,g,t),[t]),g.getSnapshot!==l||_||lt!==null&&lt.memoizedState.tag&1){if(c.flags|=2048,wl(9,{destroy:void 0},th.bind(null,c,g,r,l),null),Be===null)throw Error(a(349));y||(En&127)!==0||eh(c,l,r)}return r}function eh(t,l,r){t.flags|=16384,t={getSnapshot:l,value:r},l=we.updateQueue,l===null?(l=Ya(),we.updateQueue=l,l.stores=[t]):(r=l.stores,r===null?l.stores=[t]:r.push(t))}function th(t,l,r,c){l.value=r,l.getSnapshot=c,sh(l)&&lh(t)}function nh(t,l,r){return r(function(){sh(l)&&lh(t)})}function sh(t){var l=t.getSnapshot;t=t.value;try{var r=l();return!It(t,r)}catch{return!0}}function lh(t){var l=Es(t,2);l!==null&&Mt(l,t,2)}function bc(t){var l=St();if(typeof t=="function"){var r=t;if(t=r(),Ls){nn(!0);try{r()}finally{nn(!1)}}}return l.memoizedState=l.baseState=t,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:t},l}function ih(t,l,r,c){return t.baseState=r,gc(t,Ge,typeof c=="function"?c:Cn)}function Yb(t,l,r,c,g){if(Wa(t))throw Error(a(485));if(t=l.action,t!==null){var y={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};C.T!==null?r(!0):y.isTransition=!1,c(y),r=l.pending,r===null?(y.next=l.pending=y,ah(l,y)):(y.next=r.next,l.pending=r.next=y)}}function ah(t,l){var r=l.action,c=l.payload,g=t.state;if(l.isTransition){var y=C.T,_={};C.T=_;try{var S=r(g,c),M=C.S;M!==null&&M(_,S),rh(t,l,S)}catch(V){yc(t,l,V)}finally{y!==null&&_.types!==null&&(y.types=_.types),C.T=y}}else try{y=r(g,c),rh(t,l,y)}catch(V){yc(t,l,V)}}function rh(t,l,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){oh(t,l,c)},function(c){return yc(t,l,c)}):oh(t,l,r)}function oh(t,l,r){l.status="fulfilled",l.value=r,ch(l),t.state=r,l=t.pending,l!==null&&(r=l.next,r===l?t.pending=null:(r=r.next,l.next=r,ah(t,r)))}function yc(t,l,r){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do l.status="rejected",l.reason=r,ch(l),l=l.next;while(l!==c)}t.action=null}function ch(t){t=t.listeners;for(var l=0;l<t.length;l++)(0,t[l])()}function dh(t,l){return l}function uh(t,l){if(Re){var r=Be.formState;if(r!==null){e:{var c=we;if(Re){if(Je){t:{for(var g=Je,y=Qt;g.nodeType!==8;){if(!y){g=null;break t}if(g=Zt(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Je=Zt(g.nextSibling),c=g.data==="F!";break e}}Yn(c)}c=!1}c&&(l=r[0])}}return r=St(),r.memoizedState=r.baseState=l,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:l},r.queue=c,r=kh.bind(null,we,c),c.dispatch=r,c=bc(!1),y=jc.bind(null,we,!1,c.queue),c=St(),g={state:l,dispatch:null,action:t,pending:null},c.queue=g,r=Yb.bind(null,we,g,y,r),g.dispatch=r,c.memoizedState=t,[l,r,!1]}function fh(t){var l=nt();return hh(l,Ge,t)}function hh(t,l,r){if(l=gc(t,l,dh)[0],t=Qa(Cn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var c=Ci(l)}catch(_){throw _===bl?qa:_}else c=l;l=nt();var g=l.queue,y=g.dispatch;return r!==l.memoizedState&&(we.flags|=2048,wl(9,{destroy:void 0},Kb.bind(null,g,r),null)),[c,y,t]}function Kb(t,l){t.action=l}function mh(t){var l=nt(),r=Ge;if(r!==null)return hh(l,r,t);nt(),l=l.memoizedState,r=nt();var c=r.queue.dispatch;return r.memoizedState=t,[l,c,!1]}function wl(t,l,r,c){return t={tag:t,create:r,deps:c,inst:l,next:null},l=we.updateQueue,l===null&&(l=Ya(),we.updateQueue=l),r=l.lastEffect,r===null?l.lastEffect=t.next=t:(c=r.next,r.next=t,t.next=c,l.lastEffect=t),t}function ph(){return nt().memoizedState}function Xa(t,l,r,c){var g=St();we.flags|=t,g.memoizedState=wl(1|l,{destroy:void 0},r,c===void 0?null:c)}function Za(t,l,r,c){var g=nt();c=c===void 0?null:c;var y=g.memoizedState.inst;Ge!==null&&c!==null&&dc(c,Ge.memoizedState.deps)?g.memoizedState=wl(l,y,r,c):(we.flags|=t,g.memoizedState=wl(1|l,y,r,c))}function gh(t,l){Xa(8390656,8,t,l)}function vc(t,l){Za(2048,8,t,l)}function Qb(t){we.flags|=4;var l=we.updateQueue;if(l===null)l=Ya(),we.updateQueue=l,l.events=[t];else{var r=l.events;r===null?l.events=[t]:r.push(t)}}function xh(t){var l=nt().memoizedState;return Qb({ref:l,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function bh(t,l){return Za(4,2,t,l)}function yh(t,l){return Za(4,4,t,l)}function vh(t,l){if(typeof l=="function"){t=t();var r=l(t);return function(){typeof r=="function"?r():l(null)}}if(l!=null)return t=t(),l.current=t,function(){l.current=null}}function Nh(t,l,r){r=r!=null?r.concat([t]):null,Za(4,4,vh.bind(null,l,t),r)}function Nc(){}function _h(t,l){var r=nt();l=l===void 0?null:l;var c=r.memoizedState;return l!==null&&dc(l,c[1])?c[0]:(r.memoizedState=[t,l],t)}function wh(t,l){var r=nt();l=l===void 0?null:l;var c=r.memoizedState;if(l!==null&&dc(l,c[1]))return c[0];if(c=t(),Ls){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[c,l],c}function _c(t,l,r){return r===void 0||(En&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=l:(t.memoizedState=r,t=Sm(),we.lanes|=t,ss|=t,r)}function Sh(t,l,r,c){return It(r,l)?r:vl.current!==null?(t=_c(t,r,c),It(t,l)||(it=!0),t):(En&42)===0||(En&1073741824)!==0&&(Ae&261930)===0?(it=!0,t.memoizedState=r):(t=Sm(),we.lanes|=t,ss|=t,l)}function jh(t,l,r,c,g){var y=$.p;$.p=y!==0&&8>y?y:8;var _=C.T,S={};C.T=S,jc(t,!1,l,r);try{var M=g(),V=C.S;if(V!==null&&V(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=$b(M,c);Ai(t,l,te,qt(t))}else Ai(t,l,c,qt(t))}catch(se){Ai(t,l,{then:function(){},status:"rejected",reason:se},qt())}finally{$.p=y,_!==null&&S.types!==null&&(_.types=S.types),C.T=_}}function Xb(){}function wc(t,l,r,c){if(t.tag!==5)throw Error(a(476));var g=Th(t).queue;jh(t,g,l,G,r===null?Xb:function(){return Eh(t),r(c)})}function Th(t){var l=t.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:G},next:null};var r={};return l.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:r},next:null},t.memoizedState=l,t=t.alternate,t!==null&&(t.memoizedState=l),l}function Eh(t){var l=Th(t);l.next===null&&(l=t.alternate.memoizedState),Ai(t,l.next.queue,{},qt())}function Sc(){return ft(Fi)}function Ch(){return nt().memoizedState}function Ah(){return nt().memoizedState}function Zb(t){for(var l=t.return;l!==null;){switch(l.tag){case 24:case 3:var r=qt();t=Xn(r);var c=Zn(l,t,r);c!==null&&(Mt(c,l,r),Si(c,l,r)),l={cache:Wo()},t.payload=l;return}l=l.return}}function Wb(t,l,r){var c=qt();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wa(t)?Mh(l,r):(r=Ho(t,l,r,c),r!==null&&(Mt(r,t,c),Rh(r,l,c)))}function kh(t,l,r){var c=qt();Ai(t,l,r,c)}function Ai(t,l,r,c){var g={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wa(t))Mh(l,g);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var _=l.lastRenderedState,S=y(_,r);if(g.hasEagerState=!0,g.eagerState=S,It(S,_))return Da(t,l,g,0),Be===null&&Ra(),!1}catch{}finally{}if(r=Ho(t,l,g,c),r!==null)return Mt(r,t,c),Rh(r,l,c),!0}return!1}function jc(t,l,r,c){if(c={lane:2,revertLane:sd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wa(t)){if(l)throw Error(a(479))}else l=Ho(t,r,c,2),l!==null&&Mt(l,t,2)}function Wa(t){var l=t.alternate;return t===we||l!==null&&l===we}function Mh(t,l){Nl=Fa=!0;var r=t.pending;r===null?l.next=l:(l.next=r.next,r.next=l),t.pending=l}function Rh(t,l,r){if((r&4194048)!==0){var c=l.lanes;c&=t.pendingLanes,r|=c,l.lanes=r,Lu(t,r)}}var ki={readContext:ft,use:Ka,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};ki.useEffectEvent=We;var Dh={readContext:ft,use:Ka,useCallback:function(t,l){return St().memoizedState=[t,l===void 0?null:l],t},useContext:ft,useEffect:gh,useImperativeHandle:function(t,l,r){r=r!=null?r.concat([t]):null,Xa(4194308,4,vh.bind(null,l,t),r)},useLayoutEffect:function(t,l){return Xa(4194308,4,t,l)},useInsertionEffect:function(t,l){Xa(4,2,t,l)},useMemo:function(t,l){var r=St();l=l===void 0?null:l;var c=t();if(Ls){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[c,l],c},useReducer:function(t,l,r){var c=St();if(r!==void 0){var g=r(l);if(Ls){nn(!0);try{r(l)}finally{nn(!1)}}}else g=l;return c.memoizedState=c.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},c.queue=t,t=t.dispatch=Wb.bind(null,we,t),[c.memoizedState,t]},useRef:function(t){var l=St();return t={current:t},l.memoizedState=t},useState:function(t){t=bc(t);var l=t.queue,r=kh.bind(null,we,l);return l.dispatch=r,[t.memoizedState,r]},useDebugValue:Nc,useDeferredValue:function(t,l){var r=St();return _c(r,t,l)},useTransition:function(){var t=bc(!1);return t=jh.bind(null,we,t.queue,!0,!1),St().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,l,r){var c=we,g=St();if(Re){if(r===void 0)throw Error(a(407));r=r()}else{if(r=l(),Be===null)throw Error(a(349));(Ae&127)!==0||eh(c,l,r)}g.memoizedState=r;var y={value:r,getSnapshot:l};return g.queue=y,gh(nh.bind(null,c,y,t),[t]),c.flags|=2048,wl(9,{destroy:void 0},th.bind(null,c,y,r,l),null),r},useId:function(){var t=St(),l=Be.identifierPrefix;if(Re){var r=mn,c=hn;r=(c&~(1<<32-xt(c)-1)).toString(32)+r,l="_"+l+"R_"+r,r=Ja++,0<r&&(l+="H"+r.toString(32)),l+="_"}else r=Fb++,l="_"+l+"r_"+r.toString(32)+"_";return t.memoizedState=l},useHostTransitionStatus:Sc,useFormState:uh,useActionState:uh,useOptimistic:function(t){var l=St();l.memoizedState=l.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=r,l=jc.bind(null,we,!0,r),r.dispatch=l,[t,l]},useMemoCache:pc,useCacheRefresh:function(){return St().memoizedState=Zb.bind(null,we)},useEffectEvent:function(t){var l=St(),r={impl:t};return l.memoizedState=r,function(){if((Pe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Tc={readContext:ft,use:Ka,useCallback:_h,useContext:ft,useEffect:vc,useImperativeHandle:Nh,useInsertionEffect:bh,useLayoutEffect:yh,useMemo:wh,useReducer:Qa,useRef:ph,useState:function(){return Qa(Cn)},useDebugValue:Nc,useDeferredValue:function(t,l){var r=nt();return Sh(r,Ge.memoizedState,t,l)},useTransition:function(){var t=Qa(Cn)[0],l=nt().memoizedState;return[typeof t=="boolean"?t:Ci(t),l]},useSyncExternalStore:Wf,useId:Ch,useHostTransitionStatus:Sc,useFormState:fh,useActionState:fh,useOptimistic:function(t,l){var r=nt();return ih(r,Ge,t,l)},useMemoCache:pc,useCacheRefresh:Ah};Tc.useEffectEvent=xh;var Ih={readContext:ft,use:Ka,useCallback:_h,useContext:ft,useEffect:vc,useImperativeHandle:Nh,useInsertionEffect:bh,useLayoutEffect:yh,useMemo:wh,useReducer:xc,useRef:ph,useState:function(){return xc(Cn)},useDebugValue:Nc,useDeferredValue:function(t,l){var r=nt();return Ge===null?_c(r,t,l):Sh(r,Ge.memoizedState,t,l)},useTransition:function(){var t=xc(Cn)[0],l=nt().memoizedState;return[typeof t=="boolean"?t:Ci(t),l]},useSyncExternalStore:Wf,useId:Ch,useHostTransitionStatus:Sc,useFormState:mh,useActionState:mh,useOptimistic:function(t,l){var r=nt();return Ge!==null?ih(r,Ge,t,l):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:pc,useCacheRefresh:Ah};Ih.useEffectEvent=xh;function Ec(t,l,r,c){l=t.memoizedState,r=r(c,l),r=r==null?l:v({},l,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cc={enqueueSetState:function(t,l,r){t=t._reactInternals;var c=qt(),g=Xn(c);g.payload=l,r!=null&&(g.callback=r),l=Zn(t,g,c),l!==null&&(Mt(l,t,c),Si(l,t,c))},enqueueReplaceState:function(t,l,r){t=t._reactInternals;var c=qt(),g=Xn(c);g.tag=1,g.payload=l,r!=null&&(g.callback=r),l=Zn(t,g,c),l!==null&&(Mt(l,t,c),Si(l,t,c))},enqueueForceUpdate:function(t,l){t=t._reactInternals;var r=qt(),c=Xn(r);c.tag=2,l!=null&&(c.callback=l),l=Zn(t,c,r),l!==null&&(Mt(l,t,r),Si(l,t,r))}};function Uh(t,l,r,c,g,y,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,_):l.prototype&&l.prototype.isPureReactComponent?!gi(r,c)||!gi(g,y):!0}function Lh(t,l,r,c){t=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(r,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(r,c),l.state!==t&&Cc.enqueueReplaceState(l,l.state,null)}function zs(t,l){var r=l;if("ref"in l){r={};for(var c in l)c!=="ref"&&(r[c]=l[c])}if(t=t.defaultProps){r===l&&(r=v({},r));for(var g in t)r[g]===void 0&&(r[g]=t[g])}return r}function zh(t){Ma(t)}function Ph(t){console.error(t)}function Oh(t){Ma(t)}function er(t,l){try{var r=t.onUncaughtError;r(l.value,{componentStack:l.stack})}catch(c){setTimeout(function(){throw c})}}function qh(t,l,r){try{var c=t.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ac(t,l,r){return r=Xn(r),r.tag=3,r.payload={element:null},r.callback=function(){er(t,l)},r}function Gh(t){return t=Xn(t),t.tag=3,t}function Hh(t,l,r,c){var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;t.payload=function(){return g(y)},t.callback=function(){qh(l,r,c)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qh(l,r,c),typeof g!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function ey(t,l,r,c,g){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(l=r.alternate,l!==null&&pl(l,r,g,!0),r=Lt.current,r!==null){switch(r.tag){case 31:case 13:return Xt===null?fr():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=g,c===Ga?r.flags|=16384:(l=r.updateQueue,l===null?r.updateQueue=new Set([c]):l.add(c),ed(t,c,g)),!1;case 22:return r.flags|=65536,c===Ga?r.flags|=16384:(l=r.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=l):(r=l.retryQueue,r===null?l.retryQueue=new Set([c]):r.add(c)),ed(t,c,g)),!1}throw Error(a(435,r.tag))}return ed(t,c,g),fr(),!1}if(Re)return l=Lt.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,c!==Yo&&(t=Error(a(422),{cause:c}),yi(Jt(t,r)))):(c!==Yo&&(l=Error(a(423),{cause:c}),yi(Jt(l,r))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,c=Jt(c,r),g=Ac(t.stateNode,c,g),ic(t,g),et!==4&&(et=2)),!1;var y=Error(a(520),{cause:c});if(y=Jt(y,r),Pi===null?Pi=[y]:Pi.push(y),et!==4&&(et=2),l===null)return!0;c=Jt(c,r),r=l;do{switch(r.tag){case 3:return r.flags|=65536,t=g&-g,r.lanes|=t,t=Ac(r.stateNode,c,t),ic(r,t),!1;case 1:if(l=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ls===null||!ls.has(y))))return r.flags|=65536,g&=-g,r.lanes|=g,g=Gh(g),Hh(g,t,r,c),ic(r,g),!1}r=r.return}while(r!==null);return!1}var kc=Error(a(461)),it=!1;function ht(t,l,r,c){l.child=t===null?Ff(l,null,r,c):Us(l,t.child,r,c)}function Vh(t,l,r,c,g){r=r.render;var y=l.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return Ms(l),c=uc(t,l,r,_,y,g),S=fc(),t!==null&&!it?(hc(t,l,g),An(t,l,g)):(Re&&S&&Fo(l),l.flags|=1,ht(t,l,c,g),l.child)}function Bh(t,l,r,c,g){if(t===null){var y=r.type;return typeof y=="function"&&!Vo(y)&&y.defaultProps===void 0&&r.compare===null?(l.tag=15,l.type=y,$h(t,l,y,c,g)):(t=Ua(r.type,null,c,l,l.mode,g),t.ref=l.ref,t.return=l,l.child=t)}if(y=t.child,!Pc(t,g)){var _=y.memoizedProps;if(r=r.compare,r=r!==null?r:gi,r(_,c)&&t.ref===l.ref)return An(t,l,g)}return l.flags|=1,t=wn(y,c),t.ref=l.ref,t.return=l,l.child=t}function $h(t,l,r,c,g){if(t!==null){var y=t.memoizedProps;if(gi(y,c)&&t.ref===l.ref)if(it=!1,l.pendingProps=c=y,Pc(t,g))(t.flags&131072)!==0&&(it=!0);else return l.lanes=t.lanes,An(t,l,g)}return Mc(t,l,r,c,g)}function Fh(t,l,r,c){var g=c.children,y=t!==null?t.memoizedState:null;if(t===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,t!==null){for(c=l.child=t.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,l.child=null;return Jh(t,l,y,r,c)}if((r&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oa(l,y!==null?y.cachePool:null),y!==null?Kf(l,y):rc(),Qf(l);else return c=l.lanes=536870912,Jh(t,l,y!==null?y.baseLanes|r:r,r,c)}else y!==null?(Oa(l,y.cachePool),Kf(l,y),es(),l.memoizedState=null):(t!==null&&Oa(l,null),rc(),es());return ht(t,l,g,r),l.child}function Mi(t,l){return t!==null&&t.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Jh(t,l,r,c,g){var y=tc();return y=y===null?null:{parent:st._currentValue,pool:y},l.memoizedState={baseLanes:r,cachePool:y},t!==null&&Oa(l,null),rc(),Qf(l),t!==null&&pl(t,l,c,!0),l.childLanes=g,null}function tr(t,l){return l=sr({mode:l.mode,children:l.children},t.mode),l.ref=t.ref,t.child=l,l.return=t,l}function Yh(t,l,r){return Us(l,t.child,null,r),t=tr(l,l.pendingProps),t.flags|=2,zt(l),l.memoizedState=null,t}function ty(t,l,r){var c=l.pendingProps,g=(l.flags&128)!==0;if(l.flags&=-129,t===null){if(Re){if(c.mode==="hidden")return t=tr(l,c),l.lanes=536870912,Mi(null,t);if(cc(l),(t=Je)?(t=ap(t,Qt),t=t!==null&&t.data==="&"?t:null,t!==null&&(l.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:hn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},r=Mf(t),r.return=l,l.child=r,ut=l,Je=null)):t=null,t===null)throw Yn(l);return l.lanes=536870912,null}return tr(l,c)}var y=t.memoizedState;if(y!==null){var _=y.dehydrated;if(cc(l),g)if(l.flags&256)l.flags&=-257,l=Yh(t,l,r);else if(l.memoizedState!==null)l.child=t.child,l.flags|=128,l=null;else throw Error(a(558));else if(it||pl(t,l,r,!1),g=(r&t.childLanes)!==0,it||g){if(c=Be,c!==null&&(_=zu(c,r),_!==0&&_!==y.retryLane))throw y.retryLane=_,Es(t,_),Mt(c,t,_),kc;fr(),l=Yh(t,l,r)}else t=y.treeContext,Je=Zt(_.nextSibling),ut=l,Re=!0,Jn=null,Qt=!1,t!==null&&If(l,t),l=tr(l,c),l.flags|=4096;return l}return t=wn(t.child,{mode:c.mode,children:c.children}),t.ref=l.ref,l.child=t,t.return=l,t}function nr(t,l){var r=l.ref;if(r===null)t!==null&&t.ref!==null&&(l.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(l.flags|=4194816)}}function Mc(t,l,r,c,g){return Ms(l),r=uc(t,l,r,c,void 0,g),c=fc(),t!==null&&!it?(hc(t,l,g),An(t,l,g)):(Re&&c&&Fo(l),l.flags|=1,ht(t,l,r,g),l.child)}function Kh(t,l,r,c,g,y){return Ms(l),l.updateQueue=null,r=Zf(l,c,r,g),Xf(t),c=fc(),t!==null&&!it?(hc(t,l,y),An(t,l,y)):(Re&&c&&Fo(l),l.flags|=1,ht(t,l,r,y),l.child)}function Qh(t,l,r,c,g){if(Ms(l),l.stateNode===null){var y=ul,_=r.contextType;typeof _=="object"&&_!==null&&(y=ft(_)),y=new r(c,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cc,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=c,y.state=l.memoizedState,y.refs={},sc(l),_=r.contextType,y.context=typeof _=="object"&&_!==null?ft(_):ul,y.state=l.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Ec(l,r,_,c),y.state=l.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Cc.enqueueReplaceState(y,y.state,null),Ti(l,c,y,g),ji(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),c=!0}else if(t===null){y=l.stateNode;var S=l.memoizedProps,M=zs(r,S);y.props=M;var V=y.context,te=r.contextType;_=ul,typeof te=="object"&&te!==null&&(_=ft(te));var se=r.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=l.pendingProps!==S,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||V!==_)&&Lh(l,y,c,_),Qn=!1;var Y=l.memoizedState;y.state=Y,Ti(l,c,y,g),ji(),V=l.memoizedState,S||Y!==V||Qn?(typeof se=="function"&&(Ec(l,r,se,c),V=l.memoizedState),(M=Qn||Uh(l,r,M,c,Y,V,_))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=V),y.props=c,y.state=V,y.context=_,c=M):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{y=l.stateNode,lc(t,l),_=l.memoizedProps,te=zs(r,_),y.props=te,se=l.pendingProps,Y=y.context,V=r.contextType,M=ul,typeof V=="object"&&V!==null&&(M=ft(V)),S=r.getDerivedStateFromProps,(V=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==se||Y!==M)&&Lh(l,y,c,M),Qn=!1,Y=l.memoizedState,y.state=Y,Ti(l,c,y,g),ji();var X=l.memoizedState;_!==se||Y!==X||Qn||t!==null&&t.dependencies!==null&&za(t.dependencies)?(typeof S=="function"&&(Ec(l,r,S,c),X=l.memoizedState),(te=Qn||Uh(l,r,te,c,Y,X,M)||t!==null&&t.dependencies!==null&&za(t.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,X,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,X,M)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=X),y.props=c,y.state=X,y.context=M,c=te):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(l.flags|=1024),c=!1)}return y=c,nr(t,l),c=(l.flags&128)!==0,y||c?(y=l.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,t!==null&&c?(l.child=Us(l,t.child,null,g),l.child=Us(l,null,r,g)):ht(t,l,r,g),l.memoizedState=y.state,t=l.child):t=An(t,l,g),t}function Xh(t,l,r,c){return As(),l.flags|=256,ht(t,l,r,c),l.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(t){return{baseLanes:t,cachePool:qf()}}function Ic(t,l,r){return t=t!==null?t.childLanes&~r:0,l&&(t|=Ot),t}function Zh(t,l,r){var c=l.pendingProps,g=!1,y=(l.flags&128)!==0,_;if((_=y)||(_=t!==null&&t.memoizedState===null?!1:(tt.current&2)!==0),_&&(g=!0,l.flags&=-129),_=(l.flags&32)!==0,l.flags&=-33,t===null){if(Re){if(g?Wn(l):es(),(t=Je)?(t=ap(t,Qt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(l.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:hn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},r=Mf(t),r.return=l,l.child=r,ut=l,Je=null)):t=null,t===null)throw Yn(l);return gd(t)?l.lanes=32:l.lanes=536870912,null}var S=c.children;return c=c.fallback,g?(es(),g=l.mode,S=sr({mode:"hidden",children:S},g),c=Cs(c,g,r,null),S.return=l,c.return=l,S.sibling=c,l.child=S,c=l.child,c.memoizedState=Dc(r),c.childLanes=Ic(t,_,r),l.memoizedState=Rc,Mi(null,c)):(Wn(l),Uc(l,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(y)l.flags&256?(Wn(l),l.flags&=-257,l=Lc(t,l,r)):l.memoizedState!==null?(es(),l.child=t.child,l.flags|=128,l=null):(es(),S=c.fallback,g=l.mode,c=sr({mode:"visible",children:c.children},g),S=Cs(S,g,r,null),S.flags|=2,c.return=l,S.return=l,c.sibling=S,l.child=c,Us(l,t.child,null,r),c=l.child,c.memoizedState=Dc(r),c.childLanes=Ic(t,_,r),l.memoizedState=Rc,l=Mi(null,c));else if(Wn(l),gd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var V=_.dgst;_=V,c=Error(a(419)),c.stack="",c.digest=_,yi({value:c,source:null,stack:null}),l=Lc(t,l,r)}else if(it||pl(t,l,r,!1),_=(r&t.childLanes)!==0,it||_){if(_=Be,_!==null&&(c=zu(_,r),c!==0&&c!==M.retryLane))throw M.retryLane=c,Es(t,c),Mt(_,t,c),kc;pd(S)||fr(),l=Lc(t,l,r)}else pd(S)?(l.flags|=192,l.child=t.child,l=null):(t=M.treeContext,Je=Zt(S.nextSibling),ut=l,Re=!0,Jn=null,Qt=!1,t!==null&&If(l,t),l=Uc(l,c.children),l.flags|=4096);return l}return g?(es(),S=c.fallback,g=l.mode,M=t.child,V=M.sibling,c=wn(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,V!==null?S=wn(V,S):(S=Cs(S,g,r,null),S.flags|=2),S.return=l,c.return=l,c.sibling=S,l.child=c,Mi(null,c),c=l.child,S=t.child.memoizedState,S===null?S=Dc(r):(g=S.cachePool,g!==null?(M=st._currentValue,g=g.parent!==M?{parent:M,pool:M}:g):g=qf(),S={baseLanes:S.baseLanes|r,cachePool:g}),c.memoizedState=S,c.childLanes=Ic(t,_,r),l.memoizedState=Rc,Mi(t.child,c)):(Wn(l),r=t.child,t=r.sibling,r=wn(r,{mode:"visible",children:c.children}),r.return=l,r.sibling=null,t!==null&&(_=l.deletions,_===null?(l.deletions=[t],l.flags|=16):_.push(t)),l.child=r,l.memoizedState=null,r)}function Uc(t,l){return l=sr({mode:"visible",children:l},t.mode),l.return=t,t.child=l}function sr(t,l){return t=Ut(22,t,null,l),t.lanes=0,t}function Lc(t,l,r){return Us(l,t.child,null,r),t=Uc(l,l.pendingProps.children),t.flags|=2,l.memoizedState=null,t}function Wh(t,l,r){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l),Xo(t.return,l,r)}function zc(t,l,r,c,g,y){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:g,treeForkCount:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=r,_.tailMode=g,_.treeForkCount=y)}function em(t,l,r){var c=l.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var _=tt.current,S=(_&2)!==0;if(S?(_=_&1|2,l.flags|=128):_&=1,ce(tt,_),ht(t,l,c,r),c=Re?bi:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=l.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wh(t,r,l);else if(t.tag===19)Wh(t,r,l);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break e;for(;t.sibling===null;){if(t.return===null||t.return===l)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(r=l.child,g=null;r!==null;)t=r.alternate,t!==null&&$a(t)===null&&(g=r),r=r.sibling;r=g,r===null?(g=l.child,l.child=null):(g=r.sibling,r.sibling=null),zc(l,!1,g,r,y,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,g=l.child,l.child=null;g!==null;){if(t=g.alternate,t!==null&&$a(t)===null){l.child=g;break}t=g.sibling,g.sibling=r,r=g,g=t}zc(l,!0,r,null,y,c);break;case"together":zc(l,!1,null,null,void 0,c);break;default:l.memoizedState=null}return l.child}function An(t,l,r){if(t!==null&&(l.dependencies=t.dependencies),ss|=l.lanes,(r&l.childLanes)===0)if(t!==null){if(pl(t,l,r,!1),(r&l.childLanes)===0)return null}else return null;if(t!==null&&l.child!==t.child)throw Error(a(153));if(l.child!==null){for(t=l.child,r=wn(t,t.pendingProps),l.child=r,r.return=l;t.sibling!==null;)t=t.sibling,r=r.sibling=wn(t,t.pendingProps),r.return=l;r.sibling=null}return l.child}function Pc(t,l){return(t.lanes&l)!==0?!0:(t=t.dependencies,!!(t!==null&&za(t)))}function ny(t,l,r){switch(l.tag){case 3:Qe(l,l.stateNode.containerInfo),Kn(l,st,t.memoizedState.cache),As();break;case 27:case 5:_t(l);break;case 4:Qe(l,l.stateNode.containerInfo);break;case 10:Kn(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,cc(l),null;break;case 13:var c=l.memoizedState;if(c!==null)return c.dehydrated!==null?(Wn(l),l.flags|=128,null):(r&l.child.childLanes)!==0?Zh(t,l,r):(Wn(l),t=An(t,l,r),t!==null?t.sibling:null);Wn(l);break;case 19:var g=(t.flags&128)!==0;if(c=(r&l.childLanes)!==0,c||(pl(t,l,r,!1),c=(r&l.childLanes)!==0),g){if(c)return em(t,l,r);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ce(tt,tt.current),c)break;return null;case 22:return l.lanes=0,Fh(t,l,r,l.pendingProps);case 24:Kn(l,st,t.memoizedState.cache)}return An(t,l,r)}function tm(t,l,r){if(t!==null)if(t.memoizedProps!==l.pendingProps)it=!0;else{if(!Pc(t,r)&&(l.flags&128)===0)return it=!1,ny(t,l,r);it=(t.flags&131072)!==0}else it=!1,Re&&(l.flags&1048576)!==0&&Df(l,bi,l.index);switch(l.lanes=0,l.tag){case 16:e:{var c=l.pendingProps;if(t=Ds(l.elementType),l.type=t,typeof t=="function")Vo(t)?(c=zs(t,c),l.tag=1,l=Qh(null,l,t,c,r)):(l.tag=0,l=Mc(null,l,t,c,r));else{if(t!=null){var g=t.$$typeof;if(g===F){l.tag=11,l=Vh(null,l,t,c,r);break e}else if(g===T){l.tag=14,l=Bh(null,l,t,c,r);break e}}throw l=L(t)||t,Error(a(306,l,""))}}return l;case 0:return Mc(t,l,l.type,l.pendingProps,r);case 1:return c=l.type,g=zs(c,l.pendingProps),Qh(t,l,c,g,r);case 3:e:{if(Qe(l,l.stateNode.containerInfo),t===null)throw Error(a(387));c=l.pendingProps;var y=l.memoizedState;g=y.element,lc(t,l),Ti(l,c,null,r);var _=l.memoizedState;if(c=_.cache,Kn(l,st,c),c!==y.cache&&Zo(l,[st],r,!0),ji(),c=_.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:_.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=Xh(t,l,c,r);break e}else if(c!==g){g=Jt(Error(a(424)),l),yi(g),l=Xh(t,l,c,r);break e}else{switch(t=l.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=Zt(t.firstChild),ut=l,Re=!0,Jn=null,Qt=!0,r=Ff(l,null,c,r),l.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(As(),c===g){l=An(t,l,r);break e}ht(t,l,c,r)}l=l.child}return l;case 26:return nr(t,l),t===null?(r=fp(l.type,null,l.pendingProps,null))?l.memoizedState=r:Re||(r=l.type,t=l.pendingProps,c=yr(ye.current).createElement(r),c[dt]=l,c[jt]=t,mt(c,r,t),ot(c),l.stateNode=c):l.memoizedState=fp(l.type,t.memoizedProps,l.pendingProps,t.memoizedState),null;case 27:return _t(l),t===null&&Re&&(c=l.stateNode=cp(l.type,l.pendingProps,ye.current),ut=l,Qt=!0,g=Je,os(l.type)?(xd=g,Je=Zt(c.firstChild)):Je=g),ht(t,l,l.pendingProps.children,r),nr(t,l),t===null&&(l.flags|=4194304),l.child;case 5:return t===null&&Re&&((g=c=Je)&&(c=Ry(c,l.type,l.pendingProps,Qt),c!==null?(l.stateNode=c,ut=l,Je=Zt(c.firstChild),Qt=!1,g=!0):g=!1),g||Yn(l)),_t(l),g=l.type,y=l.pendingProps,_=t!==null?t.memoizedProps:null,c=y.children,fd(g,y)?c=null:_!==null&&fd(g,_)&&(l.flags|=32),l.memoizedState!==null&&(g=uc(t,l,Jb,null,null,r),Fi._currentValue=g),nr(t,l),ht(t,l,c,r),l.child;case 6:return t===null&&Re&&((t=r=Je)&&(r=Dy(r,l.pendingProps,Qt),r!==null?(l.stateNode=r,ut=l,Je=null,t=!0):t=!1),t||Yn(l)),null;case 13:return Zh(t,l,r);case 4:return Qe(l,l.stateNode.containerInfo),c=l.pendingProps,t===null?l.child=Us(l,null,c,r):ht(t,l,c,r),l.child;case 11:return Vh(t,l,l.type,l.pendingProps,r);case 7:return ht(t,l,l.pendingProps,r),l.child;case 8:return ht(t,l,l.pendingProps.children,r),l.child;case 12:return ht(t,l,l.pendingProps.children,r),l.child;case 10:return c=l.pendingProps,Kn(l,l.type,c.value),ht(t,l,c.children,r),l.child;case 9:return g=l.type._context,c=l.pendingProps.children,Ms(l),g=ft(g),c=c(g),l.flags|=1,ht(t,l,c,r),l.child;case 14:return Bh(t,l,l.type,l.pendingProps,r);case 15:return $h(t,l,l.type,l.pendingProps,r);case 19:return em(t,l,r);case 31:return ty(t,l,r);case 22:return Fh(t,l,r,l.pendingProps);case 24:return Ms(l),c=ft(st),t===null?(g=tc(),g===null&&(g=Be,y=Wo(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=r),g=y),l.memoizedState={parent:c,cache:g},sc(l),Kn(l,st,g)):((t.lanes&r)!==0&&(lc(t,l),Ti(l,null,null,r),ji()),g=t.memoizedState,y=l.memoizedState,g.parent!==c?(g={parent:c,cache:c},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),Kn(l,st,c)):(c=y.cache,Kn(l,st,c),c!==g.cache&&Zo(l,[st],r,!0))),ht(t,l,l.pendingProps.children,r),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function kn(t){t.flags|=4}function Oc(t,l,r,c,g){if((l=(t.mode&32)!==0)&&(l=!1),l){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(Cm())t.flags|=8192;else throw Is=Ga,nc}else t.flags&=-16777217}function nm(t,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(l))if(Cm())t.flags|=8192;else throw Is=Ga,nc}function lr(t,l){l!==null&&(t.flags|=4),t.flags&16384&&(l=t.tag!==22?po():536870912,t.lanes|=l,El|=l)}function Ri(t,l){if(!Re)switch(t.tailMode){case"hidden":l=t.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?l||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ye(t){var l=t.alternate!==null&&t.alternate.child===t.child,r=0,c=0;if(l)for(var g=t.child;g!==null;)r|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)r|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=c,t.childLanes=r,l}function sy(t,l,r){var c=l.pendingProps;switch(Jo(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(l),null;case 1:return Ye(l),null;case 3:return r=l.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Tn(st),De(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(l)?kn(l):t===null||t.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ko())),Ye(l),null;case 26:var g=l.type,y=l.memoizedState;return t===null?(kn(l),y!==null?(Ye(l),nm(l,y)):(Ye(l),Oc(l,g,null,c,r))):y?y!==t.memoizedState?(kn(l),Ye(l),nm(l,y)):(Ye(l),l.flags&=-16777217):(t=t.memoizedProps,t!==c&&kn(l),Ye(l),Oc(l,g,t,c,r)),null;case 27:if(wt(l),r=ye.current,g=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==c&&kn(l);else{if(!c){if(l.stateNode===null)throw Error(a(166));return Ye(l),null}t=fe.current,ml(l)?Uf(l):(t=cp(g,c,r),l.stateNode=t,kn(l))}return Ye(l),null;case 5:if(wt(l),g=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==c&&kn(l);else{if(!c){if(l.stateNode===null)throw Error(a(166));return Ye(l),null}if(y=fe.current,ml(l))Uf(l);else{var _=yr(ye.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?_.createElement(g,{is:c.is}):_.createElement(g)}}y[dt]=l,y[jt]=c;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=y;e:switch(mt(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&kn(l)}}return Ye(l),Oc(l,l.type,t===null?null:t.memoizedProps,l.pendingProps,r),null;case 6:if(t&&l.stateNode!=null)t.memoizedProps!==c&&kn(l);else{if(typeof c!="string"&&l.stateNode===null)throw Error(a(166));if(t=ye.current,ml(l)){if(t=l.stateNode,r=l.memoizedProps,c=null,g=ut,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}t[dt]=l,t=!!(t.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Zm(t.nodeValue,r)),t||Yn(l,!0)}else t=yr(t).createTextNode(c),t[dt]=l,l.stateNode=t}return Ye(l),null;case 31:if(r=l.memoizedState,t===null||t.memoizedState!==null){if(c=ml(l),r!==null){if(t===null){if(!c)throw Error(a(318));if(t=l.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[dt]=l}else As(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ye(l),t=!1}else r=Ko(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return l.flags&256?(zt(l),l):(zt(l),null);if((l.flags&128)!==0)throw Error(a(558))}return Ye(l),null;case 13:if(c=l.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=ml(l),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(a(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[dt]=l}else As(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ye(l),g=!1}else g=Ko(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(zt(l),l):(zt(l),null)}return zt(l),(l.flags&128)!==0?(l.lanes=r,l):(r=c!==null,t=t!==null&&t.memoizedState!==null,r&&(c=l.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),r!==t&&r&&(l.child.flags|=8192),lr(l,l.updateQueue),Ye(l),null);case 4:return De(),t===null&&rd(l.stateNode.containerInfo),Ye(l),null;case 10:return Tn(l.type),Ye(l),null;case 19:if(Q(tt),c=l.memoizedState,c===null)return Ye(l),null;if(g=(l.flags&128)!==0,y=c.rendering,y===null)if(g)Ri(c,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=l.child;t!==null;){if(y=$a(t),y!==null){for(l.flags|=128,Ri(c,!1),t=y.updateQueue,l.updateQueue=t,lr(l,t),l.subtreeFlags=0,t=r,r=l.child;r!==null;)kf(r,t),r=r.sibling;return ce(tt,tt.current&1|2),Re&&Sn(l,c.treeForkCount),l.child}t=t.sibling}c.tail!==null&&gt()>cr&&(l.flags|=128,g=!0,Ri(c,!1),l.lanes=4194304)}else{if(!g)if(t=$a(y),t!==null){if(l.flags|=128,g=!0,t=t.updateQueue,l.updateQueue=t,lr(l,t),Ri(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Re)return Ye(l),null}else 2*gt()-c.renderingStartTime>cr&&r!==536870912&&(l.flags|=128,g=!0,Ri(c,!1),l.lanes=4194304);c.isBackwards?(y.sibling=l.child,l.child=y):(t=c.last,t!==null?t.sibling=y:l.child=y,c.last=y)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=gt(),t.sibling=null,r=tt.current,ce(tt,g?r&1|2:r&1),Re&&Sn(l,c.treeForkCount),t):(Ye(l),null);case 22:case 23:return zt(l),oc(),c=l.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(l.flags|=8192):c&&(l.flags|=8192),c?(r&536870912)!==0&&(l.flags&128)===0&&(Ye(l),l.subtreeFlags&6&&(l.flags|=8192)):Ye(l),r=l.updateQueue,r!==null&&lr(l,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==r&&(l.flags|=2048),t!==null&&Q(Rs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),l.memoizedState.cache!==r&&(l.flags|=2048),Tn(st),Ye(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function ly(t,l){switch(Jo(l),l.tag){case 1:return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 3:return Tn(st),De(),t=l.flags,(t&65536)!==0&&(t&128)===0?(l.flags=t&-65537|128,l):null;case 26:case 27:case 5:return wt(l),null;case 31:if(l.memoizedState!==null){if(zt(l),l.alternate===null)throw Error(a(340));As()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 13:if(zt(l),t=l.memoizedState,t!==null&&t.dehydrated!==null){if(l.alternate===null)throw Error(a(340));As()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 19:return Q(tt),null;case 4:return De(),null;case 10:return Tn(l.type),null;case 22:case 23:return zt(l),oc(),t!==null&&Q(Rs),t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 24:return Tn(st),null;case 25:return null;default:return null}}function sm(t,l){switch(Jo(l),l.tag){case 3:Tn(st),De();break;case 26:case 27:case 5:wt(l);break;case 4:De();break;case 31:l.memoizedState!==null&&zt(l);break;case 13:zt(l);break;case 19:Q(tt);break;case 10:Tn(l.type);break;case 22:case 23:zt(l),oc(),t!==null&&Q(Rs);break;case 24:Tn(st)}}function Di(t,l){try{var r=l.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var g=c.next;r=g;do{if((r.tag&t)===t){c=void 0;var y=r.create,_=r.inst;c=y(),_.destroy=c}r=r.next}while(r!==g)}}catch(S){qe(l,l.return,S)}}function ts(t,l,r){try{var c=l.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&t)===t){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,g=l;var M=r,V=S;try{V()}catch(te){qe(g,M,te)}}}c=c.next}while(c!==y)}}catch(te){qe(l,l.return,te)}}function lm(t){var l=t.updateQueue;if(l!==null){var r=t.stateNode;try{Yf(l,r)}catch(c){qe(t,t.return,c)}}}function im(t,l,r){r.props=zs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(c){qe(t,l,c)}}function Ii(t,l){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(g){qe(t,l,g)}}function pn(t,l){var r=t.ref,c=t.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(g){qe(t,l,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(g){qe(t,l,g)}else r.current=null}function am(t){var l=t.type,r=t.memoizedProps,c=t.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(g){qe(t,t.return,g)}}function qc(t,l,r){try{var c=t.stateNode;Ty(c,t.type,r,l),c[jt]=l}catch(g){qe(t,t.return,g)}}function rm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function Gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,l,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,l?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,l):(l=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.appendChild(t),r=r._reactRootContainer,r!=null||l.onclick!==null||(l.onclick=Nn));else if(c!==4&&(c===27&&os(t.type)&&(r=t.stateNode,l=null),t=t.child,t!==null))for(Hc(t,l,r),t=t.sibling;t!==null;)Hc(t,l,r),t=t.sibling}function ir(t,l,r){var c=t.tag;if(c===5||c===6)t=t.stateNode,l?r.insertBefore(t,l):r.appendChild(t);else if(c!==4&&(c===27&&os(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ir(t,l,r),t=t.sibling;t!==null;)ir(t,l,r),t=t.sibling}function om(t){var l=t.stateNode,r=t.memoizedProps;try{for(var c=t.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);mt(l,c,r),l[dt]=t,l[jt]=r}catch(y){qe(t,t.return,y)}}var Mn=!1,at=!1,Vc=!1,cm=typeof WeakSet=="function"?WeakSet:Set,ct=null;function iy(t,l){if(t=t.containerInfo,dd=Tr,t=Nf(t),Lo(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var _=0,S=-1,M=-1,V=0,te=0,se=t,Y=null;t:for(;;){for(var X;se!==r||g!==0&&se.nodeType!==3||(S=_+g),se!==y||c!==0&&se.nodeType!==3||(M=_+c),se.nodeType===3&&(_+=se.nodeValue.length),(X=se.firstChild)!==null;)Y=se,se=X;for(;;){if(se===t)break t;if(Y===r&&++V===g&&(S=_),Y===y&&++te===c&&(M=_),(X=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=X}r=S===-1||M===-1?null:{start:S,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:t,selectionRange:r},Tr=!1,ct=l;ct!==null;)if(l=ct,t=l.child,(l.subtreeFlags&1028)!==0&&t!==null)t.return=l,ct=t;else for(;ct!==null;){switch(l=ct,y=l.alternate,t=l.flags,l.tag){case 0:if((t&4)!==0&&(t=l.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)g=t[r],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,r=l,g=y.memoizedProps,y=y.memoizedState,c=r.stateNode;try{var ge=zs(r.type,g);t=c.getSnapshotBeforeUpdate(ge,y),c.__reactInternalSnapshotBeforeUpdate=t}catch(ve){qe(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=l.stateNode.containerInfo,r=t.nodeType,r===9)md(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=l.sibling,t!==null){t.return=l.return,ct=t;break}ct=l.return}}function dm(t,l,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Dn(t,r),c&4&&Di(5,r);break;case 1:if(Dn(t,r),c&4)if(t=r.stateNode,l===null)try{t.componentDidMount()}catch(_){qe(r,r.return,_)}else{var g=zs(r.type,l.memoizedProps);l=l.memoizedState;try{t.componentDidUpdate(g,l,t.__reactInternalSnapshotBeforeUpdate)}catch(_){qe(r,r.return,_)}}c&64&&lm(r),c&512&&Ii(r,r.return);break;case 3:if(Dn(t,r),c&64&&(t=r.updateQueue,t!==null)){if(l=null,r.child!==null)switch(r.child.tag){case 27:case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}try{Yf(t,l)}catch(_){qe(r,r.return,_)}}break;case 27:l===null&&c&4&&om(r);case 26:case 5:Dn(t,r),l===null&&c&4&&am(r),c&512&&Ii(r,r.return);break;case 12:Dn(t,r);break;case 31:Dn(t,r),c&4&&hm(t,r);break;case 13:Dn(t,r),c&4&&mm(t,r),c&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=my.bind(null,r),Iy(t,r))));break;case 22:if(c=r.memoizedState!==null||Mn,!c){l=l!==null&&l.memoizedState!==null||at,g=Mn;var y=at;Mn=c,(at=l)&&!y?In(t,r,(r.subtreeFlags&8772)!==0):Dn(t,r),Mn=g,at=y}break;case 30:break;default:Dn(t,r)}}function um(t){var l=t.alternate;l!==null&&(t.alternate=null,um(l)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(l=t.stateNode,l!==null&&yo(l)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,Et=!1;function Rn(t,l,r){for(r=r.child;r!==null;)fm(t,l,r),r=r.sibling}function fm(t,l,r){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(yn,r)}catch{}switch(r.tag){case 26:at||pn(r,l),Rn(t,l,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:at||pn(r,l);var c=Ze,g=Et;os(r.type)&&(Ze=r.stateNode,Et=!1),Rn(t,l,r),Vi(r.stateNode),Ze=c,Et=g;break;case 5:at||pn(r,l);case 6:if(c=Ze,g=Et,Ze=null,Rn(t,l,r),Ze=c,Et=g,Ze!==null)if(Et)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(r.stateNode)}catch(y){qe(r,l,y)}else try{Ze.removeChild(r.stateNode)}catch(y){qe(r,l,y)}break;case 18:Ze!==null&&(Et?(t=Ze,lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):lp(Ze,r.stateNode));break;case 4:c=Ze,g=Et,Ze=r.stateNode.containerInfo,Et=!0,Rn(t,l,r),Ze=c,Et=g;break;case 0:case 11:case 14:case 15:ts(2,r,l),at||ts(4,r,l),Rn(t,l,r);break;case 1:at||(pn(r,l),c=r.stateNode,typeof c.componentWillUnmount=="function"&&im(r,l,c)),Rn(t,l,r);break;case 21:Rn(t,l,r);break;case 22:at=(c=at)||r.memoizedState!==null,Rn(t,l,r),at=c;break;default:Rn(t,l,r)}}function hm(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ul(t)}catch(r){qe(l,l.return,r)}}}function mm(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){qe(l,l.return,r)}}function ay(t){switch(t.tag){case 31:case 13:case 19:var l=t.stateNode;return l===null&&(l=t.stateNode=new cm),l;case 22:return t=t.stateNode,l=t._retryCache,l===null&&(l=t._retryCache=new cm),l;default:throw Error(a(435,t.tag))}}function ar(t,l){var r=ay(t);l.forEach(function(c){if(!r.has(c)){r.add(c);var g=py.bind(null,t,c);c.then(g,g)}})}function Ct(t,l){var r=l.deletions;if(r!==null)for(var c=0;c<r.length;c++){var g=r[c],y=t,_=l,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(os(S.type)){Ze=S.stateNode,Et=!1;break e}break;case 5:Ze=S.stateNode,Et=!1;break e;case 3:case 4:Ze=S.stateNode.containerInfo,Et=!0;break e}S=S.return}if(Ze===null)throw Error(a(160));fm(y,_,g),Ze=null,Et=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)pm(l,t),l=l.sibling}var an=null;function pm(t,l){var r=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ct(l,t),At(t),c&4&&(ts(3,t,t.return),Di(3,t),ts(5,t,t.return));break;case 1:Ct(l,t),At(t),c&512&&(at||r===null||pn(r,r.return)),c&64&&Mn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var g=an;if(Ct(l,t),At(t),c&512&&(at||r===null||pn(r,r.return)),c&4){var y=r!==null?r.memoizedState:null;if(c=t.memoizedState,r===null)if(c===null)if(t.stateNode===null){e:{c=t.type,r=t.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ri]||y[dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),mt(y,c,r),y[dt]=t,ot(y),c=y;break e;case"link":var _=pp("link","href",g).get(c+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(y=_[S],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break t}}y=g.createElement(c),mt(y,c,r),g.head.appendChild(y);break;case"meta":if(_=pp("meta","content",g).get(c+(r.content||""))){for(S=0;S<_.length;S++)if(y=_[S],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break t}}y=g.createElement(c),mt(y,c,r),g.head.appendChild(y);break;default:throw Error(a(468,c))}y[dt]=t,ot(y),c=y}t.stateNode=c}else gp(g,t.type,t.stateNode);else t.stateNode=mp(g,c,t.memoizedProps);else y!==c?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,c===null?gp(g,t.type,t.stateNode):mp(g,c,t.memoizedProps)):c===null&&t.stateNode!==null&&qc(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ct(l,t),At(t),c&512&&(at||r===null||pn(r,r.return)),r!==null&&c&4&&qc(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ct(l,t),At(t),c&512&&(at||r===null||pn(r,r.return)),t.flags&32){g=t.stateNode;try{ll(g,"")}catch(ge){qe(t,t.return,ge)}}c&4&&t.stateNode!=null&&(g=t.memoizedProps,qc(t,g,r!==null?r.memoizedProps:g)),c&1024&&(Vc=!0);break;case 6:if(Ct(l,t),At(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,r=t.stateNode;try{r.nodeValue=c}catch(ge){qe(t,t.return,ge)}}break;case 3:if(_r=null,g=an,an=vr(l.containerInfo),Ct(l,t),an=g,At(t),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(l.containerInfo)}catch(ge){qe(t,t.return,ge)}Vc&&(Vc=!1,gm(t));break;case 4:c=an,an=vr(t.stateNode.containerInfo),Ct(l,t),At(t),an=c;break;case 12:Ct(l,t),At(t);break;case 31:Ct(l,t),At(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ar(t,c)));break;case 13:Ct(l,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(or=gt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ar(t,c)));break;case 22:g=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,V=Mn,te=at;if(Mn=V||g,at=te||M,Ct(l,t),at=te,Mn=V,At(t),c&8192)e:for(l=t.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(r===null||M||Mn||at||Ps(t)),r=null,l=t;;){if(l.tag===5||l.tag===26){if(r===null){M=r=l;try{if(y=M.stateNode,g)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var se=M.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){qe(M,M.return,ge)}}}else if(l.tag===6){if(r===null){M=l;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(ge){qe(M,M.return,ge)}}}else if(l.tag===18){if(r===null){M=l;try{var X=M.stateNode;g?ip(X,!0):ip(M.stateNode,!1)}catch(ge){qe(M,M.return,ge)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;r===l&&(r=null),l=l.return}r===l&&(r=null),l.sibling.return=l.return,l=l.sibling}c&4&&(c=t.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,ar(t,r))));break;case 19:Ct(l,t),At(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ar(t,c)));break;case 30:break;case 21:break;default:Ct(l,t),At(t)}}function At(t){var l=t.flags;if(l&2){try{for(var r,c=t.return;c!==null;){if(rm(c)){r=c;break}c=c.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var g=r.stateNode,y=Gc(t);ir(t,y,g);break;case 5:var _=r.stateNode;r.flags&32&&(ll(_,""),r.flags&=-33);var S=Gc(t);ir(t,S,_);break;case 3:case 4:var M=r.stateNode.containerInfo,V=Gc(t);Hc(t,V,M);break;default:throw Error(a(161))}}catch(te){qe(t,t.return,te)}t.flags&=-3}l&4096&&(t.flags&=-4097)}function gm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var l=t;gm(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),t=t.sibling}}function Dn(t,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)dm(t,l.alternate,l),l=l.sibling}function Ps(t){for(t=t.child;t!==null;){var l=t;switch(l.tag){case 0:case 11:case 14:case 15:ts(4,l,l.return),Ps(l);break;case 1:pn(l,l.return);var r=l.stateNode;typeof r.componentWillUnmount=="function"&&im(l,l.return,r),Ps(l);break;case 27:Vi(l.stateNode);case 26:case 5:pn(l,l.return),Ps(l);break;case 22:l.memoizedState===null&&Ps(l);break;case 30:Ps(l);break;default:Ps(l)}t=t.sibling}}function In(t,l,r){for(r=r&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var c=l.alternate,g=t,y=l,_=y.flags;switch(y.tag){case 0:case 11:case 15:In(g,y,r),Di(4,y);break;case 1:if(In(g,y,r),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){qe(c,c.return,V)}if(c=y,g=c.updateQueue,g!==null){var S=c.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Jf(M[g],S)}catch(V){qe(c,c.return,V)}}r&&_&64&&lm(y),Ii(y,y.return);break;case 27:om(y);case 26:case 5:In(g,y,r),r&&c===null&&_&4&&am(y),Ii(y,y.return);break;case 12:In(g,y,r);break;case 31:In(g,y,r),r&&_&4&&hm(g,y);break;case 13:In(g,y,r),r&&_&4&&mm(g,y);break;case 22:y.memoizedState===null&&In(g,y,r),Ii(y,y.return);break;case 30:break;default:In(g,y,r)}l=l.sibling}}function Bc(t,l){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(t=l.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&vi(r))}function $c(t,l){t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&vi(t))}function rn(t,l,r,c){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xm(t,l,r,c),l=l.sibling}function xm(t,l,r,c){var g=l.flags;switch(l.tag){case 0:case 11:case 15:rn(t,l,r,c),g&2048&&Di(9,l);break;case 1:rn(t,l,r,c);break;case 3:rn(t,l,r,c),g&2048&&(t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&vi(t)));break;case 12:if(g&2048){rn(t,l,r,c),t=l.stateNode;try{var y=l.memoizedProps,_=y.id,S=y.onPostCommit;typeof S=="function"&&S(_,l.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){qe(l,l.return,M)}}else rn(t,l,r,c);break;case 31:rn(t,l,r,c);break;case 13:rn(t,l,r,c);break;case 23:break;case 22:y=l.stateNode,_=l.alternate,l.memoizedState!==null?y._visibility&2?rn(t,l,r,c):Ui(t,l):y._visibility&2?rn(t,l,r,c):(y._visibility|=2,Sl(t,l,r,c,(l.subtreeFlags&10256)!==0||!1)),g&2048&&Bc(_,l);break;case 24:rn(t,l,r,c),g&2048&&$c(l.alternate,l);break;default:rn(t,l,r,c)}}function Sl(t,l,r,c,g){for(g=g&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=t,_=l,S=r,M=c,V=_.flags;switch(_.tag){case 0:case 11:case 15:Sl(y,_,S,M,g),Di(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?Sl(y,_,S,M,g):Ui(y,_):(te._visibility|=2,Sl(y,_,S,M,g)),g&&V&2048&&Bc(_.alternate,_);break;case 24:Sl(y,_,S,M,g),g&&V&2048&&$c(_.alternate,_);break;default:Sl(y,_,S,M,g)}l=l.sibling}}function Ui(t,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var r=t,c=l,g=c.flags;switch(c.tag){case 22:Ui(r,c),g&2048&&Bc(c.alternate,c);break;case 24:Ui(r,c),g&2048&&$c(c.alternate,c);break;default:Ui(r,c)}l=l.sibling}}var Li=8192;function jl(t,l,r){if(t.subtreeFlags&Li)for(t=t.child;t!==null;)bm(t,l,r),t=t.sibling}function bm(t,l,r){switch(t.tag){case 26:jl(t,l,r),t.flags&Li&&t.memoizedState!==null&&Fy(r,an,t.memoizedState,t.memoizedProps);break;case 5:jl(t,l,r);break;case 3:case 4:var c=an;an=vr(t.stateNode.containerInfo),jl(t,l,r),an=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Li,Li=16777216,jl(t,l,r),Li=c):jl(t,l,r));break;default:jl(t,l,r)}}function ym(t){var l=t.alternate;if(l!==null&&(t=l.child,t!==null)){l.child=null;do l=t.sibling,t.sibling=null,t=l;while(t!==null)}}function zi(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var r=0;r<l.length;r++){var c=l[r];ct=c,Nm(c,t)}ym(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vm(t),t=t.sibling}function vm(t){switch(t.tag){case 0:case 11:case 15:zi(t),t.flags&2048&&ts(9,t,t.return);break;case 3:zi(t);break;case 12:zi(t);break;case 22:var l=t.stateNode;t.memoizedState!==null&&l._visibility&2&&(t.return===null||t.return.tag!==13)?(l._visibility&=-3,rr(t)):zi(t);break;default:zi(t)}}function rr(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var r=0;r<l.length;r++){var c=l[r];ct=c,Nm(c,t)}ym(t)}for(t=t.child;t!==null;){switch(l=t,l.tag){case 0:case 11:case 15:ts(8,l,l.return),rr(l);break;case 22:r=l.stateNode,r._visibility&2&&(r._visibility&=-3,rr(l));break;default:rr(l)}t=t.sibling}}function Nm(t,l){for(;ct!==null;){var r=ct;switch(r.tag){case 0:case 11:case 15:ts(8,r,l);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vi(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,ct=c;else e:for(r=t;ct!==null;){c=ct;var g=c.sibling,y=c.return;if(um(c),c===r){ct=null;break e}if(g!==null){g.return=y,ct=g;break e}ct=y}}}var ry={getCacheForType:function(t){var l=ft(st),r=l.data.get(t);return r===void 0&&(r=t(),l.data.set(t,r)),r},cacheSignal:function(){return ft(st).controller.signal}},oy=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Be=null,Ee=null,Ae=0,Oe=0,Pt=null,ns=!1,Tl=!1,Fc=!1,Un=0,et=0,ss=0,Os=0,Jc=0,Ot=0,El=0,Pi=null,kt=null,Yc=!1,or=0,_m=0,cr=1/0,dr=null,ls=null,rt=0,is=null,Cl=null,Ln=0,Kc=0,Qc=null,wm=null,Oi=0,Xc=null;function qt(){return(Pe&2)!==0&&Ae!==0?Ae&-Ae:C.T!==null?sd():Pu()}function Sm(){if(Ot===0)if((Ae&536870912)===0||Re){var t=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),Ot=t}else Ot=536870912;return t=Lt.current,t!==null&&(t.flags|=32),Ot}function Mt(t,l,r){(t===Be&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(Al(t,0),as(t,Ae,Ot,!1)),ai(t,r),((Pe&2)===0||t!==Be)&&(t===Be&&((Pe&2)===0&&(Os|=r),et===4&&as(t,Ae,Ot,!1)),gn(t))}function jm(t,l,r){if((Pe&6)!==0)throw Error(a(327));var c=!r&&(l&127)===0&&(l&t.expiredLanes)===0||sn(t,l),g=c?uy(t,l):Wc(t,l,!0),y=c;do{if(g===0){Tl&&!c&&as(t,l,0,!1);break}else{if(r=t.current.alternate,y&&!cy(r)){g=Wc(t,l,!1),y=!1;continue}if(g===2){if(y=l,t.errorRecoveryDisabledLanes&y)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){l=_;e:{var S=t;g=Pi;var M=S.current.memoizedState.isDehydrated;if(M&&(Al(S,_).flags|=256),_=Wc(S,_,!1),_!==2){if(Fc&&!M){S.errorRecoveryDisabledLanes|=y,Os|=y,g=4;break e}y=kt,kt=g,y!==null&&(kt===null?kt=y:kt.push.apply(kt,y))}g=_}if(y=!1,g!==2)continue}}if(g===1){Al(t,0),as(t,l,0,!0);break}e:{switch(c=t,y=g,y){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:as(c,l,Ot,!ns);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(g=or+300-gt(),10<g)){if(as(c,l,Ot,!ns),Dt(c,0,!0)!==0)break e;Ln=l,c.timeoutHandle=np(Tm.bind(null,c,r,kt,dr,Yc,l,Ot,Os,El,ns,y,"Throttled",-0,0),g);break e}Tm(c,r,kt,dr,Yc,l,Ot,Os,El,ns,y,null,-0,0)}}break}while(!0);gn(t)}function Tm(t,l,r,c,g,y,_,S,M,V,te,se,Y,X){if(t.timeoutHandle=-1,se=l.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},bm(l,y,se);var ge=(y&62914560)===y?or-gt():(y&4194048)===y?_m-gt():0;if(ge=Jy(se,ge),ge!==null){Ln=y,t.cancelPendingCommit=ge(Im.bind(null,t,l,y,r,c,g,_,S,M,te,se,null,Y,X)),as(t,y,_,!V);return}}Im(t,l,y,r,c,g,_,S,M)}function cy(t){for(var l=t;;){var r=l.tag;if((r===0||r===11||r===15)&&l.flags&16384&&(r=l.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var g=r[c],y=g.getSnapshot;g=g.value;try{if(!It(y(),g))return!1}catch{return!1}}if(r=l.child,l.subtreeFlags&16384&&r!==null)r.return=l,l=r;else{if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function as(t,l,r,c){l&=~Jc,l&=~Os,t.suspendedLanes|=l,t.pingedLanes&=~l,c&&(t.warmLanes|=l),c=t.expirationTimes;for(var g=l;0<g;){var y=31-xt(g),_=1<<y;c[y]=-1,g&=~_}r!==0&&Uu(t,r,l)}function ur(){return(Pe&6)===0?(qi(0),!1):!0}function Zc(){if(Ee!==null){if(Oe===0)var t=Ee.return;else t=Ee,jn=ks=null,mc(t),yl=null,_i=0,t=Ee;for(;t!==null;)sm(t.alternate,t),t=t.return;Ee=null}}function Al(t,l){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Ay(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ln=0,Zc(),Be=t,Ee=r=wn(t.current,null),Ae=l,Oe=0,Pt=null,ns=!1,Tl=sn(t,l),Fc=!1,El=Ot=Jc=Os=ss=et=0,kt=Pi=null,Yc=!1,(l&8)!==0&&(l|=l&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=l;0<c;){var g=31-xt(c),y=1<<g;l|=t[g],c&=~y}return Un=l,Ra(),r}function Em(t,l){we=null,C.H=ki,l===bl||l===qa?(l=Vf(),Oe=3):l===nc?(l=Vf(),Oe=4):Oe=l===kc?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Pt=l,Ee===null&&(et=1,er(t,Jt(l,t.current)))}function Cm(){var t=Lt.current;return t===null?!0:(Ae&4194048)===Ae?Xt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===Xt:!1}function Am(){var t=C.H;return C.H=ki,t===null?ki:t}function km(){var t=C.A;return C.A=ry,t}function fr(){et=4,ns||(Ae&4194048)!==Ae&&Lt.current!==null||(Tl=!0),(ss&134217727)===0&&(Os&134217727)===0||Be===null||as(Be,Ae,Ot,!1)}function Wc(t,l,r){var c=Pe;Pe|=2;var g=Am(),y=km();(Be!==t||Ae!==l)&&(dr=null,Al(t,l)),l=!1;var _=et;e:do try{if(Oe!==0&&Ee!==null){var S=Ee,M=Pt;switch(Oe){case 8:Zc(),_=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(l=!0);var V=Oe;if(Oe=0,Pt=null,kl(t,S,M,V),r&&Tl){_=0;break e}break;default:V=Oe,Oe=0,Pt=null,kl(t,S,M,V)}}dy(),_=et;break}catch(te){Em(t,te)}while(!0);return l&&t.shellSuspendCounter++,jn=ks=null,Pe=c,C.H=g,C.A=y,Ee===null&&(Be=null,Ae=0,Ra()),_}function dy(){for(;Ee!==null;)Mm(Ee)}function uy(t,l){var r=Pe;Pe|=2;var c=Am(),g=km();Be!==t||Ae!==l?(dr=null,cr=gt()+500,Al(t,l)):Tl=sn(t,l);e:do try{if(Oe!==0&&Ee!==null){l=Ee;var y=Pt;t:switch(Oe){case 1:Oe=0,Pt=null,kl(t,l,y,1);break;case 2:case 9:if(Gf(y)){Oe=0,Pt=null,Rm(l);break}l=function(){Oe!==2&&Oe!==9||Be!==t||(Oe=7),gn(t)},y.then(l,l);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Gf(y)?(Oe=0,Pt=null,Rm(l)):(Oe=0,Pt=null,kl(t,l,y,7));break;case 5:var _=null;switch(Ee.tag){case 26:_=Ee.memoizedState;case 5:case 27:var S=Ee;if(_?xp(_):S.stateNode.complete){Oe=0,Pt=null;var M=S.sibling;if(M!==null)Ee=M;else{var V=S.return;V!==null?(Ee=V,hr(V)):Ee=null}break t}}Oe=0,Pt=null,kl(t,l,y,5);break;case 6:Oe=0,Pt=null,kl(t,l,y,6);break;case 8:Zc(),et=6;break e;default:throw Error(a(462))}}fy();break}catch(te){Em(t,te)}while(!0);return jn=ks=null,C.H=c,C.A=g,Pe=r,Ee!==null?0:(Be=null,Ae=0,Ra(),et)}function fy(){for(;Ee!==null&&!co();)Mm(Ee)}function Mm(t){var l=tm(t.alternate,t,Un);t.memoizedProps=t.pendingProps,l===null?hr(t):Ee=l}function Rm(t){var l=t,r=l.alternate;switch(l.tag){case 15:case 0:l=Kh(r,l,l.pendingProps,l.type,void 0,Ae);break;case 11:l=Kh(r,l,l.pendingProps,l.type.render,l.ref,Ae);break;case 5:mc(l);default:sm(r,l),l=Ee=kf(l,Un),l=tm(r,l,Un)}t.memoizedProps=t.pendingProps,l===null?hr(t):Ee=l}function kl(t,l,r,c){jn=ks=null,mc(l),yl=null,_i=0;var g=l.return;try{if(ey(t,g,l,r,Ae)){et=1,er(t,Jt(r,t.current)),Ee=null;return}}catch(y){if(g!==null)throw Ee=g,y;et=1,er(t,Jt(r,t.current)),Ee=null;return}l.flags&32768?(Re||c===1?t=!0:Tl||(Ae&536870912)!==0?t=!1:(ns=t=!0,(c===2||c===9||c===3||c===6)&&(c=Lt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dm(l,t)):hr(l)}function hr(t){var l=t;do{if((l.flags&32768)!==0){Dm(l,ns);return}t=l.return;var r=sy(l.alternate,l,Un);if(r!==null){Ee=r;return}if(l=l.sibling,l!==null){Ee=l;return}Ee=l=t}while(l!==null);et===0&&(et=5)}function Dm(t,l){do{var r=ly(t.alternate,t);if(r!==null){r.flags&=32767,Ee=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!l&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=r}while(t!==null);et=6,Ee=null}function Im(t,l,r,c,g,y,_,S,M){t.cancelPendingCommit=null;do mr();while(rt!==0);if((Pe&6)!==0)throw Error(a(327));if(l!==null){if(l===t.current)throw Error(a(177));if(y=l.lanes|l.childLanes,y|=Go,$x(t,r,y,_,S,M),t===Be&&(Ee=Be=null,Ae=0),Cl=l,is=t,Ln=r,Kc=y,Qc=g,wm=c,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gy(Ks,function(){return Om(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||c){c=C.T,C.T=null,g=$.p,$.p=2,_=Pe,Pe|=4;try{iy(t,l,r)}finally{Pe=_,$.p=g,C.T=c}}rt=1,Um(),Lm(),zm()}}function Um(){if(rt===1){rt=0;var t=is,l=Cl,r=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||r){r=C.T,C.T=null;var c=$.p;$.p=2;var g=Pe;Pe|=4;try{pm(l,t);var y=ud,_=Nf(t.containerInfo),S=y.focusedElem,M=y.selectionRange;if(_!==S&&S&&S.ownerDocument&&vf(S.ownerDocument.documentElement,S)){if(M!==null&&Lo(S)){var V=M.start,te=M.end;if(te===void 0&&(te=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),ge=S.textContent.length,ve=Math.min(M.start,ge),Ve=M.end===void 0?ve:Math.min(M.end,ge);!X.extend&&ve>Ve&&(_=Ve,Ve=ve,ve=_);var z=yf(S,ve),D=yf(S,Ve);if(z&&D&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==D.node||X.focusOffset!==D.offset)){var H=se.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),ve>Ve?(X.addRange(H),X.extend(D.node,D.offset)):(H.setEnd(D.node,D.offset),X.addRange(H))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ne=se[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Tr=!!dd,ud=dd=null}finally{Pe=g,$.p=c,C.T=r}}t.current=l,rt=2}}function Lm(){if(rt===2){rt=0;var t=is,l=Cl,r=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||r){r=C.T,C.T=null;var c=$.p;$.p=2;var g=Pe;Pe|=4;try{dm(t,l.alternate,l)}finally{Pe=g,$.p=c,C.T=r}}rt=3}}function zm(){if(rt===4||rt===3){rt=0,uo();var t=is,l=Cl,r=Ln,c=wm;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?rt=5:(rt=0,Cl=is=null,Pm(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(ls=null),xo(r),l=l.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(yn,l,void 0,(l.current.flags&128)===128)}catch{}if(c!==null){l=C.T,g=$.p,$.p=2,C.T=null;try{for(var y=t.onRecoverableError,_=0;_<c.length;_++){var S=c[_];y(S.value,{componentStack:S.stack})}}finally{C.T=l,$.p=g}}(Ln&3)!==0&&mr(),gn(t),g=t.pendingLanes,(r&261930)!==0&&(g&42)!==0?t===Xc?Oi++:(Oi=0,Xc=t):Oi=0,qi(0)}}function Pm(t,l){(t.pooledCacheLanes&=l)===0&&(l=t.pooledCache,l!=null&&(t.pooledCache=null,vi(l)))}function mr(){return Um(),Lm(),zm(),Om()}function Om(){if(rt!==5)return!1;var t=is,l=Kc;Kc=0;var r=xo(Ln),c=C.T,g=$.p;try{$.p=32>r?32:r,C.T=null,r=Qc,Qc=null;var y=is,_=Ln;if(rt=0,Cl=is=null,Ln=0,(Pe&6)!==0)throw Error(a(331));var S=Pe;if(Pe|=4,vm(y.current),xm(y,y.current,_,r),Pe=S,qi(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(yn,y)}catch{}return!0}finally{$.p=g,C.T=c,Pm(t,l)}}function qm(t,l,r){l=Jt(r,l),l=Ac(t.stateNode,l,2),t=Zn(t,l,2),t!==null&&(ai(t,2),gn(t))}function qe(t,l,r){if(t.tag===3)qm(t,t,r);else for(;l!==null;){if(l.tag===3){qm(l,t,r);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ls===null||!ls.has(c))){t=Jt(r,t),r=Gh(2),c=Zn(l,r,2),c!==null&&(Hh(r,c,l,t),ai(c,2),gn(c));break}}l=l.return}}function ed(t,l,r){var c=t.pingCache;if(c===null){c=t.pingCache=new oy;var g=new Set;c.set(l,g)}else g=c.get(l),g===void 0&&(g=new Set,c.set(l,g));g.has(r)||(Fc=!0,g.add(r),t=hy.bind(null,t,l,r),l.then(t,t))}function hy(t,l,r){var c=t.pingCache;c!==null&&c.delete(l),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Be===t&&(Ae&r)===r&&(et===4||et===3&&(Ae&62914560)===Ae&&300>gt()-or?(Pe&2)===0&&Al(t,0):Jc|=r,El===Ae&&(El=0)),gn(t)}function Gm(t,l){l===0&&(l=po()),t=Es(t,l),t!==null&&(ai(t,l),gn(t))}function my(t){var l=t.memoizedState,r=0;l!==null&&(r=l.retryLane),Gm(t,r)}function py(t,l){var r=0;switch(t.tag){case 31:case 13:var c=t.stateNode,g=t.memoizedState;g!==null&&(r=g.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(l),Gm(t,r)}function gy(t,l){return li(t,l)}var pr=null,Ml=null,td=!1,gr=!1,nd=!1,rs=0;function gn(t){t!==Ml&&t.next===null&&(Ml===null?pr=Ml=t:Ml=Ml.next=t),gr=!0,td||(td=!0,by())}function qi(t,l){if(!nd&&gr){nd=!0;do for(var r=!1,c=pr;c!==null;){if(t!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var _=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-xt(42|t)+1)-1,y&=g&~(_&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,$m(c,y))}else y=Ae,y=Dt(c,c===Be?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||sn(c,y)||(r=!0,$m(c,y));c=c.next}while(r);nd=!1}}function xy(){Hm()}function Hm(){gr=td=!1;var t=0;rs!==0&&Cy()&&(t=rs);for(var l=gt(),r=null,c=pr;c!==null;){var g=c.next,y=Vm(c,l);y===0?(c.next=null,r===null?pr=g:r.next=g,g===null&&(Ml=r)):(r=c,(t!==0||(y&3)!==0)&&(gr=!0)),c=g}rt!==0&&rt!==5||qi(t),rs!==0&&(rs=0)}function Vm(t,l){for(var r=t.suspendedLanes,c=t.pingedLanes,g=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var _=31-xt(y),S=1<<_,M=g[_];M===-1?((S&r)===0||(S&c)!==0)&&(g[_]=Xs(S,l)):M<=l&&(t.expiredLanes|=S),y&=~S}if(l=Be,r=Ae,r=Dt(t,t===l?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,r===0||t===l&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ii(c),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||sn(t,r)){if(l=r&-r,l===t.callbackPriority)return l;switch(c!==null&&ii(c),xo(r)){case 2:case 8:r=Ys;break;case 32:r=Ks;break;case 268435456:r=xa;break;default:r=Ks}return c=Bm.bind(null,t),r=li(r,c),t.callbackPriority=l,t.callbackNode=r,l}return c!==null&&c!==null&&ii(c),t.callbackPriority=2,t.callbackNode=null,2}function Bm(t,l){if(rt!==0&&rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mr()&&t.callbackNode!==r)return null;var c=Ae;return c=Dt(t,t===Be?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(jm(t,c,l),Vm(t,gt()),t.callbackNode!=null&&t.callbackNode===r?Bm.bind(null,t):null)}function $m(t,l){if(mr())return null;jm(t,l,!0)}function by(){ky(function(){(Pe&6)!==0?li(ga,xy):Hm()})}function sd(){if(rs===0){var t=gl;t===0&&(t=ue,ue<<=1,(ue&261888)===0&&(ue=256)),rs=t}return rs}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function Jm(t,l){var r=l.ownerDocument.createElement("input");return r.name=l.name,r.value=l.value,t.id&&r.setAttribute("form",t.id),l.parentNode.insertBefore(r,l),t=new FormData(t),r.parentNode.removeChild(r),t}function yy(t,l,r,c,g){if(l==="submit"&&r&&r.stateNode===g){var y=Fm((g[jt]||null).action),_=c.submitter;_&&(l=(l=_[jt]||null)?Fm(l.formAction):_.getAttribute("formAction"),l!==null&&(y=l,_=null));var S=new Ca("action","action",null,c,g);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(rs!==0){var M=_?Jm(g,_):new FormData(g);wc(r,{pending:!0,data:M,method:g.method,action:y},null,M)}}else typeof y=="function"&&(S.preventDefault(),M=_?Jm(g,_):new FormData(g),wc(r,{pending:!0,data:M,method:g.method,action:y},y,M))},currentTarget:g}]})}}for(var ld=0;ld<qo.length;ld++){var id=qo[ld],vy=id.toLowerCase(),Ny=id[0].toUpperCase()+id.slice(1);ln(vy,"on"+Ny)}ln(Sf,"onAnimationEnd"),ln(jf,"onAnimationIteration"),ln(Tf,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(zb,"onTransitionRun"),ln(Pb,"onTransitionStart"),ln(Ob,"onTransitionCancel"),ln(Ef,"onTransitionEnd"),nl("onMouseEnter",["mouseout","mouseover"]),nl("onMouseLeave",["mouseout","mouseover"]),nl("onPointerEnter",["pointerout","pointerover"]),nl("onPointerLeave",["pointerout","pointerover"]),ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function Ym(t,l){l=(l&4)!==0;for(var r=0;r<t.length;r++){var c=t[r],g=c.event;c=c.listeners;e:{var y=void 0;if(l)for(var _=c.length-1;0<=_;_--){var S=c[_],M=S.instance,V=S.currentTarget;if(S=S.listener,M!==y&&g.isPropagationStopped())break e;y=S,g.currentTarget=V;try{y(g)}catch(te){Ma(te)}g.currentTarget=null,y=M}else for(_=0;_<c.length;_++){if(S=c[_],M=S.instance,V=S.currentTarget,S=S.listener,M!==y&&g.isPropagationStopped())break e;y=S,g.currentTarget=V;try{y(g)}catch(te){Ma(te)}g.currentTarget=null,y=M}}}}function Ce(t,l){var r=l[bo];r===void 0&&(r=l[bo]=new Set);var c=t+"__bubble";r.has(c)||(Km(l,t,2,!1),r.add(c))}function ad(t,l,r){var c=0;l&&(c|=4),Km(r,t,c,l)}var xr="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[xr]){t[xr]=!0,Gu.forEach(function(r){r!=="selectionchange"&&(_y.has(r)||ad(r,!1,t),ad(r,!0,t))});var l=t.nodeType===9?t:t.ownerDocument;l===null||l[xr]||(l[xr]=!0,ad("selectionchange",!1,l))}}function Km(t,l,r,c){switch(Sp(l)){case 2:var g=Qy;break;case 8:g=Xy;break;default:g=_d}r=g.bind(null,l,r,t),g=void 0,!Eo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),c?g!==void 0?t.addEventListener(l,r,{capture:!0,passive:g}):t.addEventListener(l,r,!0):g!==void 0?t.addEventListener(l,r,{passive:g}):t.addEventListener(l,r,!1)}function od(t,l,r,c,g){var y=c;if((l&1)===0&&(l&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===g)break;if(_===4)for(_=c.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;S!==null;){if(_=Ws(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){c=y=_;continue e}S=S.parentNode}}c=c.return}Wu(function(){var V=y,te=jo(r),se=[];e:{var Y=Cf.get(t);if(Y!==void 0){var X=Ca,ge=t;switch(t){case"keypress":if(Ta(r)===0)break e;case"keydown":case"keyup":X=pb;break;case"focusin":ge="focus",X=Mo;break;case"focusout":ge="blur",X=Mo;break;case"beforeblur":case"afterblur":X=Mo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=bb;break;case Sf:case jf:case Tf:X=ab;break;case Ef:X=vb;break;case"scroll":case"scrollend":X=tb;break;case"wheel":X=_b;break;case"copy":case"cut":case"paste":X=ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=lf;break;case"toggle":case"beforetoggle":X=Sb}var ve=(l&4)!==0,Ve=!ve&&(t==="scroll"||t==="scrollend"),z=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var D=V,H;D!==null;){var ne=D;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||z===null||(ne=ci(D,z),ne!=null&&ve.push(Hi(D,ne,H))),Ve)break;D=D.return}0<ve.length&&(Y=new X(Y,ge,null,r,te),se.push({event:Y,listeners:ve}))}}if((l&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&r!==So&&(ge=r.relatedTarget||r.fromElement)&&(Ws(ge)||ge[Zs]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(ge=r.relatedTarget||r.toElement,X=V,ge=ge?Ws(ge):null,ge!==null&&(Ve=d(ge),ve=ge.tag,ge!==Ve||ve!==5&&ve!==27&&ve!==6)&&(ge=null)):(X=null,ge=V),X!==ge)){if(ve=nf,ne="onMouseLeave",z="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=lf,ne="onPointerLeave",z="onPointerEnter",D="pointer"),Ve=X==null?Y:oi(X),H=ge==null?Y:oi(ge),Y=new ve(ne,D+"leave",X,r,te),Y.target=Ve,Y.relatedTarget=H,ne=null,Ws(te)===V&&(ve=new ve(z,D+"enter",ge,r,te),ve.target=H,ve.relatedTarget=Ve,ne=ve),Ve=ne,X&&ge)t:{for(ve=wy,z=X,D=ge,H=0,ne=z;ne;ne=ve(ne))H++;ne=0;for(var be=D;be;be=ve(be))ne++;for(;0<H-ne;)z=ve(z),H--;for(;0<ne-H;)D=ve(D),ne--;for(;H--;){if(z===D||D!==null&&z===D.alternate){ve=z;break t}z=ve(z),D=ve(D)}ve=null}else ve=null;X!==null&&Qm(se,Y,X,ve,!1),ge!==null&&Ve!==null&&Qm(se,Ve,ge,ve,!0)}}e:{if(Y=V?oi(V):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ue=hf;else if(uf(Y))if(mf)Ue=Ib;else{Ue=Rb;var xe=Mb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?V&&wo(V.elementType)&&(Ue=hf):Ue=Db;if(Ue&&(Ue=Ue(t,V))){ff(se,Ue,r,te);break e}xe&&xe(t,Y,V),t==="focusout"&&V&&Y.type==="number"&&V.memoizedProps.value!=null&&_o(Y,"number",Y.value)}switch(xe=V?oi(V):window,t){case"focusin":(uf(xe)||xe.contentEditable==="true")&&(ol=xe,zo=V,xi=null);break;case"focusout":xi=zo=ol=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,_f(se,r,te);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":_f(se,r,te)}var Se;if(Do)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else rl?cf(t,r)&&(ke="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(af&&r.locale!=="ko"&&(rl||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&rl&&(Se=ef()):($n=te,Co="value"in $n?$n.value:$n.textContent,rl=!0)),xe=br(V,ke),0<xe.length&&(ke=new sf(ke,t,null,r,te),se.push({event:ke,listeners:xe}),Se?ke.data=Se:(Se=df(r),Se!==null&&(ke.data=Se)))),(Se=Tb?Eb(t,r):Cb(t,r))&&(ke=br(V,"onBeforeInput"),0<ke.length&&(xe=new sf("onBeforeInput","beforeinput",null,r,te),se.push({event:xe,listeners:ke}),xe.data=Se)),yy(se,t,V,r,te)}Ym(se,l)})}function Hi(t,l,r){return{instance:t,listener:l,currentTarget:r}}function br(t,l){for(var r=l+"Capture",c=[];t!==null;){var g=t,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ci(t,r),g!=null&&c.unshift(Hi(t,g,y)),g=ci(t,l),g!=null&&c.push(Hi(t,g,y))),t.tag===3)return c;t=t.return}return[]}function wy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qm(t,l,r,c,g){for(var y=l._reactName,_=[];r!==null&&r!==c;){var S=r,M=S.alternate,V=S.stateNode;if(S=S.tag,M!==null&&M===c)break;S!==5&&S!==26&&S!==27||V===null||(M=V,g?(V=ci(r,y),V!=null&&_.unshift(Hi(r,V,M))):g||(V=ci(r,y),V!=null&&_.push(Hi(r,V,M)))),r=r.return}_.length!==0&&t.push({event:l,listeners:_})}var Sy=/\r\n?/g,jy=/\u0000|\uFFFD/g;function Xm(t){return(typeof t=="string"?t:""+t).replace(Sy,`
`).replace(jy,"")}function Zm(t,l){return l=Xm(l),Xm(t)===l}function He(t,l,r,c,g,y){switch(r){case"children":typeof c=="string"?l==="body"||l==="textarea"&&c===""||ll(t,c):(typeof c=="number"||typeof c=="bigint")&&l!=="body"&&ll(t,""+c);break;case"className":_a(t,"class",c);break;case"tabIndex":_a(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(t,r,c);break;case"style":Xu(t,c,y);break;case"data":if(l!=="object"){_a(t,"data",c);break}case"src":case"href":if(c===""&&(l!=="a"||r!=="href")){t.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Sa(""+c),t.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(l!=="input"&&He(t,l,"name",g.name,g,null),He(t,l,"formEncType",g.formEncType,g,null),He(t,l,"formMethod",g.formMethod,g,null),He(t,l,"formTarget",g.formTarget,g,null)):(He(t,l,"encType",g.encType,g,null),He(t,l,"method",g.method,g,null),He(t,l,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(r);break}c=Sa(""+c),t.setAttribute(r,c);break;case"onClick":c!=null&&(t.onclick=Nn);break;case"onScroll":c!=null&&Ce("scroll",t);break;case"onScrollEnd":c!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""+c):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":c===!0?t.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(r,c):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(r,c):t.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(r):t.setAttribute(r,c);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),Na(t,"popover",c);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Na(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Wx.get(r)||r,Na(t,r,c))}}function cd(t,l,r,c,g,y){switch(r){case"style":Xu(t,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof c=="string"?ll(t,c):(typeof c=="number"||typeof c=="bigint")&&ll(t,""+c);break;case"onScroll":c!=null&&Ce("scroll",t);break;case"onScrollEnd":c!=null&&Ce("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(g=r.endsWith("Capture"),l=r.slice(2,g?r.length-7:void 0),y=t[jt]||null,y=y!=null?y[r]:null,typeof y=="function"&&t.removeEventListener(l,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(l,c,g);break e}r in t?t[r]=c:c===!0?t.setAttribute(r,""):Na(t,r,c)}}}function mt(t,l,r){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var c=!1,g=!1,y;for(y in r)if(r.hasOwnProperty(y)){var _=r[y];if(_!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:He(t,l,y,_,r,null)}}g&&He(t,l,"srcSet",r.srcSet,r,null),c&&He(t,l,"src",r.src,r,null);return;case"input":Ce("invalid",t);var S=y=_=g=null,M=null,V=null;for(c in r)if(r.hasOwnProperty(c)){var te=r[c];if(te!=null)switch(c){case"name":g=te;break;case"type":_=te;break;case"checked":M=te;break;case"defaultChecked":V=te;break;case"value":y=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,l));break;default:He(t,l,c,te,r,null)}}Ju(t,y,S,M,V,_,g,!1);return;case"select":Ce("invalid",t),c=_=y=null;for(g in r)if(r.hasOwnProperty(g)&&(S=r[g],S!=null))switch(g){case"value":y=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:He(t,l,g,S,r,null)}l=y,r=_,t.multiple=!!c,l!=null?sl(t,!!c,l,!1):r!=null&&sl(t,!!c,r,!0);return;case"textarea":Ce("invalid",t),y=g=c=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":g=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:He(t,l,_,S,r,null)}Ku(t,c,g,y);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(c=r[M],c!=null))switch(M){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:He(t,l,M,c,r,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(c=0;c<Gi.length;c++)Ce(Gi[c],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(c=r[V],c!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:He(t,l,V,c,r,null)}return;default:if(wo(l)){for(te in r)r.hasOwnProperty(te)&&(c=r[te],c!==void 0&&cd(t,l,te,c,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(c=r[S],c!=null&&He(t,l,S,c,r,null))}function Ty(t,l,r,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,_=null,S=null,M=null,V=null,te=null;for(X in r){var se=r[X];if(r.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=se;default:c.hasOwnProperty(X)||He(t,l,X,null,c,se)}}for(var Y in c){var X=c[Y];if(se=r[Y],c.hasOwnProperty(Y)&&(X!=null||se!=null))switch(Y){case"type":y=X;break;case"name":g=X;break;case"checked":V=X;break;case"defaultChecked":te=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,l));break;default:X!==se&&He(t,l,Y,X,c,se)}}No(t,_,S,M,V,te,y,g);return;case"select":X=_=S=Y=null;for(y in r)if(M=r[y],r.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":X=M;default:c.hasOwnProperty(y)||He(t,l,y,null,c,M)}for(g in c)if(y=c[g],M=r[g],c.hasOwnProperty(g)&&(y!=null||M!=null))switch(g){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":_=y;default:y!==M&&He(t,l,g,y,c,M)}l=S,r=_,c=X,Y!=null?sl(t,!!r,Y,!1):!!c!=!!r&&(l!=null?sl(t,!!r,l,!0):sl(t,!!r,r?[]:"",!1));return;case"textarea":X=Y=null;for(S in r)if(g=r[S],r.hasOwnProperty(S)&&g!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:He(t,l,S,null,c,g)}for(_ in c)if(g=c[_],y=r[_],c.hasOwnProperty(_)&&(g!=null||y!=null))switch(_){case"value":Y=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&He(t,l,_,g,c,y)}Yu(t,Y,X);return;case"option":for(var ge in r)if(Y=r[ge],r.hasOwnProperty(ge)&&Y!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:He(t,l,ge,null,c,Y)}for(M in c)if(Y=c[M],X=r[M],c.hasOwnProperty(M)&&Y!==X&&(Y!=null||X!=null))switch(M){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:He(t,l,M,Y,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)Y=r[ve],r.hasOwnProperty(ve)&&Y!=null&&!c.hasOwnProperty(ve)&&He(t,l,ve,null,c,Y);for(V in c)if(Y=c[V],X=r[V],c.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,l));break;default:He(t,l,V,Y,c,X)}return;default:if(wo(l)){for(var Ve in r)Y=r[Ve],r.hasOwnProperty(Ve)&&Y!==void 0&&!c.hasOwnProperty(Ve)&&cd(t,l,Ve,void 0,c,Y);for(te in c)Y=c[te],X=r[te],!c.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||cd(t,l,te,Y,c,X);return}}for(var z in r)Y=r[z],r.hasOwnProperty(z)&&Y!=null&&!c.hasOwnProperty(z)&&He(t,l,z,null,c,Y);for(se in c)Y=c[se],X=r[se],!c.hasOwnProperty(se)||Y===X||Y==null&&X==null||He(t,l,se,Y,c,X)}function Wm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ey(){if(typeof performance.getEntriesByType=="function"){for(var t=0,l=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var g=r[c],y=g.transferSize,_=g.initiatorType,S=g.duration;if(y&&S&&Wm(_)){for(_=0,S=g.responseEnd,c+=1;c<r.length;c++){var M=r[c],V=M.startTime;if(V>S)break;var te=M.transferSize,se=M.initiatorType;te&&Wm(se)&&(M=M.responseEnd,_+=te*(M<S?1:(S-V)/(M-V)))}if(--c,l+=8*(y+_)/(g.duration/1e3),t++,10<t)break}}if(0<t)return l/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,ud=null;function yr(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tp(t,l){if(t===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&l==="foreignObject"?0:t}function fd(t,l){return t==="textarea"||t==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hd=null;function Cy(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(My)}:np;function My(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function lp(t,l){var r=l,c=0;do{var g=r.nextSibling;if(t.removeChild(r),g&&g.nodeType===8)if(r=g.data,r==="/$"||r==="/&"){if(c===0){t.removeChild(g),Ul(l);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Vi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Vi(r);for(var y=r.firstChild;y;){var _=y.nextSibling,S=y.nodeName;y[ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=_}}else r==="body"&&Vi(t.ownerDocument.body);r=g}while(r);Ul(l)}function ip(t,l){var r=t;t=0;do{var c=r.nextSibling;if(r.nodeType===1?l?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(l?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=c}while(r)}function md(t){var l=t.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var r=l;switch(l=l.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),yo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Ry(t,l,r,c){for(;t.nodeType===1;){var g=r;if(t.nodeName.toLowerCase()!==l.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ri])switch(l){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(l==="input"&&t.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Zt(t.nextSibling),t===null)break}return null}function Dy(t,l,r){if(l==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zt(t.nextSibling),t===null))return null;return t}function ap(t,l){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Zt(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$?"||t.data==="$~"}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Iy(t,l){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=l;else if(t.data!=="$?"||r.readyState!=="loading")l();else{var c=function(){l(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Zt(t){for(;t!=null;t=t.nextSibling){var l=t.nodeType;if(l===1||l===3)break;if(l===8){if(l=t.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return t}var xd=null;function rp(t){t=t.nextSibling;for(var l=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(l===0)return Zt(t.nextSibling);l--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||l++}t=t.nextSibling}return null}function op(t){t=t.previousSibling;for(var l=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(l===0)return t;l--}else r!=="/$"&&r!=="/&"||l++}t=t.previousSibling}return null}function cp(t,l,r){switch(l=yr(r),t){case"html":if(t=l.documentElement,!t)throw Error(a(452));return t;case"head":if(t=l.head,!t)throw Error(a(453));return t;case"body":if(t=l.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vi(t){for(var l=t.attributes;l.length;)t.removeAttributeNode(l[0]);yo(t)}var Wt=new Map,dp=new Set;function vr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zn=$.d;$.d={f:Uy,r:Ly,D:zy,C:Py,L:Oy,m:qy,X:Hy,S:Gy,M:Vy};function Uy(){var t=zn.f(),l=ur();return t||l}function Ly(t){var l=el(t);l!==null&&l.tag===5&&l.type==="form"?Eh(l):zn.r(t)}var Rl=typeof document>"u"?null:document;function up(t,l,r){var c=Rl;if(c&&typeof l=="string"&&l){var g=$t(l);g='link[rel="'+t+'"][href="'+g+'"]',typeof r=="string"&&(g+='[crossorigin="'+r+'"]'),dp.has(g)||(dp.add(g),t={rel:t,crossOrigin:r,href:l},c.querySelector(g)===null&&(l=c.createElement("link"),mt(l,"link",t),ot(l),c.head.appendChild(l)))}}function zy(t){zn.D(t),up("dns-prefetch",t,null)}function Py(t,l){zn.C(t,l),up("preconnect",t,l)}function Oy(t,l,r){zn.L(t,l,r);var c=Rl;if(c&&t&&l){var g='link[rel="preload"][as="'+$t(l)+'"]';l==="image"&&r&&r.imageSrcSet?(g+='[imagesrcset="'+$t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(g+='[imagesizes="'+$t(r.imageSizes)+'"]')):g+='[href="'+$t(t)+'"]';var y=g;switch(l){case"style":y=Dl(t);break;case"script":y=Il(t)}Wt.has(y)||(t=v({rel:"preload",href:l==="image"&&r&&r.imageSrcSet?void 0:t,as:l},r),Wt.set(y,t),c.querySelector(g)!==null||l==="style"&&c.querySelector(Bi(y))||l==="script"&&c.querySelector($i(y))||(l=c.createElement("link"),mt(l,"link",t),ot(l),c.head.appendChild(l)))}}function qy(t,l){zn.m(t,l);var r=Rl;if(r&&t){var c=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+$t(c)+'"][href="'+$t(t)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Il(t)}if(!Wt.has(y)&&(t=v({rel:"modulepreload",href:t},l),Wt.set(y,t),r.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector($i(y)))return}c=r.createElement("link"),mt(c,"link",t),ot(c),r.head.appendChild(c)}}}function Gy(t,l,r){zn.S(t,l,r);var c=Rl;if(c&&t){var g=tl(c).hoistableStyles,y=Dl(t);l=l||"default";var _=g.get(y);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(Bi(y)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":l},r),(r=Wt.get(y))&&bd(t,r);var M=_=c.createElement("link");ot(M),mt(M,"link",t),M._p=new Promise(function(V,te){M.onload=V,M.onerror=te}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nr(_,l,c)}_={type:"stylesheet",instance:_,count:1,state:S},g.set(y,_)}}}function Hy(t,l){zn.X(t,l);var r=Rl;if(r&&t){var c=tl(r).hoistableScripts,g=Il(t),y=c.get(g);y||(y=r.querySelector($i(g)),y||(t=v({src:t,async:!0},l),(l=Wt.get(g))&&yd(t,l),y=r.createElement("script"),ot(y),mt(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Vy(t,l){zn.M(t,l);var r=Rl;if(r&&t){var c=tl(r).hoistableScripts,g=Il(t),y=c.get(g);y||(y=r.querySelector($i(g)),y||(t=v({src:t,async:!0,type:"module"},l),(l=Wt.get(g))&&yd(t,l),y=r.createElement("script"),ot(y),mt(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function fp(t,l,r,c){var g=(g=ye.current)?vr(g):null;if(!g)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(l=Dl(r.href),r=tl(g).hoistableStyles,c=r.get(l),c||(c={type:"style",instance:null,count:0,state:null},r.set(l,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Dl(r.href);var y=tl(g).hoistableStyles,_=y.get(t);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,_),(y=g.querySelector(Bi(t)))&&!y._p&&(_.instance=y,_.state.loading=5),Wt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wt.set(t,r),y||By(g,t,r,_.state))),l&&c===null)throw Error(a(528,""));return _}if(l&&c!==null)throw Error(a(529,""));return null;case"script":return l=r.async,r=r.src,typeof r=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Il(r),r=tl(g).hoistableScripts,c=r.get(l),c||(c={type:"script",instance:null,count:0,state:null},r.set(l,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Dl(t){return'href="'+$t(t)+'"'}function Bi(t){return'link[rel="stylesheet"]['+t+"]"}function hp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function By(t,l,r,c){t.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=t.createElement("link"),c.preload=l,l.addEventListener("load",function(){return c.loading|=1}),l.addEventListener("error",function(){return c.loading|=2}),mt(l,"link",r),ot(l),t.head.appendChild(l))}function Il(t){return'[src="'+$t(t)+'"]'}function $i(t){return"script[async]"+t}function mp(t,l,r){if(l.count++,l.instance===null)switch(l.type){case"style":var c=t.querySelector('style[data-href~="'+$t(r.href)+'"]');if(c)return l.instance=c,ot(c),c;var g=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ot(c),mt(c,"style",g),Nr(c,r.precedence,t),l.instance=c;case"stylesheet":g=Dl(r.href);var y=t.querySelector(Bi(g));if(y)return l.state.loading|=4,l.instance=y,ot(y),y;c=hp(r),(g=Wt.get(g))&&bd(c,g),y=(t.ownerDocument||t).createElement("link"),ot(y);var _=y;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),mt(y,"link",c),l.state.loading|=4,Nr(y,r.precedence,t),l.instance=y;case"script":return y=Il(r.src),(g=t.querySelector($i(y)))?(l.instance=g,ot(g),g):(c=r,(g=Wt.get(y))&&(c=v({},r),yd(c,g)),t=t.ownerDocument||t,g=t.createElement("script"),ot(g),mt(g,"link",c),t.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(c=l.instance,l.state.loading|=4,Nr(c,r.precedence,t));return l.instance}function Nr(t,l,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===l)y=S;else if(y!==g)break}y?y.parentNode.insertBefore(t,y.nextSibling):(l=r.nodeType===9?r.head:r,l.insertBefore(t,l.firstChild))}function bd(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.title==null&&(t.title=l.title)}function yd(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.integrity==null&&(t.integrity=l.integrity)}var _r=null;function pp(t,l,r){if(_r===null){var c=new Map,g=_r=new Map;g.set(r,c)}else g=_r,c=g.get(r),c||(c=new Map,g.set(r,c));if(c.has(t))return c;for(c.set(t,null),r=r.getElementsByTagName(t),g=0;g<r.length;g++){var y=r[g];if(!(y[ri]||y[dt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(l)||"";_=t+_;var S=c.get(_);S?S.push(y):c.set(_,[y])}}return c}function gp(t,l,r){t=t.ownerDocument||t,t.head.insertBefore(r,l==="title"?t.querySelector("head > title"):null)}function $y(t,l,r){if(r===1||l.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return t=l.disabled,typeof l.precedence=="string"&&t==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fy(t,l,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=Dl(c.href),y=l.querySelector(Bi(g));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(t.count++,t=wr.bind(t),l.then(t,t)),r.state.loading|=4,r.instance=y,ot(y);return}y=l.ownerDocument||l,c=hp(c),(g=Wt.get(g))&&bd(c,g),y=y.createElement("link"),ot(y);var _=y;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),mt(y,"link",c),r.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,l),(l=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wr.bind(t),l.addEventListener("load",r),l.addEventListener("error",r))}}var vd=0;function Jy(t,l){return t.stylesheets&&t.count===0&&jr(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var c=setTimeout(function(){if(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+l);0<t.imgBytes&&vd===0&&(vd=62500*Ey());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>vd?50:800)+l);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function wr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sr=null;function jr(t,l){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sr=new Map,l.forEach(Yy,t),Sr=null,wr.call(t))}function Yy(t,l){if(!(l.state.loading&4)){var r=Sr.get(t);if(r)var c=r.get(null);else{r=new Map,Sr.set(t,r);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var _=g[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),c=_)}c&&r.set(null,c)}g=l.instance,_=g.getAttribute("data-precedence"),y=r.get(_)||c,y===c&&r.set(null,g),r.set(_,g),this.count++,c=wr.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),l.state.loading|=4}}var Fi={$$typeof:B,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Ky(t,l,r,c,g,y,_,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function bp(t,l,r,c,g,y,_,S,M,V,te,se){return t=new Ky(t,l,r,_,M,V,te,se,S),l=1,y===!0&&(l|=24),y=Ut(3,null,null,l),t.current=y,y.stateNode=t,l=Wo(),l.refCount++,t.pooledCache=l,l.refCount++,y.memoizedState={element:c,isDehydrated:r,cache:l},sc(y),t}function yp(t){return t?(t=ul,t):ul}function vp(t,l,r,c,g,y){g=yp(g),c.context===null?c.context=g:c.pendingContext=g,c=Xn(l),c.payload={element:r},y=y===void 0?null:y,y!==null&&(c.callback=y),r=Zn(t,c,l),r!==null&&(Mt(r,t,l),Si(r,t,l))}function Np(t,l){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<l?r:l}}function Nd(t,l){Np(t,l),(t=t.alternate)&&Np(t,l)}function _p(t){if(t.tag===13||t.tag===31){var l=Es(t,67108864);l!==null&&Mt(l,t,67108864),Nd(t,67108864)}}function wp(t){if(t.tag===13||t.tag===31){var l=qt();l=go(l);var r=Es(t,l);r!==null&&Mt(r,t,l),Nd(t,l)}}var Tr=!0;function Qy(t,l,r,c){var g=C.T;C.T=null;var y=$.p;try{$.p=2,_d(t,l,r,c)}finally{$.p=y,C.T=g}}function Xy(t,l,r,c){var g=C.T;C.T=null;var y=$.p;try{$.p=8,_d(t,l,r,c)}finally{$.p=y,C.T=g}}function _d(t,l,r,c){if(Tr){var g=wd(c);if(g===null)od(t,l,c,Er,r),jp(t,c);else if(Wy(g,t,l,r,c))c.stopPropagation();else if(jp(t,c),l&4&&-1<Zy.indexOf(t)){for(;g!==null;){var y=el(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Xe(y.pendingLanes);if(_!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-xt(_);S.entanglements[1]|=M,_&=~M}gn(y),(Pe&6)===0&&(cr=gt()+500,qi(0))}}break;case 31:case 13:S=Es(y,2),S!==null&&Mt(S,y,2),ur(),Nd(y,2)}if(y=wd(c),y===null&&od(t,l,c,Er,r),y===g)break;g=y}g!==null&&c.stopPropagation()}else od(t,l,c,null,r)}}function wd(t){return t=jo(t),Sd(t)}var Er=null;function Sd(t){if(Er=null,t=Ws(t),t!==null){var l=d(t);if(l===null)t=null;else{var r=l.tag;if(r===13){if(t=f(l),t!==null)return t;t=null}else if(r===31){if(t=m(l),t!==null)return t;t=null}else if(r===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;t=null}else l!==t&&(t=null)}}return Er=t,null}function Sp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case ga:return 2;case Ys:return 8;case Ks:case Qs:return 32;case xa:return 268435456;default:return 32}default:return 32}}var jd=!1,cs=null,ds=null,us=null,Ji=new Map,Yi=new Map,fs=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(t,l){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ji.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(l.pointerId)}}function Ki(t,l,r,c,g,y){return t===null||t.nativeEvent!==y?(t={blockedOn:l,domEventName:r,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},l!==null&&(l=el(l),l!==null&&_p(l)),t):(t.eventSystemFlags|=c,l=t.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),t)}function Wy(t,l,r,c,g){switch(l){case"focusin":return cs=Ki(cs,t,l,r,c,g),!0;case"dragenter":return ds=Ki(ds,t,l,r,c,g),!0;case"mouseover":return us=Ki(us,t,l,r,c,g),!0;case"pointerover":var y=g.pointerId;return Ji.set(y,Ki(Ji.get(y)||null,t,l,r,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Yi.set(y,Ki(Yi.get(y)||null,t,l,r,c,g)),!0}return!1}function Tp(t){var l=Ws(t.target);if(l!==null){var r=d(l);if(r!==null){if(l=r.tag,l===13){if(l=f(r),l!==null){t.blockedOn=l,Ou(t.priority,function(){wp(r)});return}}else if(l===31){if(l=m(r),l!==null){t.blockedOn=l,Ou(t.priority,function(){wp(r)});return}}else if(l===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cr(t){if(t.blockedOn!==null)return!1;for(var l=t.targetContainers;0<l.length;){var r=wd(t.nativeEvent);if(r===null){r=t.nativeEvent;var c=new r.constructor(r.type,r);So=c,r.target.dispatchEvent(c),So=null}else return l=el(r),l!==null&&_p(l),t.blockedOn=r,!1;l.shift()}return!0}function Ep(t,l,r){Cr(t)&&r.delete(l)}function ev(){jd=!1,cs!==null&&Cr(cs)&&(cs=null),ds!==null&&Cr(ds)&&(ds=null),us!==null&&Cr(us)&&(us=null),Ji.forEach(Ep),Yi.forEach(Ep)}function Ar(t,l){t.blockedOn===l&&(t.blockedOn=null,jd||(jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ev)))}var kr=null;function Cp(t){kr!==t&&(kr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kr===t&&(kr=null);for(var l=0;l<t.length;l+=3){var r=t[l],c=t[l+1],g=t[l+2];if(typeof c!="function"){if(Sd(c||r)===null)continue;break}var y=el(r);y!==null&&(t.splice(l,3),l-=3,wc(y,{pending:!0,data:g,method:r.method,action:c},c,g))}}))}function Ul(t){function l(M){return Ar(M,t)}cs!==null&&Ar(cs,t),ds!==null&&Ar(ds,t),us!==null&&Ar(us,t),Ji.forEach(l),Yi.forEach(l);for(var r=0;r<fs.length;r++){var c=fs[r];c.blockedOn===t&&(c.blockedOn=null)}for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)Tp(r),r.blockedOn===null&&fs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var g=r[c],y=r[c+1],_=g[jt]||null;if(typeof y=="function")_||Cp(r);else if(_){var S=null;if(y&&y.hasAttribute("formAction")){if(g=y,_=y[jt]||null)S=_.formAction;else if(Sd(g)!==null)continue}else S=_.action;typeof S=="function"?r[c+1]=S:(r.splice(c,3),c-=3),Cp(r)}}}function Ap(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function l(){g!==null&&(g(),g=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),g!==null&&(g(),g=null)}}}function Td(t){this._internalRoot=t}Mr.prototype.render=Td.prototype.render=function(t){var l=this._internalRoot;if(l===null)throw Error(a(409));var r=l.current,c=qt();vp(r,c,t,l,null,null)},Mr.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var l=t.containerInfo;vp(t.current,2,null,t,null,null),ur(),l[Zs]=null}};function Mr(t){this._internalRoot=t}Mr.prototype.unstable_scheduleHydration=function(t){if(t){var l=Pu();t={blockedOn:null,target:t,priority:l};for(var r=0;r<fs.length&&l!==0&&l<fs[r].priority;r++);fs.splice(r,0,t),r===0&&Tp(t)}};var kp=e.version;if(kp!=="19.2.0")throw Error(a(527,kp,"19.2.0"));$.findDOMNode=function(t){var l=t._reactInternals;if(l===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(l),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var tv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{yn=Rr.inject(tv),$e=Rr}catch{}}return Xi.createRoot=function(t,l){if(!o(t))throw Error(a(299));var r=!1,c="",g=zh,y=Ph,_=Oh;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=bp(t,1,!1,null,null,r,c,null,g,y,_,Ap),t[Zs]=l.current,rd(t),new Td(l)},Xi.hydrateRoot=function(t,l,r){if(!o(t))throw Error(a(299));var c=!1,g="",y=zh,_=Ph,S=Oh,M=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),l=bp(t,1,!0,l,r??null,c,g,M,y,_,S,Ap),l.context=yp(null),r=l.current,c=qt(),c=go(c),g=Xn(c),g.callback=null,Zn(r,g,c),r=c,l.current.lanes=r,ai(l,r),gn(l),t[Zs]=l.current,rd(t),new Mr(l)},Xi.version="19.2.0",Xi}var qp;function dv(){if(qp)return Ad.exports;qp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ad.exports=cv(),Ad.exports}var uv=dv();const fv=Ug(uv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mv=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Gp=n=>{const e=mv(n);return e.charAt(0).toUpperCase()+e.slice(1)},zg=(...n)=>n.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),pv=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:d,iconNode:f,...m},x)=>P.createElement("svg",{ref:x,...gv,width:e,height:e,stroke:n,strokeWidth:a?Number(i)*24/Number(e):i,className:zg("lucide",o),...!d&&!pv(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,b])=>P.createElement(p,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(n,e)=>{const i=P.forwardRef(({className:a,...o},d)=>P.createElement(xv,{ref:d,iconNode:e,className:zg(`lucide-${hv(Gp(n))}`,`lucide-${n}`,a),...o}));return i.displayName=Gp(n),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qr=re("activity",bv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],vv=re("arrow-left-right",yv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pg=re("arrow-right",Nv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$d=re("award",_v);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vt=re("book-open",wv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],du=re("brain-circuit",Sv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],uu=re("briefcase",jv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ev=re("building-2",Tv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],bn=re("calculator",Cv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Og=re("calendar",Av);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],fu=re("chart-no-axes-column",kv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Gr=re("chart-pie",Mv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vl=re("check",Rv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hr=re("chevron-down",Dv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hu=re("chevron-left",Iv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mu=re("chevron-right",Uv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zr=re("circle-alert",Lv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Vr=re("circle-arrow-up",zv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hp=re("circle-check-big",Pv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ys=re("circle-check",Ov);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qg=re("circle-question-mark",qv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hv=re("circle-user-round",Gv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bv=re("clock",Vv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],Fv=re("cloud-lightning",$v);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],pu=re("cloud",Jv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vp=re("copy",Yv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qv=re("crown",Kv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Br=re("database",Xv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gu=re("download",Zv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],e1=re("ellipsis-vertical",Wv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n1=re("external-link",t1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],l1=re("file-code",s1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Wr=re("file-down",i1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Fd=re("file-spreadsheet",a1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kl=re("file-text",r1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],c1=re("funnel",o1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],u1=re("gavel",d1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],h1=re("git-compare",f1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],p1=re("globe",m1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Jd=re("graduation-cap",g1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],b1=re("hard-drive",x1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],v1=re("hexagon",y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_1=re("history",N1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xn=re("info",w1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],j1=re("key-round",S1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gg=re("layers",T1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],C1=re("layout-dashboard",E1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],k1=re("layout-list",A1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],R1=re("layout-grid",M1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],I1=re("lightbulb",D1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],L1=re("link",U1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],P1=re("list",z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xu=re("loader-circle",O1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],G1=re("log-in",q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dd=re("lock",H1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B1=re("log-out",V1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],F1=re("mail",$1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hg=re("map-pin",J1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],K1=re("map",Y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],X1=re("message-circle",Q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Vg=re("mic-off",Z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Bg=re("mic",W1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],$r=re("microscope",eN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],nN=re("monitor-smartphone",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],lN=re("octagon-alert",sN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aN=re("pen-line",iN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],eo=re("pen-tool",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cN=re("plus",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Wl=re("printer",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],$g=re("puzzle",uN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],hN=re("radar",fN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ra=re("refresh-ccw",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],gN=re("rotate-cw",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fg=re("save",xN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],to=re("scale",bN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],un=re("school",yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],NN=re("scroll-text",vN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wN=re("search",_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jg=re("shield-check",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],TN=re("shield",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],CN=re("sigma",EN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bs=re("sparkles",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yg=re("square-check-big",kN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],bu=re("stamp",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kg=re("star",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Qg=re("stethoscope",DN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],no=re("target",IN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],LN=re("thumbs-up",UN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xg=re("trash-2",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ON=re("trending-down",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fa=re("trending-up",qN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oa=re("triangle-alert",GN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],VN=re("trophy",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ca=re("upload",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FN=re("user-plus",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bs=re("user",JN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],da=re("users",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],QN=re("video",KN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Zg=re("wand-sparkles",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],On=re("x",ZN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],e_=re("youtube",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yd=re("zap",t_),n_=["  ( )","  ( )","  ( )","  ( )","  ()","  ( )","  ( )","  ( )","  (  )","  ()","  ()","  ()","  ()","  ()","  (//)","  ( )","  ( )","","  "," "," ","",""," "," "],Wg=["()  ","()   ","   ","  ","",""],ex=["  ","    ","    ","    "],s_=[" "," "," "," "," "," "],l_={" ":["            .","          .","         .","         .","            .","         .","            .","           .","    (  )   .","       .","          .","        .","         .","         .","          ."]," ":["          .","       .","         .","       .","      .","       .","       .","         .","       .","     .","        .","      .","        .","      .","      ."]," ":["       .","        .","       .","      .","     .","      .","     .","     .","     .","     .","     .","     .","     .","    .","     ."]," ":["         .","         .","       (     ).","   ( )   ( )   .","       .","          .","          .","        .","         .","       .","       .","       .","        .","     .","      ( )."]," ":["          .","          .","     ( )   .","    (  )  .","            .","   (  )  .","       .","         .","       .","           .","        .","        .","      .","      .","      ."]," ":["        .","        .","       .","         .","     .","      .","         .","      (  ).","       .","       .","    (  )    .","       .","        .","    (  ).","     ."]," ":["    (    ).","       .","       .","      .","        .","      .",'  "--"   .',"       .","        .","      .","    (  )   .","      .","       .","  ()     .","      ."]," ":["         .","     (  ...)  .","         .","        .","       .","         .","     (4-5)   .","         .","      .","         .","      .","          .","         .",'  ""   ""  .',"       ."]," ":["       .","   (    )  .","          .","        .","        .","       .","        .","           .","      .",'   ""    .',"       .","        .","      .","      .","         ."]," ":["        .","   ( )  .","        .",'   "/"    .',"       .","        .","     (    ).","       .","      (   ).","        .","    .","       .","        .","       .","         ."]," ":["     ()   .","         .","        .","        (  ).","          .","        .","         .","        .",'  ""   .',"       .","     (    ).","       .","         .","         .","       ."]," ":["         .","        .","       .","       .","        .","    (    ).","      .","         .","       .","       .","      .","       .","      .","     (    ).","         ."]," ":["     .","       .","   ()    .","      ().","        .","   ()   .","     .","     .","      .","       .","        .","      .","       .","    (/)  (/)  .","        ."]," ":["        .","   (  )   .","        .","        .","      .","    (     ).","       .","       ( ).","       .","     ( ).","        .","      .","         .","        .","         ."],:["      .","       .","            .","      .","        .","      .","      (   ).","         .","       .","      .","         .","       .","       .","        .","         ."]," ":["       .","       .","       .","       .","      .","     (   ).","        (  U ).","       .","       .","      .","     .","        .","       .","      .","        ."]," ":["       .","       .","       .","     ( 5  ...).","         .","        .","       .","     .","      .","         .","       .","       .","         .","      .","      ."]," ":["          .",'     "" " " "".',"       .","       .","        .","       .","       .","        .","        .","      .","     .","    .","     .","      .","          ."],:["   (-)    (-).","      .","     .","        .","    (  ).","    (  ).","       .","      .","        .","       .","     .","      .","     .","       .","        ."],:["      .","   (     ).","      .","      .","      .","        .","      .","    .","    .","   (   ).","        .","    .","       ( ).","      .","     ."]," ":["       .","    .","        .","     .","       .","     .","      .","       .","      .","      .","    .","     (  ).","        .","      .","       ."],:["       .","      (   ...).","    .","      .","        .","     .","        .","      .","       .","      .","         .","    .","      .","      ( ).","   ."]," ":["       .","   (  )  .","       .","       .","      .","       .","   .","       .","     .","       .","     .","      .","       .","        .","       ."]," ":["        .","       .","    (   ).","     .","        .","       .","   (  )   .","      .","  (  ).","   (   ).","      .","     .","     .","      .","      ."],:["        .","      .","   (    ).","          .","      .","        .","      .","       .","         .","        .","       .","       .","     (  ).","        .","       ."],:["    (TIC)    .","   (Data Show)    .","    .","      .","        ( ).","       .","        .","         .","     .","      .","      .","     .","       .","      .","       ."],:["    ( )    .","        .","       .","     .","       .","        .","       .","      .","       .","      .","       .","       .","      .","        .","        ."],:["       .","    (     ).","         .","       .","      .","       .","       ( ).","    (    ) .","        .","       .","       .","       .","       .","     .","       ."]," ":["     (    ).","      (  ).",'  ""    .',"    .","       .","    .","    .","       .","        .","     .","     .","      .","       ( ).","         .","       ."]," ":["       .","      .","     .","    .","      .","     ( ).","    .","    .","      .","    .","      ( ).","       .","     .","      .","      ."],:["      .","   ( )  (  ).","     (    ).","     .","       .","      .","     .","      .","     .","    .","      .","          .","      .","      .","  ( )   ."],:["    ( ) .","    (  ).","   (   ).","      .","    .","      .","       .","      .","      .","     .","         .","    .","     .","       .","        ."]},Fr=[{id:"plan-1",category:"",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"plan-2",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"plan-3",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"plan-4",category:"",criteria:" ",indicators:["       "],score:null,improvementNotes:""},{id:"plan-5",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"exec-1",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"exec-2",category:"",criteria:" ",indicators:["     21 (   )"],score:null,improvementNotes:""},{id:"exec-3",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"eval-1",category:"",criteria:" ",indicators:["       "],score:null,improvementNotes:""},{id:"eval-2",category:"",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"eval-3",category:"",criteria:" ",indicators:["     ( )"],score:null,improvementNotes:""},{id:"eval-4",category:"",criteria:" ",indicators:["        "],score:null,improvementNotes:""},{id:"eval-5",category:"",criteria:" ",indicators:["   (    )"],score:null,improvementNotes:""},{id:"eval-6",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"learn-meth-1",category:" ",criteria:"",indicators:["   "],score:null,improvementNotes:""},{id:"learn-meth-2",category:" ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-meth-3",category:" ",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"learn-comm-1",category:"  ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-comm-2",category:"  ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"learn-comm-3",category:"  ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"learn-resp-1",category:" ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-resp-2",category:" ",criteria:"",indicators:["      "],score:null,improvementNotes:""},{id:"learn-resp-3",category:" ",criteria:" ",indicators:["     ( )"],score:null,improvementNotes:""},{id:"env-phy-1",category:" ",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"env-phy-2",category:" ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"env-phy-3",category:" ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"env-disc-1",category:" ",criteria:"",indicators:["    (  )"],score:null,improvementNotes:""},{id:"env-disc-2",category:" ",criteria:"",indicators:["      "],score:null,improvementNotes:""},{id:"env-disc-3",category:" ",criteria:" ",indicators:["    ( )"],score:null,improvementNotes:""},{id:"env-part-1",category:"  ",criteria:" ",indicators:["   (  )"],score:null,improvementNotes:""},{id:"env-part-2",category:"  ",criteria:"",indicators:["   (   )"],score:null,improvementNotes:""},{id:"env-part-3",category:"  ",criteria:"",indicators:["   (  ...)"],score:null,improvementNotes:""}],i_={schoolYear:`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,daira:"",municipality:"",familyStatus:"()",maidenName:"",trainingInstitute:"  ",trainingDate:"",graduationDate:"",classroomListening:" ",lighting:"",heating:"",ventilation:"",cleanliness:"",lessonPreparation:" ",preparationValue:"",otherAids:" ",boardWork:" ",documentsAndPosters:"  ",registers:"",registersUsed:"",registersMonitored:" ",scheduledPrograms:"",progression:"",duties:"",lessonExecution:" ",informationValue:"  ",objectivesAchieved:" ",studentParticipation:" ",applications:" ",applicationsSuitability:" ",notebooksCare:"",notebooksMonitored:" ",homeworkCorrection:" ",homeworkValue:"",generalAppreciation:""},a_=[" ",""," "," "," "," ","",""," "," "," "],r_=["()  ","()   ","   ","  ","","",""],o_=[" "," "," "," "," "," "],c_=[" ","  ()","   "," ","   "],Bp=["","","","",""],d_=["","","",""," "],u_=[""," ","","",""],f_=[" ","  ","",""," ","   "],h_=["  ","","","   "," "],m_=["  ","  "," ( )","  ","  ","  "," "],p_=["   ","","  ","  "," ","   "],g_=["   ","  "," ","","   "," "],x_=["","","",""],b_=[" ","","","",""],y_=[" ","","  ","",""],v_=["","",""," "],N_=[""," "," ","  "],__=["",""," ","","  "],w_=["  ","","","  ","   "," "],S_=[" ","","",""," "," "],j_=[" "," "," ","   ","     "],T_=["  ",""," ","","   ","   "],E_=[" ","",""," "],C_=["   ","","  "," ","    ","   "],A_=[" ","","","","  "],k_=[" ","","  "," ","  "],M_=[" ","",""," "," "],$p={id:"",teacherId:"",examDate:new Date().toISOString().split("T")[0],wilaya:"",district:"",school:"",city:"",inspectorName:"",directorName:"",teacherMemberName:"",appointmentDecisionNumber:"",appointmentDecisionDate:"",financialVisaNumber:"",financialVisaDate:"",contestDate:"",recruitmentType:"",university:"",lessons:[{id:"l1",order:1,subject:" ",topic:"",level:" ",timeStart:"08:00",timeEnd:"08:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},{id:"l2",order:2,subject:"",topic:"",level:" ",timeStart:"09:00",timeEnd:"09:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},{id:"l3",order:3,subject:" ",topic:"",level:" ",timeStart:"10:00",timeEnd:"10:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""}],oralQuestions:{educationScience:"",psychology:"",legislation:""},pedagogyMark:0,oralMark:0,totalMark:0,finalDecision:"confirmed",culturalValue:"",pedagogicalValue:""},R_=[],Ql={id:"",teacherId:"",reportModel:"modern",inspectionDate:new Date().toISOString().split("T")[0],inspectorName:"",wilaya:"",district:"",school:"",subject:" ",topic:"",duration:"45 ",level:" ",group:"",studentCount:25,absentCount:0,observations:JSON.parse(JSON.stringify(Fr)),legacyData:i_,generalAssessment:"",assessmentKeywords:"",finalMark:0,markInLetters:""},D_={id:"",inspectorName:"",rank:"  ",district:"",wilaya:"",term:"",schoolYear:`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,startDate:"",endDate:"",teachersTotal:0,teachersTrainee:0,teachersTenure:0,visitsInspection:0,visitsTenure:0,visitsTraining:0,visitsTrainingBenefit:0,tasksInvestigations:0,tasksSupervision:0,days:{sun:0,mon:0,tue:0,wed:0,thu:0},ranks:{stagiere:0,primary:0,class1:0,class2:0,distinguished:0,contract:0},levels:{prep:0,year1:0,year2:0,year3:0,year4:0,year5:0},subjects:{arabic:0,math:0,islamic:0,historyGeo:0,civics:0,science:0,music:0,art:0}},Kd=()=>Math.random().toString(36).substr(2,9),yt=n=>{if(!n)return"";if(typeof n=="number"&&n>2e4){const a=new Date(Math.round((n-25569)*86400*1e3));if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}const e=String(n).trim(),i=e.match(/^(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{2,4})$/);if(i){const a=i[1].padStart(2,"0"),o=i[2].padStart(2,"0");let d=i[3];return d.length===2&&(d="20"+d),`${d}-${o}-${a}`}return/^\d{4}-\d{2}-\d{2}$/.test(e),e},I_=()=>{const n=ex,e=Wg,i=["","",""],a=Array.from({length:12},(w,j)=>(j+1).toString()),o=[" "," "," "," "," "," "],d=Math.max(n.length,e.length,i.length,a.length,o.length),f=[["_","_","_","_","_"]];for(let w=0;w<d;w++)f.push([n[w]||"",e[w]||"",i[w]||"",a[w]||"",o[w]||""]);const m=XLSX.utils.book_new();m.Workbook={Views:[{RTL:!0}]};const x=XLSX.utils.aoa_to_sheet(f);XLSX.utils.book_append_sheet(m,x,"Lists");const p=[" "," "," ",""," "," ","","   ",""," ","","  ","  "," "," "],b=XLSX.utils.aoa_to_sheet([p]);b["!views"]||(b["!views"]=[]),b["!views"].push({rightToLeft:!0}),b["!cols"]=[{wch:30},{wch:15},{wch:15},{wch:25},{wch:15},{wch:15},{wch:30},{wch:15},{wch:10},{wch:15},{wch:15},{wch:10},{wch:15},{wch:25},{wch:20}];const v=200;b["!dataValidation"]=[{sqref:`D2:D${v}`,type:"list",operator:"equal",formula1:`'Lists'!$B$2:$B$${e.length+1}`,showDropDown:!0},{sqref:`G2:G${v}`,type:"list",operator:"equal",formula1:`'Lists'!$A$2:$A$${n.length+1}`,showDropDown:!0},{sqref:`I2:I${v}`,type:"list",operator:"equal",formula1:`'Lists'!$D$2:$D$${a.length+1}`,showDropDown:!0},{sqref:`K2:K${v}`,type:"list",operator:"equal",formula1:`'Lists'!$C$2:$C$${i.length+1}`,showDropDown:!0},{sqref:`O2:O${v}`,type:"list",operator:"equal",formula1:`'Lists'!$E$2:$E$${o.length+1}`,showDropDown:!0}];const N=[1,4,5,7,9,12];for(let w=1;w<v;++w)N.forEach(j=>{const E=XLSX.utils.encode_cell({c:j,r:w});b[E]||(b[E]={t:"s",v:""})});return XLSX.utils.book_append_sheet(m,b,"_"),XLSX.write(m,{bookType:"xlsx",type:"array"})},U_=n=>{const e=XLSX.read(n,{type:"array"});let i="_";e.SheetNames.includes(i)||(e.SheetNames.length>1?i=e.SheetNames[1]:i=e.SheetNames[0]);const a=e.Sheets[i],o=XLSX.utils.sheet_to_json(a,{header:1,raw:!0});if(!o||o.length<2)return[];const d=[];for(let f=1;f<o.length;f++){const m=o[f];if(!m||m.length===0||!m[0])continue;const x=String(m[10]||"").trim();let p="titulaire";x.includes("")?p="contractuel":x.includes("")&&(p="stagiere");const b={id:Kd(),fullName:String(m[0]).trim(),birthDate:yt(m[1]),birthPlace:String(m[2]||"").trim(),degree:String(m[3]||"").trim(),degreeDate:yt(m[4]),recruitmentDate:yt(m[5]),rank:String(m[6]||"").trim(),currentRankDate:yt(m[7]),echelon:String(m[8]||"").trim(),echelonDate:yt(m[9]),status:p,lastMark:parseFloat(m[11])||10,lastInspectionDate:yt(m[12]),tenureDate:""};b.fullName&&b.fullName.length>2&&d.push(b)}return d},yu=(n,e,i)=>{const a=["ID","_","_","_","","_","_","","_","","_","__","_","","_"],o=["","","","_","","","","","","_","","","_","_","_"],d=["_","_","_","_","___","__","_","","","_","","","","","_","_","_","","_","","_","_","_","","","_","_","_","_","","_","_","_","_","_","__"],f=[];Fr.forEach(p=>{f.push(`_${p.id}_`),f.push(`_${p.id}_`)});const m=[...a,...o,...d,...f],x=n.map(p=>{if(!p)return[];let b=Ql,v=!1;e&&e.teacherId===p.id?(b=e,v=!0):i&&i[p.id]&&(b=i[p.id],v=!0);const N=b.legacyData||Ql.legacyData,w=[p.id||"",p.fullName||"",p.birthDate||"",p.birthPlace||"",p.degree||"",p.degreeDate||"",p.recruitmentDate||"",p.rank||"",p.currentRankDate||"",p.echelon||"",p.echelonDate||"",p.lastInspectionDate||"",p.lastMark||"",p.status||"",p.tenureDate||""],j=[v?b.wilaya:"",v?b.district:"",v?b.school:"",v?b.inspectionDate:"",v?b.subject:"",v?b.topic:"",v?b.duration:"",v?b.level:"",v?b.group:"",v?b.studentCount:"",v?b.absentCount:"",v?b.generalAssessment:"",v?b.finalMark:"",v?b.markInLetters:"",v&&b.assessmentKeywords||""],E=[v&&b.reportModel||"modern",v&&b.inspectorName||"",v?N.familyStatus:"",v?N.trainingInstitute:"",v?N.trainingDate:"",v?N.graduationDate:"",v?N.schoolYear:"",v?N.daira:"",v?N.municipality:"",v?N.classroomListening:"",v?N.lighting:"",v?N.heating:"",v?N.ventilation:"",v?N.cleanliness:"",v?N.lessonPreparation:"",v?N.preparationValue:"",v?N.otherAids:"",v?N.boardWork:"",v?N.documentsAndPosters:"",v?N.registers:"",v?N.registersUsed:"",v?N.registersMonitored:"",v?N.scheduledPrograms:"",v?N.progression:"",v?N.duties:"",v?N.lessonExecution:"",v?N.informationValue:"",v?N.objectivesAchieved:"",v?N.studentParticipation:"",v?N.applications:"",v?N.applicationsSuitability:"",v?N.notebooksCare:"",v?N.notebooksMonitored:"",v?N.homeworkCorrection:"",v?N.homeworkValue:"",v?N.generalAppreciation:""],U=[];return Fr.forEach(J=>{if(v&&b.observations){const q=b.observations.find(ae=>ae.id===J.id),B=(q==null?void 0:q.score)!=null?q.score:"",F=(q==null?void 0:q.improvementNotes)||"";U.push(B),U.push(F)}else U.push(""),U.push("")}),[...w,...j,...E,...U]});return[m,...x]},tx=n=>{if(!n||n.length<2)return{teachers:[],reportsMap:{}};const e=n[0],i=e[14]&&String(e[14]).includes(""),a=i?1:0,o=e[29+a]&&(String(e[29+a]).includes("_")||String(e[29+a]).includes("Legacy")),d=o&&(String(e[51+a]).includes("")||String(e[51+a]).includes("scheduled")),f=[],m={};for(let x=1;x<n.length;x++){const p=n[x];if(!p||p.length===0)continue;const b=j=>{const E=p[j];return E==null?"":typeof E=="object"?JSON.stringify(E):String(E).trim()};if(!b(1))continue;const v=b(0)||Kd(),N={id:v,fullName:b(1),birthDate:yt(b(2)),birthPlace:b(3),degree:b(4),degreeDate:yt(b(5)),recruitmentDate:yt(b(6)),rank:b(7),currentRankDate:yt(b(8)),echelon:b(9),echelonDate:yt(b(10)),lastInspectionDate:yt(b(11)),lastMark:parseFloat(b(12))||10,status:P_(b(13)),tenureDate:i?yt(b(14)):""};if(f.push(N),b(14+a)||b(18+a)){let j,E=65+a;d?(j={familyStatus:b(31+a),trainingInstitute:b(32+a),trainingDate:yt(b(33+a)),graduationDate:yt(b(34+a)),schoolYear:b(35+a),daira:b(36+a),municipality:b(37+a),classroomListening:b(38+a),lighting:b(39+a),heating:b(40+a),ventilation:b(41+a),cleanliness:b(42+a),lessonPreparation:b(43+a),preparationValue:b(44+a),otherAids:b(45+a),boardWork:b(46+a),documentsAndPosters:b(47+a),registers:b(48+a),registersUsed:b(49+a),registersMonitored:b(50+a),scheduledPrograms:b(51+a),progression:b(52+a),duties:b(53+a),lessonExecution:b(54+a),informationValue:b(55+a),objectivesAchieved:b(56+a),studentParticipation:b(57+a),applications:b(58+a),applicationsSuitability:b(59+a),notebooksCare:b(60+a),notebooksMonitored:b(61+a),homeworkCorrection:b(62+a),homeworkValue:b(63+a),generalAppreciation:b(64+a)},E=65+a):o?(j={...Ql.legacyData},E=62+a):(j={...Ql.legacyData},E=29);const U=JSON.parse(JSON.stringify(Fr));let J=E;U.forEach(q=>{const B=b(J),F=b(J+1);B==="0"||B==="1"||B==="2"?q.score=parseInt(B):q.score=null,q.improvementNotes=F||"",J+=2}),m[v]={id:Kd(),teacherId:v,reportModel:o&&b(29+a)==="legacy"?"legacy":"modern",inspectorName:o?b(30+a):"",wilaya:b(14+a),district:b(15+a),school:b(16+a),inspectionDate:yt(b(17+a)),subject:b(18+a),topic:b(19+a),duration:b(20+a),level:b(21+a),group:b(22+a),studentCount:parseInt(b(23+a))||0,absentCount:parseInt(b(24+a))||0,generalAssessment:b(25+a),finalMark:parseFloat(b(26+a))||0,markInLetters:b(27+a),assessmentKeywords:b(28+a),observations:U,legacyData:j}}}return{teachers:f,reportsMap:m}},L_=(n,e,i)=>"\uFEFF"+yu(n,e,i).map(d=>d.map(f=>`"${String(f||"").replace(/"/g,'""')}"`).join(",")).join(`
`),z_=n=>{const e=[];let i=[],a="",o=!1;for(let d=0;d<n.length;d++){const f=n[d],m=n[d+1];f==='"'?o&&m==='"'?(a+='"',d++):o=!o:f===","&&!o?(i.push(a),a=""):(f==="\r"||f===`
`)&&!o?(f==="\r"&&m===`
`&&d++,i.push(a),i.length>0&&e.push(i),i=[],a=""):a+=f}return(a||i.length>0)&&(i.push(a),e.push(i)),tx(e)},P_=n=>{const e=String(n).trim().toLowerCase();return e.includes("")||e.includes("contract")?"contractuel":e.includes("")||e.includes("stag")?"stagiere":"titulaire"},O_=({teachers:n,reportsMap:e,currentReport:i,onSelect:a,selectedId:o,onAddNew:d,onImport:f,onDelete:m,availableSchools:x,availableLevels:p,filterSchool:b,filterLevel:v,onSetFilterSchool:N,onSetFilterLevel:w})=>{const[j,E]=P.useState(""),[U,J]=P.useState("status"),[q,B]=P.useState({}),[F,ae]=P.useState(!1),[de,T]=P.useState(!1),O=P.useRef(null),I=P.useRef(null),k=G=>{B(le=>({...le,[G]:!le[G]}))},R=G=>{if(!G||G.status!=="titulaire"||!G.echelonDate||!G.echelon)return!1;const le=new Date().getFullYear(),ie=new Date(G.echelonDate);if(isNaN(ie.getTime()))return!1;const A=new Date(ie);A.setFullYear(ie.getFullYear()+2);const Q=new Date(le,11,31);if(A>Q)return!1;const fe=13+parseInt(G.echelon)*.5;if(G.lastMark>=fe)return!1;const me=e[G.id];if(me){const ye=me.inspectionDate&&me.inspectionDate.trim()!=="",Te=me.finalMark!==void 0&&me.finalMark>0;if(ye&&Te)return!1}return!0},ee=P.useMemo(()=>n.filter(G=>G&&G.fullName&&G.fullName.toLowerCase().includes(j.toLowerCase())),[n,j]),Z=P.useMemo(()=>{if(U==="none")return{:ee};const G={};return ee.forEach(le=>{let ie="";U==="status"?ie=le.status==="titulaire"?"":le.status==="contractuel"?"":"":U==="rank"&&(ie=le.rank||" "),G[ie]||(G[ie]=[]),G[ie].push(le)}),G},[ee,U]),L=()=>{const G=L_(n,i,e),le=new Blob([G],{type:"text/csv;charset=utf-8;"}),ie=URL.createObjectURL(le),A=document.createElement("a");A.href=ie,A.setAttribute("download","teachers_full_db.csv"),document.body.appendChild(A),A.click(),document.body.removeChild(A)},K=()=>{const G=I_(),le=new Blob([G],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),ie=URL.createObjectURL(le),A=document.createElement("a");A.href=ie,A.setAttribute("download","___.xlsx"),document.body.appendChild(A),A.click(),document.body.removeChild(A)},C=G=>{var A;const le=(A=G.target.files)==null?void 0:A[0];if(!le)return;const ie=new FileReader;ie.onload=Q=>{var fe;const ce=(fe=Q.target)==null?void 0:fe.result;if(ce){try{const{teachers:me,reportsMap:ye}=z_(ce);me.length>0&&window.confirm(`   ${me.length} .   /  `)&&f(me,ye)}catch{alert("     .")}O.current&&(O.current.value="")}},ie.readAsText(le)},$=G=>{var A;const le=(A=G.target.files)==null?void 0:A[0];if(!le)return;const ie=new FileReader;ie.onload=Q=>{var fe;const ce=(fe=Q.target)==null?void 0:fe.result;try{const me=U_(ce);if(me.length>0){const ye=`  ${me.length}   .
    .       .`;window.confirm(ye)&&f(me,{})}else alert("      .     .")}catch(me){console.error(me),alert("    Excel.    .")}I.current&&(I.current.value="")},ie.readAsArrayBuffer(le)};return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b bg-white/80 backdrop-blur-sm z-10 space-y-2.5 shadow-sm",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",placeholder:"  ...",value:j,onChange:G=>E(G.target.value),className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all placeholder:text-gray-400"}),s.jsx(wN,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),s.jsx("button",{onClick:d,title:"  ",className:"bg-blue-600 text-white p-2 rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 hover:scale-105 transition-all",children:s.jsx(cN,{size:20})})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>ae(!F),className:`p-1.5 px-3 rounded-lg flex items-center gap-1.5 text-xs font-bold transition-all border ${F||b||v?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(c1,{size:14}),s.jsx("span",{children:""}),(b||v)&&s.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"})]}),s.jsxs("div",{className:"flex bg-gray-100/80 p-1 rounded-lg border border-gray-200",children:[s.jsx("button",{onClick:()=>J("none"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${U==="none"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),s.jsx("button",{onClick:()=>J("status"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${U==="status"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),s.jsx("button",{onClick:()=>J("rank"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${U==="rank"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>T(!de),className:`p-1.5 rounded-lg transition-colors ${de?"bg-gray-200 text-gray-800":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:s.jsx(e1,{size:18})}),de&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-white border border-gray-100 shadow-xl rounded-xl w-56 z-20 overflow-hidden flex flex-col py-1 text-xs font-bold text-gray-600 animate-in fade-in zoom-in-95 duration-200",children:[s.jsx("div",{className:"px-3 py-2 text-[10px] text-gray-400 uppercase tracking-wider border-b border-gray-50 bg-gray-50/50",children:"  (Excel)"}),s.jsxs("button",{onClick:()=>{K(),T(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-green-50 hover:text-green-700 w-full text-right transition-colors text-green-600",children:[s.jsx(Fd,{size:14}),"   "]}),s.jsxs("button",{onClick:()=>{var G;(G=I.current)==null||G.click(),T(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-green-50 hover:text-green-700 w-full text-right transition-colors text-green-600 border-b border-gray-50",children:[s.jsx(ca,{size:14}),"    (Excel)"]}),s.jsx("div",{className:"px-3 py-2 text-[10px] text-gray-400 uppercase tracking-wider border-b border-gray-50 bg-gray-50/50 mt-1",children:"  (Backup)"}),s.jsxs("button",{onClick:()=>{L(),T(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-blue-50 hover:text-blue-700 w-full text-right transition-colors",children:[s.jsx(gu,{size:14}),"   (CSV)"]}),s.jsxs("button",{onClick:()=>{var G;(G=O.current)==null||G.click(),T(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-orange-50 hover:text-orange-700 w-full text-right transition-colors",children:[s.jsx(ca,{size:14}),"   (CSV)"]}),s.jsx("input",{type:"file",ref:O,accept:".csv",className:"hidden",onChange:C}),s.jsx("input",{type:"file",ref:I,accept:".xlsx,.xls",className:"hidden",onChange:$})]})]})]})]}),F&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-indigo-50/50 p-2 rounded-xl border border-indigo-100 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(un,{size:14,className:"absolute top-2.5 right-2.5 text-indigo-400 pointer-events-none group-focus-within:text-indigo-600"}),s.jsxs("select",{value:b,onChange:G=>N(G.target.value),className:`w-full p-2 pr-8 text-[11px] rounded-lg border appearance-none focus:outline-none focus:ring-1 focus:ring-indigo-300 transition-colors cursor-pointer ${b?"bg-indigo-100 border-indigo-300 font-bold text-indigo-900":"bg-white border-gray-200 text-gray-600"}`,children:[s.jsx("option",{value:"",children:" "}),x.map(G=>s.jsx("option",{value:G,children:G},G))]})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(Vt,{size:14,className:"absolute top-2.5 right-2.5 text-indigo-400 pointer-events-none group-focus-within:text-indigo-600"}),s.jsxs("select",{value:v,onChange:G=>w(G.target.value),className:`w-full p-2 pr-8 text-[11px] rounded-lg border appearance-none focus:outline-none focus:ring-1 focus:ring-indigo-300 transition-colors cursor-pointer ${v?"bg-indigo-100 border-indigo-300 font-bold text-indigo-900":"bg-white border-gray-200 text-gray-600"}`,children:[s.jsx("option",{value:"",children:" "}),p.map(G=>s.jsx("option",{value:G,children:G},G))]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 bg-gray-50/30 scroll-smooth",children:[Object.keys(Z).length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 text-center",children:[s.jsx(Bs,{size:48,className:"mb-3 opacity-20"}),s.jsx("p",{className:"text-sm font-medium",children:"  "}),s.jsx("p",{className:"text-xs mt-1 opacity-70",children:"     "})]}),Object.entries(Z).map(([G,le])=>s.jsxs("div",{className:"mb-2",children:[U!=="none"&&s.jsx("div",{onClick:()=>k(G),className:"flex items-center justify-between px-3 py-1.5 mb-1 cursor-pointer hover:bg-white/80 rounded-lg select-none transition-colors group",children:s.jsxs("div",{className:"flex items-center gap-2",children:[q[G]?s.jsx(Hr,{size:14,className:"text-gray-400"}):s.jsx(mu,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"text-xs font-bold text-gray-600 group-hover:text-gray-900",children:G}),s.jsx("span",{className:"bg-gray-200 text-gray-600 text-[10px] px-1.5 rounded-full min-w-[20px] text-center",children:le.length})]})}),s.jsx("div",{className:`${U!=="none"&&q[G]?"hidden":"block"} space-y-1.5`,children:le.map(ie=>{if(!ie||!ie.id)return null;const A=R(ie),Q=o===ie.id;return s.jsxs("div",{onClick:()=>a(ie),className:`w-full text-right p-2.5 rounded-xl border transition-all flex items-center justify-between gap-3 group cursor-pointer relative overflow-hidden ${Q?"bg-gradient-to-r from-blue-600 to-indigo-700 text-white border-transparent shadow-md transform scale-[1.01]":"bg-white border-gray-100 hover:border-blue-200 hover:shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1 relative z-10",children:[s.jsxs("div",{className:`w-9 h-9 rounded-full flex items-center justify-center shrink-0 font-bold text-sm transition-colors relative shadow-sm ${Q?"bg-white/20 text-white border border-white/30":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:[ie.fullName?ie.fullName.charAt(0):"?",s.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${ie.status==="titulaire"?"bg-emerald-500":ie.status==="contractuel"?"bg-orange-500":"bg-blue-500"}`})]}),s.jsxs("div",{className:"overflow-hidden flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:`font-bold text-xs truncate ${Q?"text-white":"text-gray-800"}`,children:ie.fullName}),A&&s.jsx(Vr,{size:14,className:`${Q?"text-yellow-300":"text-amber-500"} animate-pulse shrink-0 ml-1`})]}),s.jsx("p",{className:`text-[10px] truncate mt-0.5 ${Q?"text-blue-100":"text-gray-400"}`,children:ie.rank})]})]}),s.jsxs("div",{className:"flex items-center relative z-10",children:[s.jsx("button",{onClick:ce=>{ce.stopPropagation(),m(ie.id)},className:`p-1.5 rounded-full transition-all ${Q?"text-red-200 hover:bg-white/20 hover:text-white":"text-gray-300 hover:bg-red-50 hover:text-red-500 opacity-0 group-hover:opacity-100"}`,title:"",children:s.jsx(Xg,{size:14})}),Q&&s.jsx(Hr,{size:14,className:"text-white/50 -rotate-90 mr-1"})]})]},ie.id)})})]},G))]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let q_,G_;function H_(){return{geminiUrl:q_,vertexUrl:G_}}function V_(n,e,i,a){var o,d;if(!(n!=null&&n.baseUrl)){const f=H_();return e?(o=f.vertexUrl)!==null&&o!==void 0?o:i:(d=f.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gn{}function he(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(a,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const d=e[o];return d!=null?String(d):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function h(n,e,i){for(let d=0;d<e.length-1;d++){const f=e[d];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in n))if(Array.isArray(i))n[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[m])){const x=n[m];if(Array.isArray(i))for(let p=0;p<x.length;p++){const b=x[p];h(b,e.slice(d+1),i[p])}else for(const p of x)h(p,e.slice(d+1),i)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in n||(n[m]=[{}]);const x=n[m];h(x[0],e.slice(d+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const a=e[e.length-1],o=n[a];if(o!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===o)return;if(typeof o=="object"&&typeof i=="object"&&o!==null&&i!==null)Object.assign(o,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[a]=i}function u(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let a=0;a<e.length;a++){if(typeof n!="object"||n===null)return i;const o=e[a];if(o.endsWith("[]")){const d=o.slice(0,-2);if(d in n){const f=n[d];return Array.isArray(f)?f.map(m=>u(m,e.slice(a+1),i)):i}else return i}else n=n[o]}return n}catch(a){if(a instanceof TypeError)return i;throw a}}function B_(n,e){for(const[i,a]of Object.entries(e)){const o=i.split("."),d=a.split("."),f=new Set;let m=-1;for(let x=0;x<o.length;x++)if(o[x]==="*"){m=x;break}if(m!==-1&&d.length>m)for(let x=m;x<d.length;x++){const p=d[x];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&f.add(p)}Qd(n,o,d,0,f)}}function Qd(n,e,i,a,o){if(a>=e.length||typeof n!="object"||n===null)return;const d=e[a];if(d.endsWith("[]")){const f=d.slice(0,-2),m=n;if(f in m&&Array.isArray(m[f]))for(const x of m[f])Qd(x,e,i,a+1,o)}else if(d==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,m=Object.keys(f).filter(p=>!p.startsWith("_")&&!o.has(p)),x={};for(const p of m)x[p]=f[p];for(const[p,b]of Object.entries(x)){const v=[];for(const N of i.slice(a))N==="*"?v.push(p):v.push(N);h(f,v,b)}for(const p of m)delete f[p]}}else{const f=n;d in f&&Qd(f[d],e,i,a+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(n){const e={},i=u(n,["operationName"]);i!=null&&h(e,["operationName"],i);const a=u(n,["resourceName"]);return a!=null&&h(e,["_url","resourceName"],a),e}function F_(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],Y_(f)),e}function J_(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response"]);return f!=null&&h(e,["response"],K_(f)),e}function Y_(n){const e={},i=u(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>Q_(f))),h(e,["generatedVideos"],d)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const o=u(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function K_(n){const e={},i=u(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>X_(f))),h(e,["generatedVideos"],d)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const o=u(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function Q_(n){const e={},i=u(n,["video"]);return i!=null&&h(e,["video"],s2(i)),e}function X_(n){const e={},i=u(n,["_self"]);return i!=null&&h(e,["video"],l2(i)),e}function Z_(n){const e={},i=u(n,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function W_(n){const e={},i=u(n,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function e2(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response"]);return f!=null&&h(e,["response"],t2(f)),e}function t2(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&h(e,["parent"],a);const o=u(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function nx(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response"]);return f!=null&&h(e,["response"],n2(f)),e}function n2(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&h(e,["parent"],a);const o=u(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function s2(n){const e={},i=u(n,["uri"]);i!=null&&h(e,["uri"],i);const a=u(n,["encodedVideo"]);a!=null&&h(e,["videoBytes"],vu(a));const o=u(n,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function l2(n){const e={},i=u(n,["gcsUri"]);i!=null&&h(e,["uri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&h(e,["videoBytes"],vu(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fp||(Fp={}));var Jp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Jp||(Jp={}));var Yp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Yp||(Yp={}));var gs;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(gs||(gs={}));var Kp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Kp||(Kp={}));var Qp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qp||(Qp={}));var Xp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Xp||(Xp={}));var Zp;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Zp||(Zp={}));var Wp;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wp||(Wp={}));var e0;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(e0||(e0={}));var t0;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(t0||(t0={}));var n0;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(n0||(n0={}));var s0;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(s0||(s0={}));var l0;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(l0||(l0={}));var i0;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(i0||(i0={}));var a0;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(a0||(a0={}));var r0;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(r0||(r0={}));var o0;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(o0||(o0={}));var c0;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(c0||(c0={}));var Jr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Jr||(Jr={}));var d0;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(d0||(d0={}));var u0;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(u0||(u0={}));var f0;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(f0||(f0={}));var Xd;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xd||(Xd={}));var h0;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(h0||(h0={}));var m0;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(m0||(m0={}));var p0;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(p0||(p0={}));var g0;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(g0||(g0={}));var x0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(x0||(x0={}));var b0;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(b0||(b0={}));var y0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(y0||(y0={}));var v0;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(v0||(v0={}));var N0;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(N0||(N0={}));var _0;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(_0||(_0={}));var w0;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w0||(w0={}));var S0;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(S0||(S0={}));var j0;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(j0||(j0={}));var T0;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(T0||(T0={}));var E0;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(E0||(E0={}));var C0;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(C0||(C0={}));var A0;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(A0||(A0={}));var k0;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(k0||(k0={}));var M0;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(M0||(M0={}));var R0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(R0||(R0={}));var D0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(D0||(D0={}));var I0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(I0||(I0={}));var U0;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U0||(U0={}));var L0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(L0||(L0={}));var z0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(z0||(z0={}));var P0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(P0||(P0={}));var O0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(O0||(O0={}));var q0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(q0||(q0={}));var G0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(G0||(G0={}));var H0;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(H0||(H0={}));var Bl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Bl||(Bl={}));class Zd{constructor(e){const i={};for(const a of e.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zi{get text(){var e,i,a,o,d,f,m,x;if(((o=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",b=!1;const v=[];for(const N of(x=(m=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&x!==void 0?x:[]){for(const[w,j]of Object.entries(N))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(j!==null||j!==void 0)&&v.push(w);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;b=!0,p+=N.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?p:void 0}get data(){var e,i,a,o,d,f,m,x;if(((o=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const b=[];for(const v of(x=(m=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&x!==void 0?x:[]){for(const[N,w]of Object.entries(v))N!=="inlineData"&&(w!==null||w!==void 0)&&b.push(N);v.inlineData&&typeof v.inlineData.data=="string"&&(p+=atob(v.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,a,o,d,f,m,x;if(((o=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(m=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,a,o,d,f,m,x,p;if(((o=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(x=(m=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,a,o,d,f,m,x,p;if(((o=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(x=(m=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.output}}class V0{}class B0{}class i2{}class a2{}class r2{}class o2{}class $0{}class F0{}class J0{}class c2{}class Yr{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new Yr;let o;const d=e;return i?o=J_(d):o=F_(d),Object.assign(a,o),a}}class Y0{}class K0{}class Q0{}class d2{}class u2{}class f2{}class Nu{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new Nu,d=e2(e);return Object.assign(a,d),a}}class h2{}class m2{}class p2{}class X0{}class g2{get text(){var e,i,a;let o="",d=!1;const f=[];for(const m of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[x,p]of Object.entries(m))x!=="text"&&x!=="thought"&&p!==null&&f.push(x);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,o+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?o:void 0}get data(){var e,i,a;let o="";const d=[];for(const f of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[m,x]of Object.entries(f))m!=="inlineData"&&x!==null&&d.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(o+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class x2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _u{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const a=new _u,d=nx(e);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sx(n,e){const i=ze(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function lx(n){return Array.isArray(n)?n.map(e=>Kr(e)):[Kr(n)]}function Kr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function ix(n){const e=Kr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ax(n){const e=Kr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Z0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function rx(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Z0(e)):[Z0(n)]}function Wd(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function W0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function eg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Nt(n){if(n==null)throw new Error("ContentUnion is required");return Wd(n)?n:{role:"user",parts:rx(n)}}function wu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const a=Nt(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const i=Nt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Nt(i)):[Nt(e)]}function tn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(W0(n)||eg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(n)]}const e=[],i=[],a=Wd(n[0]);for(const o of n){const d=Wd(o);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(o);else{if(W0(o)||eg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return a||e.push({role:"user",parts:rx(i)}),e}function b2(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(a=>a!=="null");if(i.length===1)e.type=Object.values(gs).includes(i[0].toUpperCase())?i[0].toUpperCase():gs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of i)e.anyOf.push({type:Object.values(gs).includes(a.toUpperCase())?a.toUpperCase():gs.TYPE_UNSPECIFIED})}}function $l(n){const e={},i=["items"],a=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&b2(n.type,e);for(const[f,m]of Object.entries(n))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(gs).includes(m.toUpperCase())?m.toUpperCase():gs.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=$l(m);else if(a.includes(f)){const x=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}x.push($l(p))}e[f]=x}else if(o.includes(f)){const x={};for(const[p,b]of Object.entries(m))x[p]=$l(b);e[f]=x}else{if(f==="additionalProperties")continue;e[f]=m}return e}function Su(n){return $l(n)}function ju(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Tu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ei(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$l(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$l(e.response));return n}function ti(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function y2(n,e,i,a=1){const o=!e.startsWith(`${i}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:o?`${i}/${e}`:e}function Hn(n,e){if(typeof e!="string")throw new Error("name must be a string");return y2(n,e,"cachedContents")}function ox(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function vs(n){return vu(n)}function v2(n){return n!=null&&typeof n=="object"&&"name"in n}function N2(n){return n!=null&&typeof n=="object"&&"video"in n}function _2(n){return n!=null&&typeof n=="object"&&"uri"in n}function cx(n){var e;let i;if(v2(n)&&(i=n.name),!(_2(n)&&(i=n.uri,i===void 0))&&!(N2(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function dx(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function ux(n){for(const e of["models","tunedModels","publisherModels"])if(w2(n,e))return n[e];return[]}function w2(n,e){return n!==null&&typeof n=="object"&&e in n}function S2(n,e={}){const i=n,a={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(a.responseJsonSchema=i.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function j2(n,e={}){const i=[],a=new Set;for(const o of n){const d=o.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const f=S2(o,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function fx(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const a=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,o=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function T2(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hx(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const o=i.inlinedResponses;if(!Array.isArray(o)||o.length===0)return n;let d=!1;for(const f of o){if(typeof f!="object"||f===null)continue;const x=f.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function ni(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function mx(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E2(n){const e={},i=u(n,["responsesFile"]);i!=null&&h(e,["fileName"],i);const a=u(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>rw(f))),h(e,["inlinedResponses"],d)}const o=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["inlinedEmbedContentResponses"],d)}return e}function C2(n){const e={},i=u(n,["predictionsFormat"]);i!=null&&h(e,["format"],i);const a=u(n,["gcsDestination","outputUriPrefix"]);a!=null&&h(e,["gcsUri"],a);const o=u(n,["bigqueryDestination","outputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function A2(n){const e={},i=u(n,["format"]);i!=null&&h(e,["predictionsFormat"],i);const a=u(n,["gcsUri"]);a!=null&&h(e,["gcsDestination","outputUriPrefix"],a);const o=u(n,["bigqueryUri"]);if(o!=null&&h(e,["bigqueryDestination","outputUri"],o),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pr(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata","displayName"]);a!=null&&h(e,["displayName"],a);const o=u(n,["metadata","state"]);o!=null&&h(e,["state"],mx(o));const d=u(n,["metadata","createTime"]);d!=null&&h(e,["createTime"],d);const f=u(n,["metadata","endTime"]);f!=null&&h(e,["endTime"],f);const m=u(n,["metadata","updateTime"]);m!=null&&h(e,["updateTime"],m);const x=u(n,["metadata","model"]);x!=null&&h(e,["model"],x);const p=u(n,["metadata","output"]);return p!=null&&h(e,["dest"],E2(hx(p))),e}function eu(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["displayName"]);a!=null&&h(e,["displayName"],a);const o=u(n,["state"]);o!=null&&h(e,["state"],mx(o));const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["createTime"]);f!=null&&h(e,["createTime"],f);const m=u(n,["startTime"]);m!=null&&h(e,["startTime"],m);const x=u(n,["endTime"]);x!=null&&h(e,["endTime"],x);const p=u(n,["updateTime"]);p!=null&&h(e,["updateTime"],p);const b=u(n,["model"]);b!=null&&h(e,["model"],b);const v=u(n,["inputConfig"]);v!=null&&h(e,["src"],k2(v));const N=u(n,["outputConfig"]);N!=null&&h(e,["dest"],C2(hx(N)));const w=u(n,["completionStats"]);return w!=null&&h(e,["completionStats"],w),e}function k2(n){const e={},i=u(n,["instancesFormat"]);i!=null&&h(e,["format"],i);const a=u(n,["gcsSource","uris"]);a!=null&&h(e,["gcsUri"],a);const o=u(n,["bigquerySource","inputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function M2(n,e){const i={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(e,["fileName"]);a!=null&&h(i,["fileName"],a);const o=u(e,["inlinedRequests"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>aw(n,f))),h(i,["requests","requests"],d)}return i}function R2(n){const e={},i=u(n,["format"]);i!=null&&h(e,["instancesFormat"],i);const a=u(n,["gcsUri"]);a!=null&&h(e,["gcsSource","uris"],a);const o=u(n,["bigqueryUri"]);if(o!=null&&h(e,["bigquerySource","inputUri"],o),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function D2(n){const e={},i=u(n,["data"]);if(i!=null&&h(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function I2(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function U2(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function L2(n){const e={},i=u(n,["content"]);i!=null&&h(e,["content"],i);const a=u(n,["citationMetadata"]);a!=null&&h(e,["citationMetadata"],z2(a));const o=u(n,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const d=u(n,["finishReason"]);d!=null&&h(e,["finishReason"],d);const f=u(n,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const m=u(n,["groundingMetadata"]);m!=null&&h(e,["groundingMetadata"],m);const x=u(n,["index"]);x!=null&&h(e,["index"],x);const p=u(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const b=u(n,["safetyRatings"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(w=>w)),h(e,["safetyRatings"],N)}const v=u(n,["urlContextMetadata"]);return v!=null&&h(e,["urlContextMetadata"],v),e}function z2(n){const e={},i=u(n,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["citations"],a)}return e}function px(n){const e={},i=u(n,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>mw(d))),h(e,["parts"],o)}const a=u(n,["role"]);return a!=null&&h(e,["role"],a),e}function P2(n,e){const i={},a=u(n,["displayName"]);if(e!==void 0&&a!=null&&h(e,["batch","displayName"],a),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function O2(n,e){const i={},a=u(n,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=u(n,["dest"]);return e!==void 0&&o!=null&&h(e,["outputConfig"],A2(T2(o))),i}function tg(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["src"]);o!=null&&h(i,["batch","inputConfig"],M2(n,fx(n,o)));const d=u(e,["config"]);return d!=null&&P2(d,i),i}function q2(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["model"],ze(n,a));const o=u(e,["src"]);o!=null&&h(i,["inputConfig"],R2(fx(n,o)));const d=u(e,["config"]);return d!=null&&O2(d,i),i}function G2(n,e){const i={},a=u(n,["displayName"]);return e!==void 0&&a!=null&&h(e,["batch","displayName"],a),i}function H2(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["src"]);o!=null&&h(i,["batch","inputConfig"],K2(n,o));const d=u(e,["config"]);return d!=null&&G2(d,i),i}function V2(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function B2(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function $2(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["name"]);a!=null&&h(e,["name"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);return d!=null&&h(e,["error"],d),e}function F2(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["name"]);a!=null&&h(e,["name"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);return d!=null&&h(e,["error"],d),e}function J2(n,e){const i={},a=u(e,["contents"]);if(a!=null){let d=wu(n,a);Array.isArray(d)&&(d=d.map(f=>f)),h(i,["requests[]","request","content"],d)}const o=u(e,["config"]);return o!=null&&(h(i,["_self"],Y2(o,i)),B_(i,{"requests[].*":"requests[].request.*"})),i}function Y2(n,e){const i={},a=u(n,["taskType"]);e!==void 0&&a!=null&&h(e,["requests[]","taskType"],a);const o=u(n,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const d=u(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&h(e,["requests[]","outputDimensionality"],d),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function K2(n,e){const i={},a=u(e,["fileName"]);a!=null&&h(i,["file_name"],a);const o=u(e,["inlinedRequests"]);return o!=null&&h(i,["requests"],J2(n,o)),i}function Q2(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function X2(n){const e={},i=u(n,["id"]);i!=null&&h(e,["id"],i);const a=u(n,["args"]);a!=null&&h(e,["args"],a);const o=u(n,["name"]);if(o!=null&&h(e,["name"],o),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Z2(n){const e={},i=u(n,["mode"]);i!=null&&h(e,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function W2(n,e,i){const a={},o=u(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],px(Nt(o)));const d=u(e,["temperature"]);d!=null&&h(a,["temperature"],d);const f=u(e,["topP"]);f!=null&&h(a,["topP"],f);const m=u(e,["topK"]);m!=null&&h(a,["topK"],m);const x=u(e,["candidateCount"]);x!=null&&h(a,["candidateCount"],x);const p=u(e,["maxOutputTokens"]);p!=null&&h(a,["maxOutputTokens"],p);const b=u(e,["stopSequences"]);b!=null&&h(a,["stopSequences"],b);const v=u(e,["responseLogprobs"]);v!=null&&h(a,["responseLogprobs"],v);const N=u(e,["logprobs"]);N!=null&&h(a,["logprobs"],N);const w=u(e,["presencePenalty"]);w!=null&&h(a,["presencePenalty"],w);const j=u(e,["frequencyPenalty"]);j!=null&&h(a,["frequencyPenalty"],j);const E=u(e,["seed"]);E!=null&&h(a,["seed"],E);const U=u(e,["responseMimeType"]);U!=null&&h(a,["responseMimeType"],U);const J=u(e,["responseSchema"]);J!=null&&h(a,["responseSchema"],Su(J));const q=u(e,["responseJsonSchema"]);if(q!=null&&h(a,["responseJsonSchema"],q),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(e,["safetySettings"]);if(i!==void 0&&B!=null){let ee=B;Array.isArray(ee)&&(ee=ee.map(Z=>pw(Z))),h(i,["safetySettings"],ee)}const F=u(e,["tools"]);if(i!==void 0&&F!=null){let ee=ti(F);Array.isArray(ee)&&(ee=ee.map(Z=>xw(ei(Z)))),h(i,["tools"],ee)}const ae=u(e,["toolConfig"]);if(i!==void 0&&ae!=null&&h(i,["toolConfig"],gw(ae)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=u(e,["cachedContent"]);i!==void 0&&de!=null&&h(i,["cachedContent"],Hn(n,de));const T=u(e,["responseModalities"]);T!=null&&h(a,["responseModalities"],T);const O=u(e,["mediaResolution"]);O!=null&&h(a,["mediaResolution"],O);const I=u(e,["speechConfig"]);if(I!=null&&h(a,["speechConfig"],ju(I)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=u(e,["thinkingConfig"]);k!=null&&h(a,["thinkingConfig"],k);const R=u(e,["imageConfig"]);return R!=null&&h(a,["imageConfig"],iw(R)),a}function ew(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(p=>L2(p))),h(e,["candidates"],x)}const o=u(n,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const d=u(n,["promptFeedback"]);d!=null&&h(e,["promptFeedback"],d);const f=u(n,["responseId"]);f!=null&&h(e,["responseId"],f);const m=u(n,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function tw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function nw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],ni(n,a)),i}function sw(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function lw(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function iw(n){const e={},i=u(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=u(n,["imageSize"]);if(a!=null&&h(e,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aw(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["request","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let m=tn(o);Array.isArray(m)&&(m=m.map(x=>px(x))),h(i,["request","contents"],m)}const d=u(e,["metadata"]);d!=null&&h(i,["metadata"],d);const f=u(e,["config"]);return f!=null&&h(i,["request","generationConfig"],W2(n,f,u(i,["request"],{}))),i}function rw(n){const e={},i=u(n,["response"]);i!=null&&h(e,["response"],ew(i));const a=u(n,["error"]);return a!=null&&h(e,["error"],a),e}function ow(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);if(e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function cw(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const d=u(n,["filter"]);return e!==void 0&&d!=null&&h(e,["_query","filter"],d),i}function dw(n){const e={},i=u(n,["config"]);return i!=null&&ow(i,e),e}function uw(n){const e={},i=u(n,["config"]);return i!=null&&cw(i,e),e}function fw(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["operations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Pr(f))),h(e,["batchJobs"],d)}return e}function hw(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["batchPredictionJobs"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>eu(f))),h(e,["batchJobs"],d)}return e}function mw(n){const e={},i=u(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const o=u(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const d=u(n,["fileData"]);d!=null&&h(e,["fileData"],Q2(d));const f=u(n,["functionCall"]);f!=null&&h(e,["functionCall"],X2(f));const m=u(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const x=u(n,["inlineData"]);x!=null&&h(e,["inlineData"],D2(x));const p=u(n,["text"]);p!=null&&h(e,["text"],p);const b=u(n,["thought"]);b!=null&&h(e,["thought"],b);const v=u(n,["thoughtSignature"]);v!=null&&h(e,["thoughtSignature"],v);const N=u(n,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function pw(n){const e={},i=u(n,["category"]);if(i!=null&&h(e,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&h(e,["threshold"],a),e}function gw(n){const e={},i=u(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],Z2(i));const a=u(n,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function xw(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(v=>v)),h(e,["functionDeclarations"],b)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=u(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const d=u(n,["fileSearch"]);d!=null&&h(e,["fileSearch"],d);const f=u(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],sw(m));const x=u(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],lw(x));const p=u(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(qn||(qn={}));class $s{constructor(e,i,a,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,a,o)}init(e,i,a){var o,d;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!a||Object.keys(a).length===0?f={config:{}}:typeof a=="object"?f=Object.assign({},a):f=a,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(d=(o=f.config)===null||o===void 0?void 0:o.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bw extends Gn{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new $s(qn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=tg(this.apiClient,e),a=i._url,o=he("{model}:batchGenerateContent",a),m=i.batch.inputConfig.requests,x=m.requests,p=[];for(const b of x){const v=Object.assign({},b);if(v.systemInstruction){const N=v.systemInstruction;delete v.systemInstruction;const w=v.request;w.systemInstruction=N,v.request=w}p.push(v)}return m.requests=p,delete i.config,delete i._url,delete i._query,{path:o,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const a=i?Object.assign({},i):{},o=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${o}`),a.dest===void 0){const d=this.getGcsUri(e),f=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${o}`;else if(f)a.dest=`${f}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=q2(this.apiClient,e);return m=he("batchPredictionJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>eu(b))}else{const p=tg(this.apiClient,e);return m=he("{model}:batchGenerateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>Pr(b))}}async createEmbeddingsInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=H2(this.apiClient,e);return d=he("{model}:asyncBatchEmbedContent",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>Pr(x))}}async get(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=nw(this.apiClient,e);return m=he("batchPredictionJobs/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>eu(b))}else{const p=tw(this.apiClient,e);return m=he("batches/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>Pr(b))}}async cancel(e){var i,a,o,d;let f="",m={};if(this.apiClient.isVertexAI()){const x=U2(this.apiClient,e);f=he("batchPredictionJobs/{name}:cancel",x._url),m=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const x=I2(this.apiClient,e);f=he("batches/{name}:cancel",x._url),m=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=uw(e);return m=he("batchPredictionJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=hw(b),N=new X0;return Object.assign(N,v),N})}else{const p=dw(e);return m=he("batches",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=fw(b),N=new X0;return Object.assign(N,v),N})}}async delete(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=B2(this.apiClient,e);return m=he("batchPredictionJobs/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>F2(b))}else{const p=V2(this.apiClient,e);return m=he("batches/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>$2(b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yw(n){const e={},i=u(n,["data"]);if(i!=null&&h(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function ng(n){const e={},i=u(n,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>Hw(d))),h(e,["parts"],o)}const a=u(n,["role"]);return a!=null&&h(e,["role"],a),e}function vw(n,e){const i={},a=u(n,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const o=u(n,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const d=u(n,["displayName"]);e!==void 0&&d!=null&&h(e,["displayName"],d);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let b=tn(f);Array.isArray(b)&&(b=b.map(v=>ng(v))),h(e,["contents"],b)}const m=u(n,["systemInstruction"]);e!==void 0&&m!=null&&h(e,["systemInstruction"],ng(Nt(m)));const x=u(n,["tools"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(v=>Bw(v))),h(e,["tools"],b)}const p=u(n,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],Vw(p)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Nw(n,e){const i={},a=u(n,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const o=u(n,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const d=u(n,["displayName"]);e!==void 0&&d!=null&&h(e,["displayName"],d);const f=u(n,["contents"]);if(e!==void 0&&f!=null){let v=tn(f);Array.isArray(v)&&(v=v.map(N=>N)),h(e,["contents"],v)}const m=u(n,["systemInstruction"]);e!==void 0&&m!=null&&h(e,["systemInstruction"],Nt(m));const x=u(n,["tools"]);if(e!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(N=>$w(N))),h(e,["tools"],v)}const p=u(n,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const b=u(n,["kmsKeyName"]);return e!==void 0&&b!=null&&h(e,["encryption_spec","kmsKeyName"],b),i}function _w(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["model"],sx(n,a));const o=u(e,["config"]);return o!=null&&vw(o,i),i}function ww(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["model"],sx(n,a));const o=u(e,["config"]);return o!=null&&Nw(o,i),i}function Sw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],Hn(n,a)),i}function jw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],Hn(n,a)),i}function Tw(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Ew(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function Cw(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function Aw(n){const e={},i=u(n,["id"]);i!=null&&h(e,["id"],i);const a=u(n,["args"]);a!=null&&h(e,["args"],a);const o=u(n,["name"]);if(o!=null&&h(e,["name"],o),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kw(n){const e={},i=u(n,["mode"]);i!=null&&h(e,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Mw(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&h(e,["description"],i);const a=u(n,["name"]);a!=null&&h(e,["name"],a);const o=u(n,["parameters"]);o!=null&&h(e,["parameters"],o);const d=u(n,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=u(n,["response"]);f!=null&&h(e,["response"],f);const m=u(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function Rw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],Hn(n,a)),i}function Dw(n,e){const i={},a=u(e,["name"]);return a!=null&&h(i,["_url","name"],Hn(n,a)),i}function Iw(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function Uw(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function Lw(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function zw(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function Pw(n){const e={},i=u(n,["config"]);return i!=null&&Lw(i,e),e}function Ow(n){const e={},i=u(n,["config"]);return i!=null&&zw(i,e),e}function qw(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["cachedContents"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["cachedContents"],d)}return e}function Gw(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["cachedContents"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["cachedContents"],d)}return e}function Hw(n){const e={},i=u(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const o=u(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const d=u(n,["fileData"]);d!=null&&h(e,["fileData"],Cw(d));const f=u(n,["functionCall"]);f!=null&&h(e,["functionCall"],Aw(f));const m=u(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const x=u(n,["inlineData"]);x!=null&&h(e,["inlineData"],yw(x));const p=u(n,["text"]);p!=null&&h(e,["text"],p);const b=u(n,["thought"]);b!=null&&h(e,["thought"],b);const v=u(n,["thoughtSignature"]);v!=null&&h(e,["thoughtSignature"],v);const N=u(n,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function Vw(n){const e={},i=u(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],kw(i));const a=u(n,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function Bw(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(v=>v)),h(e,["functionDeclarations"],b)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=u(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const d=u(n,["fileSearch"]);d!=null&&h(e,["fileSearch"],d);const f=u(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],Iw(m));const x=u(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],Uw(x));const p=u(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function $w(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(N=>Mw(N))),h(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&h(e,["retrieval"],a);const o=u(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const d=u(n,["computerUse"]);if(d!=null&&h(e,["computerUse"],d),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const m=u(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const x=u(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const p=u(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=u(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function Fw(n,e){const i={},a=u(n,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const o=u(n,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),i}function Jw(n,e){const i={},a=u(n,["ttl"]);e!==void 0&&a!=null&&h(e,["ttl"],a);const o=u(n,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),i}function Yw(n,e){const i={},a=u(e,["name"]);a!=null&&h(i,["_url","name"],Hn(n,a));const o=u(e,["config"]);return o!=null&&Fw(o,i),i}function Kw(n,e){const i={},a=u(e,["name"]);a!=null&&h(i,["_url","name"],Hn(n,a));const o=u(e,["config"]);return o!=null&&Jw(o,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $s(qn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=ww(this.apiClient,e);return m=he("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const p=_w(this.apiClient,e);return m=he("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async get(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=Dw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const p=Rw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async delete(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=jw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=Ew(b),N=new K0;return Object.assign(N,v),N})}else{const p=Sw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=Tw(b),N=new K0;return Object.assign(N,v),N})}}async update(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=Kw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>b)}else{const p=Yw(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>b)}}async listInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=Ow(e);return m=he("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=Gw(b),N=new Q0;return Object.assign(N,v),N})}else{const p=Pw(e);return m=he("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=qw(b),N=new Q0;return Object.assign(N,v),N})}}}function sg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(n){return this instanceof Ke?(this.v=n,this):new Ke(n)}function Fl(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,e||[]),o,d=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(w){return function(j){return Promise.resolve(j).then(w,v)}}function m(w,j){a[w]&&(o[w]=function(E){return new Promise(function(U,J){d.push([w,E,U,J])>1||x(w,E)})},j&&(o[w]=j(o[w])))}function x(w,j){try{p(a[w](j))}catch(E){N(d[0][3],E)}}function p(w){w.value instanceof Ke?Promise.resolve(w.value.v).then(b,v):N(d[0][2],w)}function b(w){x("next",w)}function v(w){x("throw",w)}function N(w,j){w(j),d.shift(),d.length&&x(d[0][0],d[0][1])}}function sa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof sg=="function"?sg(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(d){i[d]=n[d]&&function(f){return new Promise(function(m,x){f=n[d](f),o(m,x,f.done,f.value)})}}function o(d,f,m,x){Promise.resolve(x).then(function(p){d({value:p,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:gx(i)}function gx(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Zw(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function lg(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let a=0;for(;a<i;)if(n[a].role==="user")e.push(n[a]),a++;else{const o=[];let d=!0;for(;a<i&&n[a].role==="model";)o.push(n[a]),d&&!gx(n[a])&&(d=!1),a++;d?e.push(...o):e.pop()}return e}class Ww{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new eS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class eS{constructor(e,i,a,o={},d=[]){this.apiClient=e,this.modelsModule=i,this.model=a,this.config=o,this.history=d,this.sendPromise=Promise.resolve(),Zw(d)}async sendMessage(e){var i;await this.sendPromise;const a=Nt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var d,f,m;const x=await o,p=(f=(d=x.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content,b=x.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let N=[];b!=null&&(N=(m=b.slice(v))!==null&&m!==void 0?m:[]);const w=p?[p]:[];this.recordHistory(a,w,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var i;await this.sendPromise;const a=Nt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const d=await o;return this.processStreamResponse(d,a)}getHistory(e=!1){const i=e?lg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var a,o;return Fl(this,arguments,function*(){var f,m,x,p;const b=[];try{for(var v=!0,N=sa(e),w;w=yield Ke(N.next()),f=w.done,!f;v=!0){p=w.value,v=!1;const j=p;if(Xw(j)){const E=(o=(a=j.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content;E!==void 0&&b.push(E)}yield yield Ke(j)}}catch(j){m={error:j}}finally{try{!v&&!f&&(x=N.return)&&(yield Ke(x.call(N)))}finally{if(m)throw m.error}}this.recordHistory(i,b)})}recordHistory(e,i,a){let o=[];i.length>0&&i.every(d=>d.role!==void 0)?o=i:o.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...lg(a)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,so.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tS(n){const e={},i=u(n,["file"]);return i!=null&&h(e,["file"],i),e}function nS(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function sS(n){const e={},i=u(n,["name"]);return i!=null&&h(e,["_url","file"],cx(i)),e}function lS(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function iS(n){const e={},i=u(n,["name"]);return i!=null&&h(e,["_url","file"],cx(i)),e}function aS(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function rS(n){const e={},i=u(n,["config"]);return i!=null&&aS(i,e),e}function oS(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["files"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["files"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cS extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $s(qn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=rS(e);return d=he("files",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>{const p=oS(x),b=new h2;return Object.assign(b,p),b})}}async createInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=tS(e);return d=he("upload/v1beta/files",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=nS(x),b=new m2;return Object.assign(b,p),b})}}async get(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=iS(e);return d=he("files/{file}",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>x)}}async delete(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=sS(e);return d=he("files/{file}",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>{const p=lS(x),b=new p2;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Or(n){const e={},i=u(n,["data"]);if(i!=null&&h(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function dS(n){const e={},i=u(n,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>TS(d))),h(e,["parts"],o)}const a=u(n,["role"]);return a!=null&&h(e,["role"],a),e}function uS(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function fS(n){const e={},i=u(n,["id"]);i!=null&&h(e,["id"],i);const a=u(n,["args"]);a!=null&&h(e,["args"],a);const o=u(n,["name"]);if(o!=null&&h(e,["name"],o),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hS(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&h(e,["description"],i);const a=u(n,["name"]);a!=null&&h(e,["name"],a);const o=u(n,["parameters"]);o!=null&&h(e,["parameters"],o);const d=u(n,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=u(n,["response"]);f!=null&&h(e,["response"],f);const m=u(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function mS(n){const e={},i=u(n,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const a=u(n,["responseJsonSchema"]);a!=null&&h(e,["responseJsonSchema"],a);const o=u(n,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const d=u(n,["candidateCount"]);d!=null&&h(e,["candidateCount"],d);const f=u(n,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const m=u(n,["frequencyPenalty"]);m!=null&&h(e,["frequencyPenalty"],m);const x=u(n,["logprobs"]);x!=null&&h(e,["logprobs"],x);const p=u(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const b=u(n,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const v=u(n,["presencePenalty"]);v!=null&&h(e,["presencePenalty"],v);const N=u(n,["responseLogprobs"]);N!=null&&h(e,["responseLogprobs"],N);const w=u(n,["responseMimeType"]);w!=null&&h(e,["responseMimeType"],w);const j=u(n,["responseModalities"]);j!=null&&h(e,["responseModalities"],j);const E=u(n,["responseSchema"]);E!=null&&h(e,["responseSchema"],E);const U=u(n,["routingConfig"]);U!=null&&h(e,["routingConfig"],U);const J=u(n,["seed"]);J!=null&&h(e,["seed"],J);const q=u(n,["speechConfig"]);q!=null&&h(e,["speechConfig"],xx(q));const B=u(n,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const F=u(n,["temperature"]);F!=null&&h(e,["temperature"],F);const ae=u(n,["thinkingConfig"]);ae!=null&&h(e,["thinkingConfig"],ae);const de=u(n,["topK"]);de!=null&&h(e,["topK"],de);const T=u(n,["topP"]);if(T!=null&&h(e,["topP"],T),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function pS(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function gS(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function xS(n,e){const i={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],a);const o=u(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const d=u(n,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=u(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const m=u(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const x=u(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=u(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const v=u(n,["speechConfig"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","speechConfig"],Tu(v));const N=u(n,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const w=u(n,["enableAffectiveDialog"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],w);const j=u(n,["systemInstruction"]);e!==void 0&&j!=null&&h(e,["setup","systemInstruction"],dS(Nt(j)));const E=u(n,["tools"]);if(e!==void 0&&E!=null){let de=ti(E);Array.isArray(de)&&(de=de.map(T=>CS(ei(T)))),h(e,["setup","tools"],de)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],ES(U));const J=u(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=u(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const ae=u(n,["proactivity"]);return e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae),i}function bS(n,e){const i={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],mS(a));const o=u(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const d=u(n,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=u(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const m=u(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const x=u(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=u(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const v=u(n,["speechConfig"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","speechConfig"],xx(Tu(v)));const N=u(n,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const w=u(n,["enableAffectiveDialog"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],w);const j=u(n,["systemInstruction"]);e!==void 0&&j!=null&&h(e,["setup","systemInstruction"],Nt(j));const E=u(n,["tools"]);if(e!==void 0&&E!=null){let de=ti(E);Array.isArray(de)&&(de=de.map(T=>AS(ei(T)))),h(e,["setup","tools"],de)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],U);const J=u(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=u(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const ae=u(n,["proactivity"]);return e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae),i}function yS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["setup","model"],ze(n,a));const o=u(e,["config"]);return o!=null&&h(i,["config"],xS(o,i)),i}function vS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["setup","model"],ze(n,a));const o=u(e,["config"]);return o!=null&&h(i,["config"],bS(o,i)),i}function NS(n){const e={},i=u(n,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function _S(n){const e={},i=u(n,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["weightedPrompts"],a)}return e}function wS(n){const e={},i=u(n,["media"]);if(i!=null){let p=lx(i);Array.isArray(p)&&(p=p.map(b=>Or(b))),h(e,["mediaChunks"],p)}const a=u(n,["audio"]);a!=null&&h(e,["audio"],Or(ax(a)));const o=u(n,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const d=u(n,["video"]);d!=null&&h(e,["video"],Or(ix(d)));const f=u(n,["text"]);f!=null&&h(e,["text"],f);const m=u(n,["activityStart"]);m!=null&&h(e,["activityStart"],m);const x=u(n,["activityEnd"]);return x!=null&&h(e,["activityEnd"],x),e}function SS(n){const e={},i=u(n,["media"]);if(i!=null){let p=lx(i);Array.isArray(p)&&(p=p.map(b=>b)),h(e,["mediaChunks"],p)}const a=u(n,["audio"]);a!=null&&h(e,["audio"],ax(a));const o=u(n,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const d=u(n,["video"]);d!=null&&h(e,["video"],ix(d));const f=u(n,["text"]);f!=null&&h(e,["text"],f);const m=u(n,["activityStart"]);m!=null&&h(e,["activityStart"],m);const x=u(n,["activityEnd"]);return x!=null&&h(e,["activityEnd"],x),e}function jS(n){const e={},i=u(n,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const a=u(n,["serverContent"]);a!=null&&h(e,["serverContent"],a);const o=u(n,["toolCall"]);o!=null&&h(e,["toolCall"],o);const d=u(n,["toolCallCancellation"]);d!=null&&h(e,["toolCallCancellation"],d);const f=u(n,["usageMetadata"]);f!=null&&h(e,["usageMetadata"],kS(f));const m=u(n,["goAway"]);m!=null&&h(e,["goAway"],m);const x=u(n,["sessionResumptionUpdate"]);return x!=null&&h(e,["sessionResumptionUpdate"],x),e}function TS(n){const e={},i=u(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const o=u(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const d=u(n,["fileData"]);d!=null&&h(e,["fileData"],uS(d));const f=u(n,["functionCall"]);f!=null&&h(e,["functionCall"],fS(f));const m=u(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const x=u(n,["inlineData"]);x!=null&&h(e,["inlineData"],Or(x));const p=u(n,["text"]);p!=null&&h(e,["text"],p);const b=u(n,["thought"]);b!=null&&h(e,["thought"],b);const v=u(n,["thoughtSignature"]);v!=null&&h(e,["thoughtSignature"],v);const N=u(n,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function ES(n){const e={},i=u(n,["handle"]);if(i!=null&&h(e,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xx(n){const e={},i=u(n,["languageCode"]);i!=null&&h(e,["languageCode"],i);const a=u(n,["voiceConfig"]);if(a!=null&&h(e,["voiceConfig"],a),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function CS(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(v=>v)),h(e,["functionDeclarations"],b)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=u(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const d=u(n,["fileSearch"]);d!=null&&h(e,["fileSearch"],d);const f=u(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],pS(m));const x=u(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],gS(x));const p=u(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function AS(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(N=>hS(N))),h(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&h(e,["retrieval"],a);const o=u(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const d=u(n,["computerUse"]);if(d!=null&&h(e,["computerUse"],d),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const m=u(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const x=u(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const p=u(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=u(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function kS(n){const e={},i=u(n,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const a=u(n,["cachedContentTokenCount"]);a!=null&&h(e,["cachedContentTokenCount"],a);const o=u(n,["candidatesTokenCount"]);o!=null&&h(e,["responseTokenCount"],o);const d=u(n,["toolUsePromptTokenCount"]);d!=null&&h(e,["toolUsePromptTokenCount"],d);const f=u(n,["thoughtsTokenCount"]);f!=null&&h(e,["thoughtsTokenCount"],f);const m=u(n,["totalTokenCount"]);m!=null&&h(e,["totalTokenCount"],m);const x=u(n,["promptTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(j=>j)),h(e,["promptTokensDetails"],w)}const p=u(n,["cacheTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(j=>j)),h(e,["cacheTokensDetails"],w)}const b=u(n,["candidatesTokensDetails"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(j=>j)),h(e,["responseTokensDetails"],w)}const v=u(n,["toolUsePromptTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(j=>j)),h(e,["toolUsePromptTokensDetails"],w)}const N=u(n,["trafficType"]);return N!=null&&h(e,["trafficType"],N),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(n){const e={},i=u(n,["data"]);if(i!=null&&h(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function RS(n){const e={},i=u(n,["content"]);i!=null&&h(e,["content"],i);const a=u(n,["citationMetadata"]);a!=null&&h(e,["citationMetadata"],DS(a));const o=u(n,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const d=u(n,["finishReason"]);d!=null&&h(e,["finishReason"],d);const f=u(n,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const m=u(n,["groundingMetadata"]);m!=null&&h(e,["groundingMetadata"],m);const x=u(n,["index"]);x!=null&&h(e,["index"],x);const p=u(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const b=u(n,["safetyRatings"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(w=>w)),h(e,["safetyRatings"],N)}const v=u(n,["urlContextMetadata"]);return v!=null&&h(e,["urlContextMetadata"],v),e}function DS(n){const e={},i=u(n,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),h(e,["citations"],a)}return e}function IS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let d=tn(o);Array.isArray(d)&&(d=d.map(f=>f)),h(i,["contents"],d)}return i}function US(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["tokensInfo"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(d=>d)),h(e,["tokensInfo"],o)}return e}function LS(n){const e={},i=u(n,["values"]);i!=null&&h(e,["values"],i);const a=u(n,["statistics"]);return a!=null&&h(e,["statistics"],zS(a)),e}function zS(n){const e={},i=u(n,["truncated"]);i!=null&&h(e,["truncated"],i);const a=u(n,["token_count"]);return a!=null&&h(e,["tokenCount"],a),e}function lo(n){const e={},i=u(n,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>Fj(d))),h(e,["parts"],o)}const a=u(n,["role"]);return a!=null&&h(e,["role"],a),e}function PS(n){const e={},i=u(n,["controlType"]);i!=null&&h(e,["controlType"],i);const a=u(n,["enableControlImageComputation"]);return a!=null&&h(e,["computeControl"],a),e}function OS(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qS(n,e){const i={},a=u(n,["systemInstruction"]);e!==void 0&&a!=null&&h(e,["systemInstruction"],Nt(a));const o=u(n,["tools"]);if(e!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>_x(m))),h(e,["tools"],f)}const d=u(n,["generationConfig"]);return e!==void 0&&d!=null&&h(e,["generationConfig"],Mj(d)),i}function GS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let f=tn(o);Array.isArray(f)&&(f=f.map(m=>lo(m))),h(i,["contents"],f)}const d=u(e,["config"]);return d!=null&&OS(d),i}function HS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let f=tn(o);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["contents"],f)}const d=u(e,["config"]);return d!=null&&qS(d,i),i}function VS(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["totalTokens"]);a!=null&&h(e,["totalTokens"],a);const o=u(n,["cachedContentTokenCount"]);return o!=null&&h(e,["cachedContentTokenCount"],o),e}function BS(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["totalTokens"]);return a!=null&&h(e,["totalTokens"],a),e}function $S(n,e){const i={},a=u(e,["model"]);return a!=null&&h(i,["_url","name"],ze(n,a)),i}function FS(n,e){const i={},a=u(e,["model"]);return a!=null&&h(i,["_url","name"],ze(n,a)),i}function JS(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function YS(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function KS(n,e){const i={},a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=u(n,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const d=u(n,["numberOfImages"]);e!==void 0&&d!=null&&h(e,["parameters","sampleCount"],d);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const m=u(n,["guidanceScale"]);e!==void 0&&m!=null&&h(e,["parameters","guidanceScale"],m);const x=u(n,["seed"]);e!==void 0&&x!=null&&h(e,["parameters","seed"],x);const p=u(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const b=u(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const v=u(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&h(e,["parameters","includeSafetyAttributes"],v);const N=u(n,["includeRaiReason"]);e!==void 0&&N!=null&&h(e,["parameters","includeRaiReason"],N);const w=u(n,["language"]);e!==void 0&&w!=null&&h(e,["parameters","language"],w);const j=u(n,["outputMimeType"]);e!==void 0&&j!=null&&h(e,["parameters","outputOptions","mimeType"],j);const E=u(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","compressionQuality"],E);const U=u(n,["addWatermark"]);e!==void 0&&U!=null&&h(e,["parameters","addWatermark"],U);const J=u(n,["labels"]);e!==void 0&&J!=null&&h(e,["labels"],J);const q=u(n,["editMode"]);e!==void 0&&q!=null&&h(e,["parameters","editMode"],q);const B=u(n,["baseSteps"]);return e!==void 0&&B!=null&&h(e,["parameters","editConfig","baseSteps"],B),i}function QS(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const d=u(e,["referenceImages"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>Zj(x))),h(i,["instances[0]","referenceImages"],m)}const f=u(e,["config"]);return f!=null&&KS(f,i),i}function XS(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(d=>io(d))),h(e,["generatedImages"],o)}return e}function ZS(n,e){const i={},a=u(n,["taskType"]);e!==void 0&&a!=null&&h(e,["requests[]","taskType"],a);const o=u(n,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const d=u(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&h(e,["requests[]","outputDimensionality"],d),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function WS(n,e){const i={},a=u(n,["taskType"]);e!==void 0&&a!=null&&h(e,["instances[]","task_type"],a);const o=u(n,["title"]);e!==void 0&&o!=null&&h(e,["instances[]","title"],o);const d=u(n,["outputDimensionality"]);e!==void 0&&d!=null&&h(e,["parameters","outputDimensionality"],d);const f=u(n,["mimeType"]);e!==void 0&&f!=null&&h(e,["instances[]","mimeType"],f);const m=u(n,["autoTruncate"]);return e!==void 0&&m!=null&&h(e,["parameters","autoTruncate"],m),i}function ej(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let m=wu(n,o);Array.isArray(m)&&(m=m.map(x=>x)),h(i,["requests[]","content"],m)}const d=u(e,["config"]);d!=null&&ZS(d,i);const f=u(e,["model"]);return f!==void 0&&h(i,["requests[]","model"],ze(n,f)),i}function tj(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let f=wu(n,o);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["instances[]","content"],f)}const d=u(e,["config"]);return d!=null&&WS(d,i),i}function nj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["embeddings"],d)}const o=u(n,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function sj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>LS(f))),h(e,["embeddings"],d)}const o=u(n,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function lj(n){const e={},i=u(n,["endpoint"]);i!=null&&h(e,["name"],i);const a=u(n,["deployedModelId"]);return a!=null&&h(e,["deployedModelId"],a),e}function ij(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function aj(n){const e={},i=u(n,["id"]);i!=null&&h(e,["id"],i);const a=u(n,["args"]);a!=null&&h(e,["args"],a);const o=u(n,["name"]);if(o!=null&&h(e,["name"],o),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rj(n){const e={},i=u(n,["mode"]);i!=null&&h(e,["mode"],i);const a=u(n,["allowedFunctionNames"]);if(a!=null&&h(e,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oj(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(n,["description"]);i!=null&&h(e,["description"],i);const a=u(n,["name"]);a!=null&&h(e,["name"],a);const o=u(n,["parameters"]);o!=null&&h(e,["parameters"],o);const d=u(n,["parametersJsonSchema"]);d!=null&&h(e,["parametersJsonSchema"],d);const f=u(n,["response"]);f!=null&&h(e,["response"],f);const m=u(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function cj(n,e,i){const a={},o=u(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],lo(Nt(o)));const d=u(e,["temperature"]);d!=null&&h(a,["temperature"],d);const f=u(e,["topP"]);f!=null&&h(a,["topP"],f);const m=u(e,["topK"]);m!=null&&h(a,["topK"],m);const x=u(e,["candidateCount"]);x!=null&&h(a,["candidateCount"],x);const p=u(e,["maxOutputTokens"]);p!=null&&h(a,["maxOutputTokens"],p);const b=u(e,["stopSequences"]);b!=null&&h(a,["stopSequences"],b);const v=u(e,["responseLogprobs"]);v!=null&&h(a,["responseLogprobs"],v);const N=u(e,["logprobs"]);N!=null&&h(a,["logprobs"],N);const w=u(e,["presencePenalty"]);w!=null&&h(a,["presencePenalty"],w);const j=u(e,["frequencyPenalty"]);j!=null&&h(a,["frequencyPenalty"],j);const E=u(e,["seed"]);E!=null&&h(a,["seed"],E);const U=u(e,["responseMimeType"]);U!=null&&h(a,["responseMimeType"],U);const J=u(e,["responseSchema"]);J!=null&&h(a,["responseSchema"],Su(J));const q=u(e,["responseJsonSchema"]);if(q!=null&&h(a,["responseJsonSchema"],q),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(e,["safetySettings"]);if(i!==void 0&&B!=null){let ee=B;Array.isArray(ee)&&(ee=ee.map(Z=>Wj(Z))),h(i,["safetySettings"],ee)}const F=u(e,["tools"]);if(i!==void 0&&F!=null){let ee=ti(F);Array.isArray(ee)&&(ee=ee.map(Z=>aT(ei(Z)))),h(i,["tools"],ee)}const ae=u(e,["toolConfig"]);if(i!==void 0&&ae!=null&&h(i,["toolConfig"],iT(ae)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const de=u(e,["cachedContent"]);i!==void 0&&de!=null&&h(i,["cachedContent"],Hn(n,de));const T=u(e,["responseModalities"]);T!=null&&h(a,["responseModalities"],T);const O=u(e,["mediaResolution"]);O!=null&&h(a,["mediaResolution"],O);const I=u(e,["speechConfig"]);if(I!=null&&h(a,["speechConfig"],ju(I)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=u(e,["thinkingConfig"]);k!=null&&h(a,["thinkingConfig"],k);const R=u(e,["imageConfig"]);return R!=null&&h(a,["imageConfig"],Lj(R)),a}function dj(n,e,i){const a={},o=u(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],Nt(o));const d=u(e,["temperature"]);d!=null&&h(a,["temperature"],d);const f=u(e,["topP"]);f!=null&&h(a,["topP"],f);const m=u(e,["topK"]);m!=null&&h(a,["topK"],m);const x=u(e,["candidateCount"]);x!=null&&h(a,["candidateCount"],x);const p=u(e,["maxOutputTokens"]);p!=null&&h(a,["maxOutputTokens"],p);const b=u(e,["stopSequences"]);b!=null&&h(a,["stopSequences"],b);const v=u(e,["responseLogprobs"]);v!=null&&h(a,["responseLogprobs"],v);const N=u(e,["logprobs"]);N!=null&&h(a,["logprobs"],N);const w=u(e,["presencePenalty"]);w!=null&&h(a,["presencePenalty"],w);const j=u(e,["frequencyPenalty"]);j!=null&&h(a,["frequencyPenalty"],j);const E=u(e,["seed"]);E!=null&&h(a,["seed"],E);const U=u(e,["responseMimeType"]);U!=null&&h(a,["responseMimeType"],U);const J=u(e,["responseSchema"]);J!=null&&h(a,["responseSchema"],Su(J));const q=u(e,["responseJsonSchema"]);q!=null&&h(a,["responseJsonSchema"],q);const B=u(e,["routingConfig"]);B!=null&&h(a,["routingConfig"],B);const F=u(e,["modelSelectionConfig"]);F!=null&&h(a,["modelConfig"],F);const ae=u(e,["safetySettings"]);if(i!==void 0&&ae!=null){let C=ae;Array.isArray(C)&&(C=C.map($=>$)),h(i,["safetySettings"],C)}const de=u(e,["tools"]);if(i!==void 0&&de!=null){let C=ti(de);Array.isArray(C)&&(C=C.map($=>_x(ei($)))),h(i,["tools"],C)}const T=u(e,["toolConfig"]);i!==void 0&&T!=null&&h(i,["toolConfig"],T);const O=u(e,["labels"]);i!==void 0&&O!=null&&h(i,["labels"],O);const I=u(e,["cachedContent"]);i!==void 0&&I!=null&&h(i,["cachedContent"],Hn(n,I));const k=u(e,["responseModalities"]);k!=null&&h(a,["responseModalities"],k);const R=u(e,["mediaResolution"]);R!=null&&h(a,["mediaResolution"],R);const ee=u(e,["speechConfig"]);ee!=null&&h(a,["speechConfig"],Nx(ju(ee)));const Z=u(e,["audioTimestamp"]);Z!=null&&h(a,["audioTimestamp"],Z);const L=u(e,["thinkingConfig"]);L!=null&&h(a,["thinkingConfig"],L);const K=u(e,["imageConfig"]);return K!=null&&h(a,["imageConfig"],zj(K)),a}function ig(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let f=tn(o);Array.isArray(f)&&(f=f.map(m=>lo(m))),h(i,["contents"],f)}const d=u(e,["config"]);return d!=null&&h(i,["generationConfig"],cj(n,d,i)),i}function ag(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["contents"]);if(o!=null){let f=tn(o);Array.isArray(f)&&(f=f.map(m=>m)),h(i,["contents"],f)}const d=u(e,["config"]);return d!=null&&h(i,["generationConfig"],dj(n,d,i)),i}function rg(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(p=>RS(p))),h(e,["candidates"],x)}const o=u(n,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const d=u(n,["promptFeedback"]);d!=null&&h(e,["promptFeedback"],d);const f=u(n,["responseId"]);f!=null&&h(e,["responseId"],f);const m=u(n,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function og(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(b=>b)),h(e,["candidates"],p)}const o=u(n,["createTime"]);o!=null&&h(e,["createTime"],o);const d=u(n,["modelVersion"]);d!=null&&h(e,["modelVersion"],d);const f=u(n,["promptFeedback"]);f!=null&&h(e,["promptFeedback"],f);const m=u(n,["responseId"]);m!=null&&h(e,["responseId"],m);const x=u(n,["usageMetadata"]);return x!=null&&h(e,["usageMetadata"],x),e}function uj(n,e){const i={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(n,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const o=u(n,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const d=u(n,["guidanceScale"]);if(e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=u(n,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const x=u(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&h(e,["parameters","includeSafetyAttributes"],x);const p=u(n,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const b=u(n,["language"]);e!==void 0&&b!=null&&h(e,["parameters","language"],b);const v=u(n,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const N=u(n,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&h(e,["parameters","outputOptions","compressionQuality"],N),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=u(n,["imageSize"]);if(e!==void 0&&w!=null&&h(e,["parameters","sampleImageSize"],w),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function fj(n,e){const i={},a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=u(n,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const d=u(n,["numberOfImages"]);e!==void 0&&d!=null&&h(e,["parameters","sampleCount"],d);const f=u(n,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const m=u(n,["guidanceScale"]);e!==void 0&&m!=null&&h(e,["parameters","guidanceScale"],m);const x=u(n,["seed"]);e!==void 0&&x!=null&&h(e,["parameters","seed"],x);const p=u(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const b=u(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const v=u(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&h(e,["parameters","includeSafetyAttributes"],v);const N=u(n,["includeRaiReason"]);e!==void 0&&N!=null&&h(e,["parameters","includeRaiReason"],N);const w=u(n,["language"]);e!==void 0&&w!=null&&h(e,["parameters","language"],w);const j=u(n,["outputMimeType"]);e!==void 0&&j!=null&&h(e,["parameters","outputOptions","mimeType"],j);const E=u(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&h(e,["parameters","outputOptions","compressionQuality"],E);const U=u(n,["addWatermark"]);e!==void 0&&U!=null&&h(e,["parameters","addWatermark"],U);const J=u(n,["labels"]);e!==void 0&&J!=null&&h(e,["labels"],J);const q=u(n,["imageSize"]);e!==void 0&&q!=null&&h(e,["parameters","sampleImageSize"],q);const B=u(n,["enhancePrompt"]);return e!==void 0&&B!=null&&h(e,["parameters","enhancePrompt"],B),i}function hj(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const d=u(e,["config"]);return d!=null&&uj(d,i),i}function mj(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const d=u(e,["config"]);return d!=null&&fj(d,i),i}function pj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>Ej(f))),h(e,["generatedImages"],d)}const o=u(n,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],yx(o)),e}function gj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>io(f))),h(e,["generatedImages"],d)}const o=u(n,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],vx(o)),e}function xj(n,e){const i={},a=u(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(n,["durationSeconds"]);if(e!==void 0&&o!=null&&h(e,["parameters","durationSeconds"],o),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(n,["aspectRatio"]);e!==void 0&&d!=null&&h(e,["parameters","aspectRatio"],d);const f=u(n,["resolution"]);e!==void 0&&f!=null&&h(e,["parameters","resolution"],f);const m=u(n,["personGeneration"]);if(e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=u(n,["negativePrompt"]);e!==void 0&&x!=null&&h(e,["parameters","negativePrompt"],x);const p=u(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const b=u(n,["lastFrame"]);e!==void 0&&b!=null&&h(e,["instances[0]","lastFrame"],ao(b));const v=u(n,["referenceImages"]);if(e!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(w=>yT(w))),h(e,["instances[0]","referenceImages"],N)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function bj(n,e){const i={},a=u(n,["numberOfVideos"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const o=u(n,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const d=u(n,["fps"]);e!==void 0&&d!=null&&h(e,["parameters","fps"],d);const f=u(n,["durationSeconds"]);e!==void 0&&f!=null&&h(e,["parameters","durationSeconds"],f);const m=u(n,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const x=u(n,["aspectRatio"]);e!==void 0&&x!=null&&h(e,["parameters","aspectRatio"],x);const p=u(n,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const b=u(n,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const v=u(n,["pubsubTopic"]);e!==void 0&&v!=null&&h(e,["parameters","pubsubTopic"],v);const N=u(n,["negativePrompt"]);e!==void 0&&N!=null&&h(e,["parameters","negativePrompt"],N);const w=u(n,["enhancePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","enhancePrompt"],w);const j=u(n,["generateAudio"]);e!==void 0&&j!=null&&h(e,["parameters","generateAudio"],j);const E=u(n,["lastFrame"]);e!==void 0&&E!=null&&h(e,["instances[0]","lastFrame"],fn(E));const U=u(n,["referenceImages"]);if(e!==void 0&&U!=null){let B=U;Array.isArray(B)&&(B=B.map(F=>vT(F))),h(e,["instances[0]","referenceImages"],B)}const J=u(n,["mask"]);e!==void 0&&J!=null&&h(e,["instances[0]","mask"],bT(J));const q=u(n,["compressionQuality"]);return e!==void 0&&q!=null&&h(e,["parameters","compressionQuality"],q),i}function yj(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],wj(f)),e}function vj(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response"]);return f!=null&&h(e,["response"],Sj(f)),e}function Nj(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const d=u(e,["image"]);d!=null&&h(i,["instances[0]","image"],ao(d));const f=u(e,["video"]);f!=null&&h(i,["instances[0]","video"],wx(f));const m=u(e,["source"]);m!=null&&jj(m,i);const x=u(e,["config"]);return x!=null&&xj(x,i),i}function _j(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const d=u(e,["image"]);d!=null&&h(i,["instances[0]","image"],fn(d));const f=u(e,["video"]);f!=null&&h(i,["instances[0]","video"],Sx(f));const m=u(e,["source"]);m!=null&&Tj(m,i);const x=u(e,["config"]);return x!=null&&bj(x,i),i}function wj(n){const e={},i=u(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>Aj(f))),h(e,["generatedVideos"],d)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const o=u(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function Sj(n){const e={},i=u(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>kj(f))),h(e,["generatedVideos"],d)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&h(e,["raiMediaFilteredCount"],a);const o=u(n,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function jj(n,e){const i={},a=u(n,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const o=u(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],ao(o));const d=u(n,["video"]);return e!==void 0&&d!=null&&h(e,["instances[0]","video"],wx(d)),i}function Tj(n,e){const i={},a=u(n,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const o=u(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],fn(o));const d=u(n,["video"]);return e!==void 0&&d!=null&&h(e,["instances[0]","video"],Sx(d)),i}function Ej(n){const e={},i=u(n,["_self"]);i!=null&&h(e,["image"],Pj(i));const a=u(n,["raiFilteredReason"]);a!=null&&h(e,["raiFilteredReason"],a);const o=u(n,["_self"]);return o!=null&&h(e,["safetyAttributes"],yx(o)),e}function io(n){const e={},i=u(n,["_self"]);i!=null&&h(e,["image"],bx(i));const a=u(n,["raiFilteredReason"]);a!=null&&h(e,["raiFilteredReason"],a);const o=u(n,["_self"]);o!=null&&h(e,["safetyAttributes"],vx(o));const d=u(n,["prompt"]);return d!=null&&h(e,["enhancedPrompt"],d),e}function Cj(n){const e={},i=u(n,["_self"]);i!=null&&h(e,["mask"],bx(i));const a=u(n,["labels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(d=>d)),h(e,["labels"],o)}return e}function Aj(n){const e={},i=u(n,["video"]);return i!=null&&h(e,["video"],gT(i)),e}function kj(n){const e={},i=u(n,["_self"]);return i!=null&&h(e,["video"],xT(i)),e}function Mj(n){const e={},i=u(n,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const a=u(n,["responseJsonSchema"]);a!=null&&h(e,["responseJsonSchema"],a);const o=u(n,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const d=u(n,["candidateCount"]);d!=null&&h(e,["candidateCount"],d);const f=u(n,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const m=u(n,["frequencyPenalty"]);m!=null&&h(e,["frequencyPenalty"],m);const x=u(n,["logprobs"]);x!=null&&h(e,["logprobs"],x);const p=u(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const b=u(n,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const v=u(n,["presencePenalty"]);v!=null&&h(e,["presencePenalty"],v);const N=u(n,["responseLogprobs"]);N!=null&&h(e,["responseLogprobs"],N);const w=u(n,["responseMimeType"]);w!=null&&h(e,["responseMimeType"],w);const j=u(n,["responseModalities"]);j!=null&&h(e,["responseModalities"],j);const E=u(n,["responseSchema"]);E!=null&&h(e,["responseSchema"],E);const U=u(n,["routingConfig"]);U!=null&&h(e,["routingConfig"],U);const J=u(n,["seed"]);J!=null&&h(e,["seed"],J);const q=u(n,["speechConfig"]);q!=null&&h(e,["speechConfig"],Nx(q));const B=u(n,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const F=u(n,["temperature"]);F!=null&&h(e,["temperature"],F);const ae=u(n,["thinkingConfig"]);ae!=null&&h(e,["thinkingConfig"],ae);const de=u(n,["topK"]);de!=null&&h(e,["topK"],de);const T=u(n,["topP"]);if(T!=null&&h(e,["topP"],T),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rj(n,e){const i={},a=u(e,["model"]);return a!=null&&h(i,["_url","name"],ze(n,a)),i}function Dj(n,e){const i={},a=u(e,["model"]);return a!=null&&h(i,["_url","name"],ze(n,a)),i}function Ij(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function Uj(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function Lj(n){const e={},i=u(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=u(n,["imageSize"]);if(a!=null&&h(e,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function zj(n){const e={},i=u(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const a=u(n,["imageSize"]);a!=null&&h(e,["imageSize"],a);const o=u(n,["outputMimeType"]);o!=null&&h(e,["imageOutputOptions","mimeType"],o);const d=u(n,["outputCompressionQuality"]);return d!=null&&h(e,["imageOutputOptions","compressionQuality"],d),e}function Pj(n){const e={},i=u(n,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],vs(i));const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function bx(n){const e={},i=u(n,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&h(e,["imageBytes"],vs(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function ao(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=u(n,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],vs(i));const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function fn(n){const e={},i=u(n,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const a=u(n,["imageBytes"]);a!=null&&h(e,["bytesBase64Encoded"],vs(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function Oj(n,e,i){const a={},o=u(e,["pageSize"]);i!==void 0&&o!=null&&h(i,["_query","pageSize"],o);const d=u(e,["pageToken"]);i!==void 0&&d!=null&&h(i,["_query","pageToken"],d);const f=u(e,["filter"]);i!==void 0&&f!=null&&h(i,["_query","filter"],f);const m=u(e,["queryBase"]);return i!==void 0&&m!=null&&h(i,["_url","models_url"],dx(n,m)),a}function qj(n,e,i){const a={},o=u(e,["pageSize"]);i!==void 0&&o!=null&&h(i,["_query","pageSize"],o);const d=u(e,["pageToken"]);i!==void 0&&d!=null&&h(i,["_query","pageToken"],d);const f=u(e,["filter"]);i!==void 0&&f!=null&&h(i,["_query","filter"],f);const m=u(e,["queryBase"]);return i!==void 0&&m!=null&&h(i,["_url","models_url"],dx(n,m)),a}function Gj(n,e){const i={},a=u(e,["config"]);return a!=null&&Oj(n,a,i),i}function Hj(n,e){const i={},a=u(e,["config"]);return a!=null&&qj(n,a,i),i}function Vj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["_self"]);if(o!=null){let d=ux(o);Array.isArray(d)&&(d=d.map(f=>tu(f))),h(e,["models"],d)}return e}function Bj(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["_self"]);if(o!=null){let d=ux(o);Array.isArray(d)&&(d=d.map(f=>nu(f))),h(e,["models"],d)}return e}function $j(n){const e={},i=u(n,["maskMode"]);i!=null&&h(e,["maskMode"],i);const a=u(n,["segmentationClasses"]);a!=null&&h(e,["maskClasses"],a);const o=u(n,["maskDilation"]);return o!=null&&h(e,["dilation"],o),e}function tu(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["displayName"]);a!=null&&h(e,["displayName"],a);const o=u(n,["description"]);o!=null&&h(e,["description"],o);const d=u(n,["version"]);d!=null&&h(e,["version"],d);const f=u(n,["_self"]);f!=null&&h(e,["tunedModelInfo"],rT(f));const m=u(n,["inputTokenLimit"]);m!=null&&h(e,["inputTokenLimit"],m);const x=u(n,["outputTokenLimit"]);x!=null&&h(e,["outputTokenLimit"],x);const p=u(n,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const b=u(n,["temperature"]);b!=null&&h(e,["temperature"],b);const v=u(n,["maxTemperature"]);v!=null&&h(e,["maxTemperature"],v);const N=u(n,["topP"]);N!=null&&h(e,["topP"],N);const w=u(n,["topK"]);w!=null&&h(e,["topK"],w);const j=u(n,["thinking"]);return j!=null&&h(e,["thinking"],j),e}function nu(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["displayName"]);a!=null&&h(e,["displayName"],a);const o=u(n,["description"]);o!=null&&h(e,["description"],o);const d=u(n,["versionId"]);d!=null&&h(e,["version"],d);const f=u(n,["deployedModels"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(N=>lj(N))),h(e,["endpoints"],v)}const m=u(n,["labels"]);m!=null&&h(e,["labels"],m);const x=u(n,["_self"]);x!=null&&h(e,["tunedModelInfo"],oT(x));const p=u(n,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const b=u(n,["checkpoints"]);if(b!=null){let v=b;Array.isArray(v)&&(v=v.map(N=>N)),h(e,["checkpoints"],v)}return e}function Fj(n){const e={},i=u(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const o=u(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const d=u(n,["fileData"]);d!=null&&h(e,["fileData"],ij(d));const f=u(n,["functionCall"]);f!=null&&h(e,["functionCall"],aj(f));const m=u(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const x=u(n,["inlineData"]);x!=null&&h(e,["inlineData"],MS(x));const p=u(n,["text"]);p!=null&&h(e,["text"],p);const b=u(n,["thought"]);b!=null&&h(e,["thought"],b);const v=u(n,["thoughtSignature"]);v!=null&&h(e,["thoughtSignature"],v);const N=u(n,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function Jj(n){const e={},i=u(n,["productImage"]);return i!=null&&h(e,["image"],fn(i)),e}function Yj(n,e){const i={},a=u(n,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const o=u(n,["baseSteps"]);e!==void 0&&o!=null&&h(e,["parameters","baseSteps"],o);const d=u(n,["outputGcsUri"]);e!==void 0&&d!=null&&h(e,["parameters","storageUri"],d);const f=u(n,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=u(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const x=u(n,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const p=u(n,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const b=u(n,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const v=u(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","compressionQuality"],v);const N=u(n,["enhancePrompt"]);e!==void 0&&N!=null&&h(e,["parameters","enhancePrompt"],N);const w=u(n,["labels"]);return e!==void 0&&w!=null&&h(e,["labels"],w),i}function Kj(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["source"]);o!=null&&Xj(o,i);const d=u(e,["config"]);return d!=null&&Yj(d,i),i}function Qj(n){const e={},i=u(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>io(o))),h(e,["generatedImages"],a)}return e}function Xj(n,e){const i={},a=u(n,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const o=u(n,["personImage"]);e!==void 0&&o!=null&&h(e,["instances[0]","personImage","image"],fn(o));const d=u(n,["productImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>Jj(m))),h(e,["instances[0]","productImages"],f)}return i}function Zj(n){const e={},i=u(n,["referenceImage"]);i!=null&&h(e,["referenceImage"],fn(i));const a=u(n,["referenceId"]);a!=null&&h(e,["referenceId"],a);const o=u(n,["referenceType"]);o!=null&&h(e,["referenceType"],o);const d=u(n,["maskImageConfig"]);d!=null&&h(e,["maskImageConfig"],$j(d));const f=u(n,["controlImageConfig"]);f!=null&&h(e,["controlImageConfig"],PS(f));const m=u(n,["styleImageConfig"]);m!=null&&h(e,["styleImageConfig"],m);const x=u(n,["subjectImageConfig"]);return x!=null&&h(e,["subjectImageConfig"],x),e}function yx(n){const e={},i=u(n,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const a=u(n,["safetyAttributes","scores"]);a!=null&&h(e,["scores"],a);const o=u(n,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function vx(n){const e={},i=u(n,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const a=u(n,["safetyAttributes","scores"]);a!=null&&h(e,["scores"],a);const o=u(n,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function Wj(n){const e={},i=u(n,["category"]);if(i!=null&&h(e,["category"],i),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&h(e,["threshold"],a),e}function eT(n){const e={},i=u(n,["image"]);return i!=null&&h(e,["image"],fn(i)),e}function tT(n,e){const i={},a=u(n,["mode"]);e!==void 0&&a!=null&&h(e,["parameters","mode"],a);const o=u(n,["maxPredictions"]);e!==void 0&&o!=null&&h(e,["parameters","maxPredictions"],o);const d=u(n,["confidenceThreshold"]);e!==void 0&&d!=null&&h(e,["parameters","confidenceThreshold"],d);const f=u(n,["maskDilation"]);e!==void 0&&f!=null&&h(e,["parameters","maskDilation"],f);const m=u(n,["binaryColorThreshold"]);e!==void 0&&m!=null&&h(e,["parameters","binaryColorThreshold"],m);const x=u(n,["labels"]);return e!==void 0&&x!=null&&h(e,["labels"],x),i}function nT(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["source"]);o!=null&&lT(o,i);const d=u(e,["config"]);return d!=null&&tT(d,i),i}function sT(n){const e={},i=u(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Cj(o))),h(e,["generatedMasks"],a)}return e}function lT(n,e){const i={},a=u(n,["prompt"]);e!==void 0&&a!=null&&h(e,["instances[0]","prompt"],a);const o=u(n,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],fn(o));const d=u(n,["scribbleImage"]);return e!==void 0&&d!=null&&h(e,["instances[0]","scribble"],eT(d)),i}function Nx(n){const e={},i=u(n,["languageCode"]);i!=null&&h(e,["languageCode"],i);const a=u(n,["voiceConfig"]);if(a!=null&&h(e,["voiceConfig"],a),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function iT(n){const e={},i=u(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],rj(i));const a=u(n,["retrievalConfig"]);return a!=null&&h(e,["retrievalConfig"],a),e}function aT(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(v=>v)),h(e,["functionDeclarations"],b)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=u(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const d=u(n,["fileSearch"]);d!=null&&h(e,["fileSearch"],d);const f=u(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],Ij(m));const x=u(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],Uj(x));const p=u(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function _x(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(N=>oj(N))),h(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&h(e,["retrieval"],a);const o=u(n,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const d=u(n,["computerUse"]);if(d!=null&&h(e,["computerUse"],d),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const m=u(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const x=u(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const p=u(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=u(n,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function rT(n){const e={},i=u(n,["baseModel"]);i!=null&&h(e,["baseModel"],i);const a=u(n,["createTime"]);a!=null&&h(e,["createTime"],a);const o=u(n,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function oT(n){const e={},i=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const a=u(n,["createTime"]);a!=null&&h(e,["createTime"],a);const o=u(n,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function cT(n,e){const i={},a=u(n,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=u(n,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const d=u(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&h(e,["defaultCheckpointId"],d),i}function dT(n,e){const i={},a=u(n,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const o=u(n,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const d=u(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&h(e,["defaultCheckpointId"],d),i}function uT(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","name"],ze(n,a));const o=u(e,["config"]);return o!=null&&cT(o,i),i}function fT(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["config"]);return o!=null&&dT(o,i),i}function hT(n,e){const i={},a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const o=u(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const d=u(n,["personGeneration"]);e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d);const f=u(n,["includeRaiReason"]);e!==void 0&&f!=null&&h(e,["parameters","includeRaiReason"],f);const m=u(n,["outputMimeType"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","mimeType"],m);const x=u(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","compressionQuality"],x);const p=u(n,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const b=u(n,["imagePreservationFactor"]);e!==void 0&&b!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],b);const v=u(n,["labels"]);e!==void 0&&v!=null&&h(e,["labels"],v);const N=u(n,["numberOfImages"]);e!==void 0&&N!=null&&h(e,["parameters","sampleCount"],N);const w=u(n,["mode"]);return e!==void 0&&w!=null&&h(e,["parameters","mode"],w),i}function mT(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["_url","model"],ze(n,a));const o=u(e,["image"]);o!=null&&h(i,["instances[0]","image"],fn(o));const d=u(e,["upscaleFactor"]);d!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],d);const f=u(e,["config"]);return f!=null&&hT(f,i),i}function pT(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(d=>io(d))),h(e,["generatedImages"],o)}return e}function gT(n){const e={},i=u(n,["uri"]);i!=null&&h(e,["uri"],i);const a=u(n,["encodedVideo"]);a!=null&&h(e,["videoBytes"],vs(a));const o=u(n,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function xT(n){const e={},i=u(n,["gcsUri"]);i!=null&&h(e,["uri"],i);const a=u(n,["bytesBase64Encoded"]);a!=null&&h(e,["videoBytes"],vs(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function bT(n){const e={},i=u(n,["image"]);i!=null&&h(e,["_self"],fn(i));const a=u(n,["maskMode"]);return a!=null&&h(e,["maskMode"],a),e}function yT(n){const e={},i=u(n,["image"]);i!=null&&h(e,["image"],ao(i));const a=u(n,["referenceType"]);return a!=null&&h(e,["referenceType"],a),e}function vT(n){const e={},i=u(n,["image"]);i!=null&&h(e,["image"],fn(i));const a=u(n,["referenceType"]);return a!=null&&h(e,["referenceType"],a),e}function wx(n){const e={},i=u(n,["uri"]);i!=null&&h(e,["uri"],i);const a=u(n,["videoBytes"]);a!=null&&h(e,["encodedVideo"],vs(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["encoding"],o),e}function Sx(n){const e={},i=u(n,["uri"]);i!=null&&h(e,["gcsUri"],i);const a=u(n,["videoBytes"]);a!=null&&h(e,["bytesBase64Encoded"],vs(a));const o=u(n,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NT="Content-Type",_T="X-Server-Timeout",wT="User-Agent",su="x-goog-api-client",ST="1.30.0",jT=`google-genai-sdk/${ST}`,TT="v1beta1",ET="v1beta",cg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class CT{constructor(e){var i,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:TT,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:ET,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,a){const o=[this.getRequestUrlInternal(i)];return a&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,a);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))o.searchParams.append(f,String(m));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,i,o.toString(),e.abortSignal),this.unaryApiCall(o,d,e.httpMethod)}patchHttpOptions(e,i){const a=JSON.parse(JSON.stringify(e));for(const[o,d]of Object.entries(i))typeof d=="object"?a[o]=Object.assign(Object.assign({},a[o]),d):d!==void 0&&(a[o]=d);return a}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,a);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,i,o.toString(),e.abortSignal),this.streamApiCall(o,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,a,o){if(i&&i.timeout||o){const d=new AbortController,f=d.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const m=setTimeout(()=>d.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}o&&o.addEventListener("abort",()=>{d.abort()}),e.signal=f}return i&&i.extraBody!==null&&AT(e,i.extraBody),e.headers=await this.getHeadersInternal(i,a),e}async unaryApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async o=>(await dg(o),new Zd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async o=>(await dg(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var i;return Fl(this,arguments,function*(){const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),d=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let f="";for(;;){const{done:m,value:x}=yield Ke(o.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(x,{stream:!0});try{const v=JSON.parse(p);if("error"in v){const N=JSON.parse(JSON.stringify(v.error)),w=N.status,j=N.code,E=`got status: ${w}. ${JSON.stringify(v)}`;if(j>=400&&j<600)throw new so({message:E,status:j})}}catch(v){if(v.name==="ApiError")throw v}f+=p;let b=f.match(cg);for(;b;){const v=b[1];try{const N=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ke(new Zd(N)),f=f.slice(b[0].length),b=f.match(cg)}catch(N){throw new Error(`exception parsing stream chunk ${v}. ${N}`)}}}}finally{o.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},i=jT+" "+this.clientOptions.userAgentExtra;return e[wT]=i,e[su]=i,e[NT]="application/json",e}async getHeadersInternal(e,i){const a=new Headers;if(e&&e.headers){for(const[o,d]of Object.entries(e.headers))a.append(o,d);e.timeout&&e.timeout>0&&a.append(_T,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,i),a}getFileName(e){var i;let a="";return typeof e=="string"&&(a=e.replace(/[/\\]+$/,""),a=(i=a.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),a}async uploadFile(e,i){var a;const o={};i!=null&&(o.mimeType=i.mimeType,o.name=i.name,o.displayName=i.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const d=this.clientOptions.uploader,f=await d.stat(e);o.sizeBytes=String(f.size);const m=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=m;const x={file:o},p=this.getFileName(e),b=he("upload/v1beta/files",x._url),v=await this.fetchUploadUrl(b,o.sizeBytes,o.mimeType,p,x,i==null?void 0:i.httpOptions);return d.upload(e,v,this)}async uploadFileToFileSearchStore(e,i,a){var o;const d=this.clientOptions.uploader,f=await d.stat(i),m=String(f.size),x=(o=a==null?void 0:a.mimeType)!==null&&o!==void 0?o:f.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,b=this.getFileName(i),v={};a!=null&&a.customMetadata&&(v.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(v.chunkingConfig=a.chunkingConfig);const N=await this.fetchUploadUrl(p,m,x,b,v,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(i,N,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,a,o,d,f){var m;let x={};f?x=f:x={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${a}`},o?{"X-Goog-Upload-File-Name":o}:{})};const p=await this.request({path:e,body:JSON.stringify(d),httpMethod:"POST",httpOptions:x});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const b=(m=p==null?void 0:p.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(b===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return b}}async function dg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=JSON.stringify(a);throw i>=400&&i<600?new so({message:o,status:i}):new Error(o)}}function AT(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))i=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,f){const m=Object.assign({},d);for(const x in f)if(Object.prototype.hasOwnProperty.call(f,x)){const p=f[x],b=m[x];p&&typeof p=="object"&&!Array.isArray(p)&&b&&typeof b=="object"&&!Array.isArray(b)?m[x]=a(b,p):(b&&p&&typeof b!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof b}, New type: ${typeof p}. Overwriting.`),m[x]=p)}return m}const o=a(i,e);n.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT="mcp_used/unknown";let MT=!1;function jx(n){for(const e of n)if(RT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return MT}function Tx(n){var e;const i=(e=n[su])!==null&&e!==void 0?e:"";n[su]=(i+` ${kT}`).trimStart()}function RT(n){return n!==null&&typeof n=="object"&&n instanceof Eu}function DT(n,e=100){return Fl(this,arguments,function*(){let a,o=0;for(;o<e;){const d=yield Ke(n.listTools({cursor:a}));for(const f of d.tools)yield yield Ke(f),o++;if(!d.nextCursor)break;a=d.nextCursor}})}class Eu{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Eu(e,i)}async initialize(){var e,i,a,o;if(this.mcpTools.length>0)return;const d={},f=[];for(const b of this.mcpClients)try{for(var m=!0,x=(i=void 0,sa(DT(b))),p;p=await x.next(),e=p.done,!e;m=!0){o=p.value,m=!1;const v=o;f.push(v);const N=v.name;if(d[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);d[N]=b}}catch(v){i={error:v}}finally{try{!m&&!e&&(a=x.return)&&await a.call(x)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),j2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const f=await o.callTool({name:a.name,arguments:a.args},void 0,d);i.push({functionResponse:{name:a.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IT(n,e,i){const a=new x2;let o;i.data instanceof Blob?o=JSON.parse(await i.data.text()):o=JSON.parse(i.data),Object.assign(a,o),e(a)}class UT{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a}async connect(e){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f=PT(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),x=`${o}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const b=new Promise(B=>{p=B}),v=e.callbacks,N=function(){p({})},w=this.apiClient,j={onopen:N,onmessage:B=>{IT(w,v.onmessage,B)},onerror:(i=v==null?void 0:v.onerror)!==null&&i!==void 0?i:function(B){},onclose:(a=v==null?void 0:v.onclose)!==null&&a!==void 0?a:function(B){}},E=this.webSocketFactory.create(x,zT(f),j);E.connect(),await b;const q={setup:{model:ze(this.apiClient,e.model)}};return E.send(JSON.stringify(q)),new LT(E,this.apiClient)}}class LT{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=_S(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=NS(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Bl.PLAY)}pause(){this.sendPlaybackControl(Bl.PAUSE)}stop(){this.sendPlaybackControl(Bl.STOP)}resetContext(){this.sendPlaybackControl(Bl.RESET_CONTEXT)}close(){this.conn.close()}}function zT(n){const e={};return n.forEach((i,a)=>{e[a]=i}),e}function PT(n){const e=new Headers;for(const[i,a]of Object.entries(n))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qT(n,e,i){const a=new g2;let o;i.data instanceof Blob?o=await i.data.text():i.data instanceof ArrayBuffer?o=new TextDecoder().decode(i.data):o=i.data;const d=JSON.parse(o);if(n.isVertexAI()){const f=jS(d);Object.assign(a,f)}else Object.assign(a,d);e(a)}class GT{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a,this.music=new UT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,a,o,d,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let b;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&jx(e.config.tools)&&Tx(v);const N=$T(v);if(this.apiClient.isVertexAI())b=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N,b);else{const I=this.apiClient.getApiKey();let k="BidiGenerateContent",R="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",R="access_token"),b=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${k}?${R}=${I}`}let w=()=>{};const j=new Promise(I=>{w=I}),E=e.callbacks,U=function(){var I;(I=E==null?void 0:E.onopen)===null||I===void 0||I.call(E),w({})},J=this.apiClient,q={onopen:U,onmessage:I=>{qT(J,E.onmessage,I)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(I){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(I){}},B=this.webSocketFactory.create(b,BT(N),q);B.connect(),await j;let F=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const I=this.apiClient.getProject(),k=this.apiClient.getLocation();F=`projects/${I}/locations/${k}/`+F}let ae={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jr.AUDIO]}:e.config.responseModalities=[Jr.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const de=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],T=[];for(const I of de)if(this.isCallableTool(I)){const k=I;T.push(await k.tool())}else T.push(I);T.length>0&&(e.config.tools=T);const O={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ae=vS(this.apiClient,O):ae=yS(this.apiClient,O),delete ae.config,B.send(JSON.stringify(ae)),new VT(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const HT={turnComplete:!0};class VT{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=tn(i.turns),e.isVertexAI()||(a=a.map(o=>lo(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(OT)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},HT),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:SS(e)}:i={realtimeInput:wS(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function BT(n){const e={};return n.forEach((i,a)=>{e[a]=i}),e}function $T(n){const e=new Headers;for(const[i,a]of Object.entries(n))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=10;function fg(n){var e,i,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Jl(f)){o=!0;break}if(!o)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Jl(n){return"callTool"in n&&typeof n.callTool=="function"}function FT(n){var e,i,a;return(a=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(o=>Jl(o)))!==null&&a!==void 0?a:!1}function hg(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((a,o)=>{if(Jl(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&i.push(o)}),i}function mg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JT extends Gn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var a,o,d,f,m;const x=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!FT(i)||fg(i.config))return await this.generateContentInternal(x);const p=hg(i);if(p.length>0){const E=p.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let b,v;const N=tn(x.contents),w=(d=(o=(a=x.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&d!==void 0?d:ug;let j=0;for(;j<w&&(b=await this.generateContentInternal(x),!(!b.functionCalls||b.functionCalls.length===0));){const E=b.candidates[0].content,U=[];for(const J of(m=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(Jl(J)){const B=await J.callTool(b.functionCalls);U.push(...B)}j++,v={role:"user",parts:U},x.contents=tn(x.contents),x.contents.push(E),x.contents.push(v),mg(x.config)&&(N.push(E),N.push(v))}return mg(x.config)&&(b.automaticFunctionCallingHistory=N),b},this.generateContentStream=async i=>{var a,o,d,f,m;if(this.maybeMoveToResponseJsonSchem(i),fg(i.config)){const v=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(v)}const x=hg(i);if(x.length>0){const v=x.map(N=>`tools[${N}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(d=(o=(a=i==null?void 0:i.config)===null||a===void 0?void 0:a.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,b=(m=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(p&&!b)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var o;let d;const f=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((o=x==null?void 0:x.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?d=x==null?void 0:x.safetyAttributes:f.push(x);let m;return d?m={generatedImages:f,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:a.sdkHttpResponse},m}),this.list=async i=>{var a;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((a=f.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new $s(qn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const o={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(o)},this.generateVideos=async i=>{var a,o,d,f,m,x;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=i.video)===null||a===void 0)&&a.uri&&(!((o=i.video)===null||o===void 0)&&o.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(d=i.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.uri&&(!((x=(m=i.source)===null||m===void 0?void 0:m.video)===null||x===void 0)&&x.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,a,o;const d=(i=e.config)===null||i===void 0?void 0:i.tools;if(!d)return e;const f=await Promise.all(d.map(async x=>Jl(x)?await x.tool():x)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&jx(e.config.tools)){const x=(o=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Tx(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var i,a,o;const d=new Map;for(const f of(a=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(Jl(f)){const m=f,x=await m.tool();for(const p of(o=x.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,m)}}return d}async processAfcStream(e){var i,a,o;const d=(o=(a=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:ug;let f=!1,m=0;const x=await this.initAfcToolsMap(e);return(function(p,b,v){var N,w;return Fl(this,arguments,function*(){for(var j,E,U,J;m<d;){f&&(m++,f=!1);const ae=yield Ke(p.processParamsMaybeAddMcpUsage(v)),de=yield Ke(p.generateContentStreamInternal(ae)),T=[],O=[];try{for(var q=!0,B=(E=void 0,sa(de)),F;F=yield Ke(B.next()),j=F.done,!j;q=!0){J=F.value,q=!1;const I=J;if(yield yield Ke(I),I.candidates&&(!((N=I.candidates[0])===null||N===void 0)&&N.content)){O.push(I.candidates[0].content);for(const k of(w=I.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(m<d&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(k.functionCall.name)){const R=yield Ke(b.get(k.functionCall.name).callTool([k.functionCall]));T.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(I){E={error:I}}finally{try{!q&&!j&&(U=B.return)&&(yield Ke(U.call(B)))}finally{if(E)throw E.error}}if(T.length>0){f=!0;const I=new Zi;I.candidates=[{content:{role:"user",parts:T}}],yield yield Ke(I);const k=[];k.push(...O),k.push({role:"user",parts:T});const R=tn(v.contents).concat(k);v.contents=R}else break}})})(this,x,e)}async generateContentInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=ag(this.apiClient,e);return m=he("{model}:generateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=og(b),N=new Zi;return Object.assign(N,v),N})}else{const p=ig(this.apiClient,e);return m=he("{model}:generateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=rg(b),N=new Zi;return Object.assign(N,v),N})}}async generateContentStreamInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=ag(this.apiClient,e);return m=he("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),f.then(function(v){return Fl(this,arguments,function*(){var N,w,j,E;try{for(var U=!0,J=sa(v),q;q=yield Ke(J.next()),N=q.done,!N;U=!0){E=q.value,U=!1;const B=E,F=og(yield Ke(B.json()));F.sdkHttpResponse={headers:B.headers};const ae=new Zi;Object.assign(ae,F),yield yield Ke(ae)}}catch(B){w={error:B}}finally{try{!U&&!N&&(j=J.return)&&(yield Ke(j.call(J)))}finally{if(w)throw w.error}}})})}else{const p=ig(this.apiClient,e);return m=he("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),f.then(function(v){return Fl(this,arguments,function*(){var N,w,j,E;try{for(var U=!0,J=sa(v),q;q=yield Ke(J.next()),N=q.done,!N;U=!0){E=q.value,U=!1;const B=E,F=rg(yield Ke(B.json()));F.sdkHttpResponse={headers:B.headers};const ae=new Zi;Object.assign(ae,F),yield yield Ke(ae)}}catch(B){w={error:B}}finally{try{!U&&!N&&(j=J.return)&&(yield Ke(j.call(J)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=tj(this.apiClient,e);return m=he("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=sj(b),N=new V0;return Object.assign(N,v),N})}else{const p=ej(this.apiClient,e);return m=he("{model}:batchEmbedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=nj(b),N=new V0;return Object.assign(N,v),N})}}async generateImagesInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=mj(this.apiClient,e);return m=he("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=gj(b),N=new B0;return Object.assign(N,v),N})}else{const p=hj(this.apiClient,e);return m=he("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=pj(b),N=new B0;return Object.assign(N,v),N})}}async editImageInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=QS(this.apiClient,e);return d=he("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>{const p=XS(x),b=new i2;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=mT(this.apiClient,e);return d=he("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>{const p=pT(x),b=new a2;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=Kj(this.apiClient,e);return d=he("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=Qj(x),b=new r2;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=nT(this.apiClient,e);return d=he("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=sT(x),b=new o2;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=Dj(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>nu(b))}else{const p=Rj(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>tu(b))}}async listInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=Hj(this.apiClient,e);return m=he("{models_url}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=Bj(b),N=new $0;return Object.assign(N,v),N})}else{const p=Gj(this.apiClient,e);return m=he("{models_url}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=Vj(b),N=new $0;return Object.assign(N,v),N})}}async update(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=fT(this.apiClient,e);return m=he("{model}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>nu(b))}else{const p=uT(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>tu(b))}}async delete(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=FS(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=YS(b),N=new F0;return Object.assign(N,v),N})}else{const p=$S(this.apiClient,e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=JS(b),N=new F0;return Object.assign(N,v),N})}}async countTokens(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=HS(this.apiClient,e);return m=he("{model}:countTokens",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=BS(b),N=new J0;return Object.assign(N,v),N})}else{const p=GS(this.apiClient,e);return m=he("{model}:countTokens",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=VS(b),N=new J0;return Object.assign(N,v),N})}}async computeTokens(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=IS(this.apiClient,e);return d=he("{model}:computeTokens",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>{const p=US(x),b=new c2;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=_j(this.apiClient,e);return m=he("{model}:predictLongRunning",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f.then(b=>{const v=vj(b),N=new Yr;return Object.assign(N,v),N})}else{const p=Nj(this.apiClient,e);return m=he("{model}:predictLongRunning",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f.then(b=>{const v=yj(b),N=new Yr;return Object.assign(N,v),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YT extends Gn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=W_(e);return m=he("{operationName}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),f}else{const p=Z_(e);return m=he("{operationName}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json()),f}}async fetchPredictVideosOperationInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=$_(e);return d=he("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(n){const e={},i=u(n,["data"]);if(i!=null&&h(e,["data"],i),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function QT(n){const e={},i=u(n,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(d=>iE(d))),h(e,["parts"],o)}const a=u(n,["role"]);return a!=null&&h(e,["role"],a),e}function XT(n,e,i){const a={},o=u(e,["expireTime"]);i!==void 0&&o!=null&&h(i,["expireTime"],o);const d=u(e,["newSessionExpireTime"]);i!==void 0&&d!=null&&h(i,["newSessionExpireTime"],d);const f=u(e,["uses"]);i!==void 0&&f!=null&&h(i,["uses"],f);const m=u(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&h(i,["bidiGenerateContentSetup"],lE(n,m));const x=u(e,["lockAdditionalFields"]);return i!==void 0&&x!=null&&h(i,["fieldMask"],x),a}function ZT(n,e){const i={},a=u(e,["config"]);return a!=null&&h(i,["config"],XT(n,a,i)),i}function WT(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const a=u(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function eE(n){const e={},i=u(n,["id"]);i!=null&&h(e,["id"],i);const a=u(n,["args"]);a!=null&&h(e,["args"],a);const o=u(n,["name"]);if(o!=null&&h(e,["name"],o),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tE(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=u(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function nE(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=u(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function sE(n,e){const i={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig"],a);const o=u(n,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const d=u(n,["temperature"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","temperature"],d);const f=u(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const m=u(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const x=u(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=u(n,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const v=u(n,["speechConfig"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","speechConfig"],Tu(v));const N=u(n,["thinkingConfig"]);e!==void 0&&N!=null&&h(e,["setup","generationConfig","thinkingConfig"],N);const w=u(n,["enableAffectiveDialog"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],w);const j=u(n,["systemInstruction"]);e!==void 0&&j!=null&&h(e,["setup","systemInstruction"],QT(Nt(j)));const E=u(n,["tools"]);if(e!==void 0&&E!=null){let de=ti(E);Array.isArray(de)&&(de=de.map(T=>rE(ei(T)))),h(e,["setup","tools"],de)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],aE(U));const J=u(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=u(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const ae=u(n,["proactivity"]);return e!==void 0&&ae!=null&&h(e,["setup","proactivity"],ae),i}function lE(n,e){const i={},a=u(e,["model"]);a!=null&&h(i,["setup","model"],ze(n,a));const o=u(e,["config"]);return o!=null&&h(i,["config"],sE(o,i)),i}function iE(n){const e={},i=u(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const a=u(n,["codeExecutionResult"]);a!=null&&h(e,["codeExecutionResult"],a);const o=u(n,["executableCode"]);o!=null&&h(e,["executableCode"],o);const d=u(n,["fileData"]);d!=null&&h(e,["fileData"],WT(d));const f=u(n,["functionCall"]);f!=null&&h(e,["functionCall"],eE(f));const m=u(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const x=u(n,["inlineData"]);x!=null&&h(e,["inlineData"],KT(x));const p=u(n,["text"]);p!=null&&h(e,["text"],p);const b=u(n,["thought"]);b!=null&&h(e,["thought"],b);const v=u(n,["thoughtSignature"]);v!=null&&h(e,["thoughtSignature"],v);const N=u(n,["videoMetadata"]);return N!=null&&h(e,["videoMetadata"],N),e}function aE(n){const e={},i=u(n,["handle"]);if(i!=null&&h(e,["handle"],i),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rE(n){const e={},i=u(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(v=>v)),h(e,["functionDeclarations"],b)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const o=u(n,["computerUse"]);o!=null&&h(e,["computerUse"],o);const d=u(n,["fileSearch"]);d!=null&&h(e,["fileSearch"],d);const f=u(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],tE(m));const x=u(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],nE(x));const p=u(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const a=n[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const o=Object.keys(a).map(d=>`${i}.${d}`);e.push(...o)}else e.push(i)}return e.join(",")}function cE(n,e){let i=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,i=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const o=n.fieldMask;if(i){const d=oE(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];o.length>0&&(m=o.map(p=>f.includes(p)?`generationConfig.${p}`:p));const x=[];d&&x.push(d),m.length>0&&x.push(...m),x.length>0?n.fieldMask=x.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}class dE extends Gn{constructor(e){super(),this.apiClient=e}async create(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=ZT(this.apiClient,e);d=he("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const x=cE(m,e.config);return o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uE(n,e){const i={},a=u(n,["displayName"]);return e!==void 0&&a!=null&&h(e,["displayName"],a),i}function fE(n){const e={},i=u(n,["config"]);return i!=null&&uE(i,e),e}function hE(n,e){const i={},a=u(n,["force"]);return e!==void 0&&a!=null&&h(e,["_query","force"],a),i}function mE(n){const e={},i=u(n,["name"]);i!=null&&h(e,["_url","name"],i);const a=u(n,["config"]);return a!=null&&hE(a,e),e}function pE(n){const e={},i=u(n,["name"]);return i!=null&&h(e,["_url","name"],i),e}function gE(n,e){const i={},a=u(n,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["customMetadata"],d)}const o=u(n,["chunkingConfig"]);return e!==void 0&&o!=null&&h(e,["chunkingConfig"],o),i}function xE(n){const e={},i=u(n,["name"]);i!=null&&h(e,["name"],i);const a=u(n,["metadata"]);a!=null&&h(e,["metadata"],a);const o=u(n,["done"]);o!=null&&h(e,["done"],o);const d=u(n,["error"]);d!=null&&h(e,["error"],d);const f=u(n,["response"]);return f!=null&&h(e,["response"],yE(f)),e}function bE(n){const e={},i=u(n,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const a=u(n,["fileName"]);a!=null&&h(e,["fileName"],a);const o=u(n,["config"]);return o!=null&&gE(o,e),e}function yE(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["parent"]);a!=null&&h(e,["parent"],a);const o=u(n,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function vE(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function NE(n){const e={},i=u(n,["config"]);return i!=null&&vE(i,e),e}function _E(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["fileSearchStores"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["fileSearchStores"],d)}return e}function wE(n,e){const i={},a=u(n,["mimeType"]);e!==void 0&&a!=null&&h(e,["mimeType"],a);const o=u(n,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const d=u(n,["customMetadata"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>x)),h(e,["customMetadata"],m)}const f=u(n,["chunkingConfig"]);return e!==void 0&&f!=null&&h(e,["chunkingConfig"],f),i}function SE(n){const e={},i=u(n,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const a=u(n,["config"]);return a!=null&&wE(a,e),e}function jE(n){const e={},i=u(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(n,e){const i={},a=u(n,["force"]);return e!==void 0&&a!=null&&h(e,["_query","force"],a),i}function EE(n){const e={},i=u(n,["name"]);i!=null&&h(e,["_url","name"],i);const a=u(n,["config"]);return a!=null&&TE(a,e),e}function CE(n){const e={},i=u(n,["name"]);return i!=null&&h(e,["_url","name"],i),e}function AE(n,e){const i={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const o=u(n,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function kE(n){const e={},i=u(n,["parent"]);i!=null&&h(e,["_url","parent"],i);const a=u(n,["config"]);return a!=null&&AE(a,e),e}function ME(n){const e={},i=u(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const a=u(n,["nextPageToken"]);a!=null&&h(e,["nextPageToken"],a);const o=u(n,["documents"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),h(e,["documents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RE extends Gn{constructor(e){super(),this.apiClient=e,this.list=async i=>new $s(qn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:i.parent,config:a.config}),await this.listInternal(i),i)}async get(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=CE(e);return d=he("{name}",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>x)}}async delete(e){var i,a;let o="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=EE(e);o=he("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=kE(e);return d=he("{parent}/documents",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=ME(x),b=new d2;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DE extends Gn{constructor(e,i=new RE(e)){super(),this.apiClient=e,this.documents=i,this.list=async(a={})=>new $s(qn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(a),a)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fE(e);return d=he("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>x)}}async get(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pE(e);return d=he("{name}",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>x)}}async delete(e){var i,a;let o="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mE(e);o=he("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=NE(e);return d=he("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=_E(x),b=new u2;return Object.assign(b,p),b})}}async uploadToFileSearchStoreInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SE(e);return d=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=jE(x),b=new f2;return Object.assign(b,p),b})}}async importFile(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=bE(e);return d=he("{file_search_store_name}:importFile",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const p=xE(x),b=new Nu;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(n,e){const i={},a=u(n,["name"]);return a!=null&&h(i,["_url","name"],a),i}function UE(n,e){const i={},a=u(n,["name"]);return a!=null&&h(i,["_url","name"],a),i}function LE(n,e,i){const a={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=u(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&h(e,["displayName"],o),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(n,["epochCount"]);e!==void 0&&d!=null&&h(e,["tuningTask","hyperparameters","epochCount"],d);const f=u(n,["learningRateMultiplier"]);if(f!=null&&h(a,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=u(n,["batchSize"]);e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","batchSize"],m);const x=u(n,["learningRate"]);if(e!==void 0&&x!=null&&h(e,["tuningTask","hyperparameters","learningRate"],x),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function zE(n,e,i){const a={};let o=u(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const w=u(n,["validationDataset"]);e!==void 0&&w!=null&&h(e,["supervisedTuningSpec"],pg(w))}else if(o==="PREFERENCE_TUNING"){const w=u(n,["validationDataset"]);e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec"],pg(w))}const d=u(n,["tunedModelDisplayName"]);e!==void 0&&d!=null&&h(e,["tunedModelDisplayName"],d);const f=u(n,["description"]);e!==void 0&&f!=null&&h(e,["description"],f);let m=u(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=u(n,["epochCount"]);e!==void 0&&w!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(m==="PREFERENCE_TUNING"){const w=u(n,["epochCount"]);e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let x=u(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const w=u(n,["learningRateMultiplier"]);e!==void 0&&w!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(x==="PREFERENCE_TUNING"){const w=u(n,["learningRateMultiplier"]);e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let p=u(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=u(n,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(p==="PREFERENCE_TUNING"){const w=u(n,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let b=u(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const w=u(n,["adapterSize"]);e!==void 0&&w!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(b==="PREFERENCE_TUNING"){const w=u(n,["adapterSize"]);e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=u(n,["labels"]);e!==void 0&&v!=null&&h(e,["labels"],v);const N=u(n,["beta"]);return e!==void 0&&N!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],N),a}function PE(n,e){const i={},a=u(n,["baseModel"]);a!=null&&h(i,["baseModel"],a);const o=u(n,["preTunedModel"]);o!=null&&h(i,["preTunedModel"],o);const d=u(n,["trainingDataset"]);d!=null&&KE(d);const f=u(n,["config"]);return f!=null&&LE(f,i),i}function OE(n,e){const i={},a=u(n,["baseModel"]);a!=null&&h(i,["baseModel"],a);const o=u(n,["preTunedModel"]);o!=null&&h(i,["preTunedModel"],o);const d=u(n,["trainingDataset"]);d!=null&&QE(d,i,e);const f=u(n,["config"]);return f!=null&&zE(f,i,e),i}function qE(n,e){const i={},a=u(n,["name"]);return a!=null&&h(i,["_url","name"],a),i}function GE(n,e){const i={},a=u(n,["name"]);return a!=null&&h(i,["_url","name"],a),i}function HE(n,e,i){const a={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const d=u(n,["pageToken"]);e!==void 0&&d!=null&&h(e,["_query","pageToken"],d);const f=u(n,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),a}function VE(n,e,i){const a={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const d=u(n,["pageToken"]);e!==void 0&&d!=null&&h(e,["_query","pageToken"],d);const f=u(n,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),a}function BE(n,e){const i={},a=u(n,["config"]);return a!=null&&HE(a,i),i}function $E(n,e){const i={},a=u(n,["config"]);return a!=null&&VE(a,i),i}function FE(n,e){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const o=u(n,["nextPageToken"]);o!=null&&h(i,["nextPageToken"],o);const d=u(n,["tunedModels"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>Ex(m))),h(i,["tuningJobs"],f)}return i}function JE(n,e){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const o=u(n,["nextPageToken"]);o!=null&&h(i,["nextPageToken"],o);const d=u(n,["tuningJobs"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>lu(m))),h(i,["tuningJobs"],f)}return i}function YE(n,e){const i={},a=u(n,["name"]);a!=null&&h(i,["model"],a);const o=u(n,["name"]);return o!=null&&h(i,["endpoint"],o),i}function KE(n,e){const i={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(n,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(d=>d)),h(i,["examples","examples"],o)}return i}function QE(n,e,i){const a={};let o=u(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(o==="PREFERENCE_TUNING"){const f=u(n,["gcsUri"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let d=u(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(d==="PREFERENCE_TUNING"){const f=u(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ex(n,e){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const o=u(n,["name"]);o!=null&&h(i,["name"],o);const d=u(n,["state"]);d!=null&&h(i,["state"],ox(d));const f=u(n,["createTime"]);f!=null&&h(i,["createTime"],f);const m=u(n,["tuningTask","startTime"]);m!=null&&h(i,["startTime"],m);const x=u(n,["tuningTask","completeTime"]);x!=null&&h(i,["endTime"],x);const p=u(n,["updateTime"]);p!=null&&h(i,["updateTime"],p);const b=u(n,["description"]);b!=null&&h(i,["description"],b);const v=u(n,["baseModel"]);v!=null&&h(i,["baseModel"],v);const N=u(n,["_self"]);return N!=null&&h(i,["tunedModel"],YE(N)),i}function lu(n,e){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const o=u(n,["name"]);o!=null&&h(i,["name"],o);const d=u(n,["state"]);d!=null&&h(i,["state"],ox(d));const f=u(n,["createTime"]);f!=null&&h(i,["createTime"],f);const m=u(n,["startTime"]);m!=null&&h(i,["startTime"],m);const x=u(n,["endTime"]);x!=null&&h(i,["endTime"],x);const p=u(n,["updateTime"]);p!=null&&h(i,["updateTime"],p);const b=u(n,["error"]);b!=null&&h(i,["error"],b);const v=u(n,["description"]);v!=null&&h(i,["description"],v);const N=u(n,["baseModel"]);N!=null&&h(i,["baseModel"],N);const w=u(n,["tunedModel"]);w!=null&&h(i,["tunedModel"],w);const j=u(n,["preTunedModel"]);j!=null&&h(i,["preTunedModel"],j);const E=u(n,["supervisedTuningSpec"]);E!=null&&h(i,["supervisedTuningSpec"],E);const U=u(n,["preferenceOptimizationSpec"]);U!=null&&h(i,["preferenceOptimizationSpec"],U);const J=u(n,["tuningDataStats"]);J!=null&&h(i,["tuningDataStats"],J);const q=u(n,["encryptionSpec"]);q!=null&&h(i,["encryptionSpec"],q);const B=u(n,["partnerModelTuningSpec"]);B!=null&&h(i,["partnerModelTuningSpec"],B);const F=u(n,["customBaseModel"]);F!=null&&h(i,["customBaseModel"],F);const ae=u(n,["experiment"]);ae!=null&&h(i,["experiment"],ae);const de=u(n,["labels"]);de!=null&&h(i,["labels"],de);const T=u(n,["outputUri"]);T!=null&&h(i,["outputUri"],T);const O=u(n,["pipelineJob"]);O!=null&&h(i,["pipelineJob"],O);const I=u(n,["serviceAccount"]);I!=null&&h(i,["serviceAccount"],I);const k=u(n,["tunedModelDisplayName"]);k!=null&&h(i,["tunedModelDisplayName"],k);const R=u(n,["veoTuningSpec"]);return R!=null&&h(i,["veoTuningSpec"],R),i}function XE(n,e){const i={},a=u(n,["sdkHttpResponse"]);a!=null&&h(i,["sdkHttpResponse"],a);const o=u(n,["name"]);o!=null&&h(i,["name"],o);const d=u(n,["metadata"]);d!=null&&h(i,["metadata"],d);const f=u(n,["done"]);f!=null&&h(i,["done"],f);const m=u(n,["error"]);return m!=null&&h(i,["error"],m),i}function pg(n,e){const i={},a=u(n,["gcsUri"]);a!=null&&h(i,["validationDatasetUri"],a);const o=u(n,["vertexDatasetResource"]);return o!=null&&h(i,["validationDatasetUri"],o),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends Gn{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new $s(qn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.tune=async i=>{var a;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel};!((a=i.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(o.checkpointId=i.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},i),{preTunedModel:o});return d.baseModel=void 0,await this.tuneInternal(d)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),d=await this.tuneMldevInternal(o);let f="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?f=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(f=d.name.split("/operations/")[0]),{name:f,state:Xd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=GE(e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>lu(b))}else{const p=qE(e);return m=he("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>Ex(b))}}async listInternal(e){var i,a,o,d;let f,m="",x={};if(this.apiClient.isVertexAI()){const p=$E(e);return m=he("tuningJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=JE(b),N=new Y0;return Object.assign(N,v),N})}else{const p=BE(e);return m=he("tunedModels",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(b=>b.json().then(v=>{const N=v;return N.sdkHttpResponse={headers:b.headers},N})),f.then(b=>{const v=FE(b),N=new Y0;return Object.assign(N,v),N})}}async cancel(e){var i,a,o,d;let f="",m={};if(this.apiClient.isVertexAI()){const x=UE(e);f=he("{name}:cancel",x._url),m=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const x=IE(e);f=he("{name}:cancel",x._url),m=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI()){const m=OE(e,e);return d=he("tuningJobs",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>lu(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,a;let o,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=PE(e);return d=he("tunedModels",m._url),f=m._query,delete m._url,delete m._query,o=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:x.headers},b})),o.then(x=>XE(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eC=1024*1024*8,tC=3,nC=1e3,sC=2,Qr="x-goog-upload-status";async function lC(n,e,i){var a;const o=await Cx(n,e,i),d=await(o==null?void 0:o.json());if(((a=o==null?void 0:o.headers)===null||a===void 0?void 0:a[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function iC(n,e,i){var a;const o=await Cx(n,e,i),d=await(o==null?void 0:o.json());if(((a=o==null?void 0:o.headers)===null||a===void 0?void 0:a[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=nx(d),m=new _u;return Object.assign(m,f),m}async function Cx(n,e,i){var a,o;let d=0,f=0,m=new Zd(new Response),x="upload";for(d=n.size;f<d;){const p=Math.min(eC,d-f),b=n.slice(f,f+p);f+p>=d&&(x+=", finalize");let v=0,N=nC;for(;v<tC&&(m=await i.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(f),"Content-Length":String(p)}}}),!(!((a=m==null?void 0:m.headers)===null||a===void 0)&&a[Qr]));)v++,await rC(N),N=N*sC;if(f+=p,((o=m==null?void 0:m.headers)===null||o===void 0?void 0:o[Qr])!=="active")break;if(d<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function aC(n){return{size:n.size,type:n.type}}function rC(n){return new Promise(e=>setTimeout(e,n))}class oC{async upload(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lC(e,i,a)}async uploadToFileSearchStore(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iC(e,i,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC{create(e,i,a){return new dC(e,i,a)}}class dC{constructor(e,i,a){this.url=e,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gg="x-goog-api-key";class uC{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(gg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC="gl-node/";class hC{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const a=V_(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const o=new uC(this.apiKey);this.apiClient=new CT({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:fC+"web",uploader:new oC,downloader:new WE}),this.models=new JT(this.apiClient),this.live=new GT(this.apiClient,o,new cC),this.batches=new bw(this.apiClient),this.chats=new Ww(this.models,this.apiClient),this.caches=new Qw(this.apiClient),this.files=new cS(this.apiClient),this.operations=new YT(this.apiClient),this.authTokens=new dE(this.apiClient),this.tunings=new ZE(this.apiClient),this.fileSearchStores=new DE(this.apiClient)}}const Ax=()=>{const n="PLACEHOLDER_API_KEY";return new hC({apiKey:n})},kx=async(n,e)=>{const i=Ax();if(!i)throw new Error("API Key missing");const a=n.observations.filter(m=>m.score===2).map(m=>`${m.criteria} (${m.indicators.join(" ")})`).join(", "),o=n.observations.filter(m=>m.score===0||m.score===1).map(m=>`${m.criteria} (${m.indicators.join(" ")})`).join(", "),d=n.assessmentKeywords?`
       : ${n.assessmentKeywords}`:"",f=`
       .   " "       .
    
    : ${e.fullName}
    : ${n.subject}
    : ${n.topic}
    
       ( ): ${a}
       (    ): ${o}
    ${d}
    
    :
    1.       .
    2.      .
    3.          .
    4.          .
    5.     (      ).
    6.      .
    7.           .
    8. :  100-150 .
  `;try{return(await i.models.generateContent({model:"gemini-2.5-flash",contents:f})).text||"   ."}catch(m){throw console.error("Gemini API Error:",m),new Error("    Gemini")}},mC=async n=>{var a;const e=Ax();if(!e)return"";const i=`     ( )     : "${n}".`;try{return((a=(await e.models.generateContent({model:"gemini-2.5-flash",contents:i})).text)==null?void 0:a.trim())||""}catch{return""}},dn=({value:n,onChange:e,placeholder:i,className:a,minHeight:o="min-h-[60px]"})=>{const[d,f]=P.useState(!1),[m,x]=P.useState(!0),p=P.useRef(null);P.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){x(!1);return}const v=window.SpeechRecognition||window.webkitSpeechRecognition;p.current=new v,p.current.continuous=!0,p.current.interimResults=!0,p.current.lang="ar-DZ",p.current.onresult=N=>{let w="";for(let j=N.resultIndex;j<N.results.length;++j)N.results[j].isFinal&&(w+=N.results[j][0].transcript);if(w){const j=n+(n&&!n.endsWith(" ")?" ":"")+w;e(j)}},p.current.onerror=N=>{console.error("Speech recognition error",N.error),f(!1)},p.current.onend=()=>{f(!1)}},[n,e]);const b=()=>{var v,N;if(!m){alert("     .   Chrome  Edge.");return}d?((v=p.current)==null||v.stop(),f(!1)):((N=p.current)==null||N.start(),f(!0))};return s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:n,onChange:v=>e(v.target.value),placeholder:d?" ...  ":i,className:`${a} ${o} ${d?"border-red-400 bg-red-50/30":""} transition-colors pl-10`}),s.jsx("button",{onClick:b,className:`absolute bottom-2 left-2 p-2 rounded-full transition-all duration-300 shadow-sm flex items-center justify-center z-10
                    ${d?"bg-red-500 text-white animate-pulse hover:bg-red-600 scale-110":"bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600"}
                    ${m?"":"opacity-50 cursor-not-allowed"}
                `,title:d?" ":" ",type:"button",children:d?s.jsx(Vg,{size:16}):s.jsx(Bg,{size:16})}),d&&s.jsx("span",{className:"absolute bottom-3 left-12 text-xs text-red-500 font-bold animate-pulse whitespace-nowrap pointer-events-none",children:" ..."})]})};var pC=Lg();const oe=({label:n,value:e,onChange:i,options:a=[],placeholder:o,type:d="text",className:f=""})=>{const[m,x]=P.useState(!1),[p,b]=P.useState(!1),[v,N]=P.useState({}),[w,j]=P.useState(!0),[E,U]=P.useState(!1),J=P.useRef(null),q=P.useRef(null),B=P.useMemo(()=>`dropdown-${n?n.replace(/\s/g,"-"):Math.random().toString(36).slice(2,11)}`,[n]),F=()=>{if(J.current){const k=J.current.getBoundingClientRect(),R=window.innerHeight-k.bottom,ee=k.top,Z=R<250&&ee>200,L={position:"fixed",left:k.left,width:k.width,zIndex:1e5};Z?(L.bottom=window.innerHeight-k.top+5,L.maxHeight=Math.min(300,ee-20)):(L.top=k.bottom+5,L.maxHeight=Math.min(300,R-20)),N(L)}},ae=(k=!1)=>{a&&a.length>0&&(F(),U(k),b(!0))};P.useEffect(()=>{if(!p)return;const k=R=>{const ee=document.getElementById(B);ee&&R.target instanceof Node&&ee.contains(R.target)||b(!1)};return window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}},[p,B]),P.useEffect(()=>{function k(R){const ee=J.current&&J.current.contains(R.target),Z=document.getElementById(B),L=Z&&Z.contains(R.target);!ee&&!L&&b(!1)}return p&&document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[p,B]),P.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){j(!1);return}const k=window.SpeechRecognition||window.webkitSpeechRecognition;q.current=new k,q.current.continuous=!1,q.current.interimResults=!1,q.current.lang="ar-DZ",q.current.onresult=R=>{const ee=R.results[0][0].transcript;ee&&i(ee.replace(/\.$/,"")),x(!1)},q.current.onerror=()=>x(!1),q.current.onend=()=>x(!1)},[i]);const de=()=>{var k,R;w&&(m?(k=q.current)==null||k.stop():((R=q.current)==null||R.start(),x(!0)))},T=k=>{i(k),b(!1)},O=a&&a.length>0,I=P.useMemo(()=>{if(!O)return[];if(E||!e||a.includes(e))return a;const k=a.filter(R=>R.toLowerCase().includes(e.toLowerCase()));return k.length>0?k:a},[a,e,E,O]);return s.jsxs("div",{className:`relative ${f}`,ref:J,children:[n&&s.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:n}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:d,value:e,onChange:k=>{i(k.target.value),U(!1),O&&(F(),b(!0))},onFocus:()=>{},onClick:()=>{O&&ae(!0)},placeholder:m?" ...":o,className:`w-full border rounded-lg py-2 px-3 pl-9 text-sm outline-none transition-all shadow-sm
                        ${m?"bg-red-50 border-red-300 ring-2 ring-red-100":"bg-white border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}
                        ${O?"cursor-pointer":""}
                    `}),s.jsx("button",{onClick:de,type:"button",tabIndex:-1,className:`absolute left-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full transition-all z-10
                        ${m?"text-white bg-red-500 animate-pulse":"text-gray-400 hover:text-blue-600 hover:bg-gray-100"}`,title:" ",children:m?s.jsx(Vg,{size:14}):s.jsx(Bg,{size:14})}),O&&d!=="date"&&s.jsx("button",{type:"button",tabIndex:-1,onClick:k=>{k.stopPropagation(),p?b(!1):ae(!0)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 transition-colors",children:p?s.jsx(On,{size:16}):s.jsx(Hr,{size:16})})]}),p&&O&&pC.createPortal(s.jsx("div",{id:B,style:v,className:"bg-white border border-gray-200 rounded-lg shadow-2xl overflow-y-auto animate-in fade-in zoom-in-95 duration-100 custom-scrollbar flex flex-col",children:I.length===0?s.jsx("div",{className:"px-3 py-4 text-center text-sm text-gray-400",children:"   "}):I.map((k,R)=>s.jsxs("div",{onClick:()=>T(k),className:`px-3 py-2.5 text-sm cursor-pointer hover:bg-blue-50 hover:text-blue-700 flex justify-between items-center transition-colors border-b border-gray-50 last:border-0
                                    ${e===k?"bg-blue-50 text-blue-700 font-bold":"text-gray-700"}
                                `,children:[s.jsx("span",{className:"truncate",children:k}),e===k&&s.jsx(Vl,{size:14,className:"shrink-0 ml-2"})]},R))}),document.body)]})},gC=({report:n,teacher:e,onChange:i,onTeacherChange:a,onPrint:o,isGoldMember:d,onUpgradeClick:f,onUploadSignature:m})=>{const[x,p]=P.useState(!1),[b,v]=P.useState("info"),[N,w]=P.useState("saved"),[j,E]=P.useState("manual"),U=P.useRef(null),[J,q]=P.useState(new Set),B=P.useRef(n);P.useEffect(()=>{B.current=n},[n]),P.useEffect(()=>{w("saving");const R=setTimeout(()=>{localStorage.setItem("mufattish_draft",JSON.stringify(n)),w("saved")},1e3);return()=>clearTimeout(R)},[n]),P.useEffect(()=>{j==="ai"&&!d&&E("manual")},[d,j]);const F=(R,ee)=>{i({...n,[R]:ee})},ae=(R,ee)=>{a&&a({...e,[R]:ee})},de=R=>{if(R==="ai"&&!d){f();return}E(R)},T=async(R,ee)=>{const Z=n.observations.map(L=>L.id===R?{...L,score:ee}:L);if(i({...n,observations:Z}),j==="ai"&&ee!==null&&ee<2){const L=Z.find(K=>K.id===R);if(L&&!L.improvementNotes.trim()){q(K=>new Set(K).add(R));try{const K=await mC(L.criteria);if(K){const C=B.current,$=C.observations.map(G=>G.id===R?{...G,improvementNotes:K}:G);i({...C,observations:$})}}catch(K){console.error("Failed to generate suggestion",K)}finally{q(K=>{const C=new Set(K);return C.delete(R),C})}}}},O=(R,ee)=>{const Z=n.observations.map(L=>L.id===R?{...L,improvementNotes:ee}:L);i({...n,observations:Z})},I=async()=>{if(!d){f();return}p(!0);try{const R=await kx(n,e);F("generalAssessment",R);const ee=n.observations.reduce((K,C)=>K+(C.score||0),0),Z=n.observations.length*2,L=Math.round(ee/Z*20*10)/10;F("finalMark",L),v("result")}catch{alert("      API")}finally{p(!1)}},k=Array.from(new Set(n.observations.map(R=>R.category)));return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>v("info"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${b==="info"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"1. "}),s.jsx("button",{onClick:()=>v("rubric"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${b==="rubric"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"2. "}),s.jsx("button",{onClick:()=>v("result"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${b==="result"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"3. "})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2 text-xs font-medium transition-colors duration-500",children:N==="saving"?s.jsxs(s.Fragment,{children:[s.jsx(ra,{size:14,className:"animate-spin text-blue-500"}),s.jsx("span",{className:"text-blue-500 hidden md:inline",children:" ..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(pu,{size:14,className:"text-green-600"}),s.jsx("span",{className:"text-green-600 hidden md:inline",children:" "})]})}),m&&s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",ref:U,onChange:m,className:"hidden",accept:"image/*"}),s.jsxs("button",{onClick:()=>{var R;return(R=U.current)==null?void 0:R.click()},className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-2 rounded-lg hover:bg-indigo-100 border border-indigo-200 transition-colors",title:"  /",children:[s.jsx(bu,{size:18}),s.jsx("span",{className:"hidden md:inline font-bold text-sm",children:"/"})]})]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900",children:[s.jsx(Wl,{size:18}),""]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:[b==="info"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 bg-blue-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-blue-100 text-blue-700",children:s.jsx(Hg,{size:20})}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(oe,{label:"  ",value:n.wilaya,onChange:R=>F("wilaya",R)}),s.jsx(oe,{label:" ",value:n.district,onChange:R=>F("district",R)}),s.jsx(oe,{label:" ",value:n.school,onChange:R=>F("school",R)})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 bg-indigo-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-indigo-100 text-indigo-700",children:s.jsx(Bs,{size:20})}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(oe,{label:" ",value:e.fullName,onChange:R=>ae("fullName",R)})}),s.jsx(oe,{type:"date",label:" ",value:e.birthDate,onChange:R=>ae("birthDate",R)}),s.jsx(oe,{label:" ",value:e.birthPlace,onChange:R=>ae("birthPlace",R)}),s.jsx(oe,{label:" ",value:e.degree,onChange:R=>ae("degree",R),options:Wg}),s.jsx(oe,{type:"date",label:" ",value:e.degreeDate||"",onChange:R=>ae("degreeDate",R)})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 bg-green-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-green-100 text-green-700",children:s.jsx(uu,{size:20})}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(oe,{type:"date",label:"  ",value:e.recruitmentDate,onChange:R=>ae("recruitmentDate",R)}),s.jsx(oe,{label:" ",value:e.rank,onChange:R=>ae("rank",R),options:ex}),s.jsx(oe,{type:"date",label:"   ",value:e.currentRankDate||"",onChange:R=>ae("currentRankDate",R)}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(oe,{label:"",value:e.echelon||"",onChange:R=>ae("echelon",R),options:Array.from({length:12},(R,ee)=>(ee+1).toString())}),s.jsx(oe,{type:"date",label:"",value:e.echelonDate||"",onChange:R=>ae("echelonDate",R)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(oe,{type:"date",label:"  ",value:e.lastInspectionDate,onChange:R=>ae("lastInspectionDate",R)}),s.jsx(oe,{type:"number",label:" ",value:e.lastMark.toString(),onChange:R=>ae("lastMark",parseFloat(R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:" "}),s.jsxs("div",{className:"flex gap-2 p-1 bg-gray-50 rounded-lg border",children:[s.jsxs("label",{className:"flex-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"status",value:"titulaire",checked:e.status==="titulaire",onChange:()=>ae("status","titulaire"),className:"hidden peer"}),s.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-green-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]}),s.jsxs("label",{className:"flex-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"status",value:"contractuel",checked:e.status==="contractuel",onChange:()=>ae("status","contractuel"),className:"hidden peer"}),s.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-orange-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]}),s.jsxs("label",{className:"flex-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"status",value:"stagiere",checked:e.status==="stagiere",onChange:()=>ae("status","stagiere"),className:"hidden peer"}),s.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-blue-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 bg-yellow-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-yellow-100 text-yellow-700",children:s.jsx(Vt,{size:20})}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(oe,{type:"date",label:" ",value:n.inspectionDate,onChange:R=>F("inspectionDate",R)}),s.jsx(oe,{label:" / ",value:n.subject,onChange:R=>F("subject",R),options:n_}),s.jsx(oe,{label:"",value:n.topic,onChange:R=>F("topic",R)}),s.jsx(oe,{label:" ()",value:n.duration,onChange:R=>F("duration",R)}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{label:"",value:n.level,onChange:R=>F("level",R),options:s_}),s.jsx(oe,{label:"",value:n.group,onChange:R=>F("group",R)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{type:"number",label:"  ()",value:n.studentCount.toString(),onChange:R=>F("studentCount",parseInt(R))}),s.jsx(oe,{type:"number",label:" ",value:n.absentCount.toString(),onChange:R=>F("absentCount",parseInt(R))})]})]})]})]}),b==="rubric"&&s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border mb-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx(eo,{size:16}),"  :"]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>de("manual"),className:`px-3 py-1 rounded-md text-sm font-bold transition-all ${j==="manual"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:""}),s.jsxs("button",{onClick:()=>de("ai"),className:`px-3 py-1 rounded-md text-sm font-bold transition-all flex items-center gap-1 ${j==="ai"?"bg-indigo-100 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(bs,{size:12}),"  (AI)"]})]})]}),j==="ai"&&s.jsxs("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-2 py-1 rounded border border-indigo-100 flex items-center gap-1",children:[s.jsx(bs,{size:10}),"       "]})]}),k.map((R,ee)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center rounded-t-xl",children:s.jsxs("h3",{className:"font-bold text-lg text-gray-800",children:[ee+1,". ",R]})}),s.jsx("div",{className:"divide-y divide-gray-50",children:n.observations.filter(Z=>Z.category===R).map(Z=>{const L=l_[Z.criteria]||[];return s.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:Z.criteria}),s.jsx("p",{className:"text-sm text-gray-500",children:Z.indicators.join(" - ")})]}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>T(Z.id,2),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${Z.score===2?"bg-green-600 text-white border-green-600":"bg-white text-gray-600 hover:bg-green-50"}`,children:" (2)"}),s.jsx("button",{onClick:()=>T(Z.id,1),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${Z.score===1?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-600 hover:bg-yellow-50"}`,children:" (1)"}),s.jsx("button",{onClick:()=>T(Z.id,0),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${Z.score===0?"bg-red-500 text-white border-red-500":"bg-white text-gray-600 hover:bg-red-50"}`,children:"  (0)"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"relative mb-2",children:[s.jsxs("select",{onChange:K=>{K.target.value&&O(Z.id,K.target.value)},className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-blue-500 text-sm cursor-pointer",value:"",children:[s.jsxs("option",{value:"",children:["--     (",L.length," ) --"]}),L.map((K,C)=>s.jsx("option",{value:K,children:K.length>80?K.substring(0,80)+"...":K},C))]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-2 text-gray-700",children:s.jsx(Hr,{size:14})})]}),s.jsx(dn,{value:Z.improvementNotes,onChange:K=>O(Z.id,K),placeholder:"  (  )...",className:"w-full border rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50/50"}),J.has(Z.id)&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-500 animate-pulse mt-1",children:[s.jsx(bs,{size:12}),"   ..."]})]})]},Z.id)})})]},R))]}),b==="result"&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-left-4 duration-500",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4",children:" "}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"    ()"}),s.jsx(dn,{value:n.assessmentKeywords||"",onChange:R=>F("assessmentKeywords",R),placeholder:":      ...",className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none",minHeight:"min-h-[40px]"})]}),s.jsxs("div",{className:"mb-4 relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),s.jsx(dn,{value:n.generalAssessment,onChange:R=>F("generalAssessment",R),className:"w-full border rounded-lg p-4 focus:ring-2 focus:ring-blue-500 outline-none leading-relaxed text-justify",placeholder:"   ...",minHeight:"min-h-[250px]"}),s.jsxs("button",{onClick:I,disabled:x,className:"absolute bottom-4 left-14 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-md flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?s.jsx(xu,{className:"animate-spin",size:18}):s.jsx(Zg,{size:18}),n.generalAssessment?"   ":"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (/20)"}),s.jsx("input",{type:"number",min:"0",max:"20",step:"0.25",value:n.finalMark,onChange:R=>F("finalMark",parseFloat(R.target.value)),className:"w-full border rounded-lg p-2 text-2xl font-bold text-center focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx(oe,{value:n.markInLetters,onChange:R=>F("markInLetters",R),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx(oe,{type:"date",value:n.inspectionDate,onChange:R=>F("inspectionDate",R)})]})]})]})})]})]})},xC=({report:n,teacher:e,onChange:i,onPrint:a,isGoldMember:o,onUploadSignature:d})=>{const[f,m]=P.useState("info"),x=P.useRef(null),p=(w,j)=>{i({...n,[w]:j})},b=(w,j)=>{i({...n,oralQuestions:{...n.oralQuestions,[w]:j}})},v=(w,j,E)=>{const U=n.lessons.map(J=>J.id===w?{...J,[j]:E}:J);i({...n,lessons:U})},N=async()=>{if(!o)return alert("   ");b("legislation","     "),b("psychology","      "),b("educationScience","      .")};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-[#4d6a4d] text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[s.jsxs("div",{className:"flex gap-2 text-xs md:text-sm",children:[s.jsxs("button",{onClick:()=>m("info"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="info"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[s.jsx(Bs,{size:16}),"  "]}),s.jsxs("button",{onClick:()=>m("lessons"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="lessons"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[s.jsx(Vt,{size:16}),"  (3)"]}),s.jsxs("button",{onClick:()=>m("oral"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="oral"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[s.jsx(X1,{size:16})," "]}),s.jsxs("button",{onClick:()=>m("decision"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="decision"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[s.jsx(u1,{size:16})," "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d&&s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",ref:x,onChange:d,className:"hidden",accept:"image/*"}),s.jsx("button",{onClick:()=>{var w;return(w=x.current)==null?void 0:w.click()},className:"p-2 rounded-lg text-green-100 hover:bg-[#2d4a2d] hover:text-white transition-colors",title:"  /",children:s.jsx(bu,{size:20})})]}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-white text-[#4d6a4d] px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm",children:[s.jsx(Wl,{size:18}),""]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:[f==="info"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d] border-b pb-2 mb-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsx(oe,{type:"date",label:" ",value:n.examDate,onChange:w=>p("examDate",w)}),s.jsx(oe,{label:" ( )",value:n.school,onChange:w=>p("school",w)}),s.jsx(oe,{label:" (  )",value:n.city,onChange:w=>p("city",w)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(oe,{label:"  ",value:n.wilaya,onChange:w=>p("wilaya",w)}),s.jsx(oe,{label:"   ()",value:n.district,onChange:w=>p("district",w)})]}),s.jsx("h3",{className:"font-bold text-gray-600 mt-6 mb-2 border-b border-gray-100 pb-1",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(oe,{label:"  ()",value:n.inspectorName,onChange:w=>p("inspectorName",w),className:"bg-green-50"}),s.jsx(oe,{label:" 1 ()",value:n.directorName,onChange:w=>p("directorName",w)}),s.jsx(oe,{label:" 2 ()",value:n.teacherMemberName,onChange:w=>p("teacherMemberName",w)})]}),s.jsx("h3",{className:"font-bold text-gray-600 mt-6 mb-2 border-b border-gray-100 pb-1",children:"   ()"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(oe,{label:"  ",value:n.appointmentDecisionNumber,onChange:w=>p("appointmentDecisionNumber",w)})}),s.jsx("div",{className:"w-32",children:s.jsx(oe,{type:"date",label:"",value:n.appointmentDecisionDate,onChange:w=>p("appointmentDecisionDate",w)})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(oe,{label:"  ",value:n.financialVisaNumber,onChange:w=>p("financialVisaNumber",w)})}),s.jsx("div",{className:"w-32",children:s.jsx(oe,{type:"date",label:"",value:n.financialVisaDate,onChange:w=>p("financialVisaDate",w)})})]}),s.jsx(oe,{label:" /  ",value:n.university,onChange:w=>p("university",w),placeholder:"   ..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:" "}),s.jsx("input",{list:"recruitmentTypes",value:n.recruitmentType||"",onChange:w=>p("recruitmentType",w.target.value),className:"w-full border rounded-lg py-2 px-3 text-sm outline-none",placeholder:"  ..."}),s.jsxs("datalist",{id:"recruitmentTypes",children:[s.jsx("option",{value:"  "}),s.jsx("option",{value:""}),s.jsx("option",{value:"  "})]})]}),s.jsx("div",{className:"w-32",children:s.jsx(oe,{type:"date",label:" /",value:n.contestDate,onChange:w=>p("contestDate",w)})})]})]})]})}),f==="lessons"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:n.lessons.map((w,j)=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-[#4d6a4d] border-b pb-2 mb-4 flex justify-between items-center",children:[s.jsx("span",{children:j===0?" ":j===1?" ":" "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:":"}),s.jsx("input",{type:"time",value:w.timeStart,onChange:E=>v(w.id,"timeStart",E.target.value),className:"border rounded px-1 text-sm"}),s.jsx("span",{children:"-"}),s.jsx("input",{type:"time",value:w.timeEnd,onChange:E=>v(w.id,"timeEnd",E.target.value),className:"border rounded px-1 text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(oe,{label:" / ",value:w.subject,onChange:E=>v(w.id,"subject",E)}),s.jsx(oe,{label:"",value:w.topic,onChange:E=>v(w.id,"topic",E)}),s.jsx(oe,{label:" / ",value:w.level,onChange:E=>v(w.id,"level",E)})]}),s.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg border border-gray-100",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 flex items-center gap-2",children:[s.jsx(Vt,{size:14}),"    ( )"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"1.   ( )"}),s.jsx(dn,{value:w.phaseLaunch,onChange:E=>v(w.id,"phaseLaunch",E),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[40px]",placeholder:":     ..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"2.   "}),s.jsx(dn,{value:w.phaseConstruction,onChange:E=>v(w.id,"phaseConstruction",E),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[60px]",placeholder:"  ..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"3.   ()"}),s.jsx(dn,{value:w.phaseInvestment,onChange:E=>v(w.id,"phaseInvestment",E),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[40px]",placeholder:"   ..."})]})]})]},w.id))}),f==="oral"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d]",children:" "}),s.jsxs("button",{onClick:N,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full flex items-center gap-1 hover:bg-indigo-100",children:[s.jsx(bs,{size:12}),"  "]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"1.    / "}),s.jsx(dn,{value:n.oralQuestions.educationScience,onChange:w=>b("educationScience",w),className:"w-full border rounded-lg p-3 text-sm bg-blue-50/20",placeholder:":     ",minHeight:"min-h-[80px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"2.   "}),s.jsx(dn,{value:n.oralQuestions.psychology,onChange:w=>b("psychology",w),className:"w-full border rounded-lg p-3 text-sm bg-green-50/20",placeholder:":    ...",minHeight:"min-h-[80px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"3.   "}),s.jsx(dn,{value:n.oralQuestions.legislation,onChange:w=>b("legislation",w),className:"w-full border rounded-lg p-3 text-sm bg-orange-50/20",placeholder:":   ...",minHeight:"min-h-[80px]"})]})]})]})}),f==="decision"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d] border-b pb-2 mb-6",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 text-center",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  ()"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("input",{type:"number",max:"40",value:n.pedagogyMark,onChange:w=>{const j=w.target.value===""?0:parseFloat(w.target.value);i({...n,pedagogyMark:j,totalMark:j+(n.oralMark||0)})},className:"w-20 text-center text-3xl font-bold border-b-2 border-green-500 bg-transparent focus:outline-none"}),s.jsx("span",{className:"text-gray-400 font-bold text-xl",children:"/ 40"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  "}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("input",{type:"number",max:"20",value:n.oralMark,onChange:w=>{const j=w.target.value===""?0:parseFloat(w.target.value);i({...n,oralMark:j,totalMark:(n.pedagogyMark||0)+j})},className:"w-20 text-center text-3xl font-bold border-b-2 border-blue-500 bg-transparent focus:outline-none"}),s.jsx("span",{className:"text-gray-400 font-bold text-xl",children:"/ 20"})]})]}),s.jsxs("div",{className:"bg-[#2d4a2d] text-white p-4 rounded-xl shadow-lg transform scale-105 flex flex-col justify-center",children:[s.jsx("label",{className:"block text-xs font-bold text-green-200 mb-2",children:" "}),s.jsxs("div",{className:"text-5xl font-bold",children:[n.totalMark," ",s.jsx("span",{className:"text-lg text-green-300",children:"/ 60"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  "}),s.jsxs("select",{value:n.culturalValue,onChange:w=>p("culturalValue",w.target.value),className:"w-full border p-2 rounded",children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:" ",children:" "}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  "}),s.jsxs("select",{value:n.pedagogicalValue,onChange:w=>p("pedagogicalValue",w.target.value),className:"w-full border p-2 rounded",children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:" ",children:" "}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]})]}),s.jsxs("div",{className:"mt-8 border-t pt-6",children:[s.jsx("label",{className:"block text-lg font-bold text-center mb-4",children:"  "}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{onClick:()=>p("finalDecision","confirmed"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="confirmed"?"bg-green-600 text-white border-green-600 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:" ()"}),s.jsx("button",{onClick:()=>p("finalDecision","deferred"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="deferred"?"bg-orange-500 text-white border-orange-500 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:""}),s.jsx("button",{onClick:()=>p("finalDecision","failed"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="failed"?"bg-red-600 text-white border-red-600 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:""})]})]})]})})]})]})},bC=({report:n,teacher:e,onChange:i,onTeacherChange:a,onPrint:o,isGoldMember:d,onUpgradeClick:f,onUploadSignature:m})=>{var J,q,B,F,ae,de,T,O,I,k,R,ee,Z,L,K,C,$,G,le,ie,A,Q,ce,fe,me,ye,Te,Qe,De,_t,wt,Vn,Ns,Rt;const[x,p]=P.useState("info"),[b,v]=P.useState(!1),N=P.useRef(null),w=(W,pt)=>{i({...n,[W]:pt})},j=(W,pt)=>{i({...n,legacyData:{...n.legacyData,[W]:pt}})},E=(W,pt)=>{a&&a({...e,[W]:pt})},U=async()=>{if(!d){f();return}v(!0);try{const W=await kx(n,e);w("generalAssessment",W)}catch{alert("  ")}finally{v(!1)}};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-gray-800 text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p("info"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="info"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[s.jsx(Bs,{size:18})," "]}),s.jsxs("button",{onClick:()=>p("grid"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="grid"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[s.jsx(Yg,{size:18}),"  "]}),s.jsxs("button",{onClick:()=>p("evaluation"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="evaluation"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[s.jsx(Kl,{size:18}),"  "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:" "}),m&&s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",ref:N,onChange:m,className:"hidden",accept:"image/*"}),s.jsx("button",{onClick:()=>{var W;return(W=N.current)==null?void 0:W.click()},className:"p-2 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",title:"  /",children:s.jsx(bu,{size:20})})]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-white text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm",children:[s.jsx(Wl,{size:18}),""]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-5xl mx-auto w-full",children:[x==="info"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 mb-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4 bg-gray-50 p-4 rounded-lg",children:[s.jsx(oe,{label:"",value:n.wilaya,onChange:W=>w("wilaya",W)}),s.jsx(oe,{label:"",value:((J=n.legacyData)==null?void 0:J.daira)||"",onChange:W=>j("daira",W)}),s.jsx(oe,{label:"",value:((q=n.legacyData)==null?void 0:q.municipality)||"",onChange:W=>j("municipality",W)}),s.jsx(oe,{label:"",value:n.district,onChange:W=>w("district",W)}),s.jsx(oe,{label:"",value:n.school,onChange:W=>w("school",W)}),s.jsx(oe,{label:" ",value:((B=n.legacyData)==null?void 0:B.schoolYear)||"",onChange:W=>j("schoolYear",W)})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(oe,{label:" ",value:e.fullName,onChange:W=>E("fullName",W)}),s.jsx(oe,{label:"/",value:((F=n.legacyData)==null?void 0:F.familyStatus)||"",onChange:W=>j("familyStatus",W),options:["()","()","()"]}),s.jsx(oe,{type:"date",label:" ",value:e.birthDate,onChange:W=>E("birthDate",W)}),s.jsx(oe,{label:" ",value:e.birthPlace,onChange:W=>E("birthPlace",W)}),s.jsx(oe,{type:"date",label:"  ",value:e.recruitmentDate,onChange:W=>E("recruitmentDate",W)}),s.jsx(oe,{label:" ()",value:e.rank,onChange:W=>E("rank",W),options:["  ","    ","    "," "," "]}),s.jsx(oe,{label:"",value:e.echelon||"",onChange:W=>E("echelon",W),options:Array.from({length:12},(W,pt)=>(pt+1).toString())}),s.jsx(oe,{type:"date",label:" ",value:e.echelonDate||"",onChange:W=>E("echelonDate",W)}),s.jsx(oe,{label:" ",value:e.degree,onChange:W=>E("degree",W),options:r_}),s.jsx(oe,{type:"date",label:"",value:e.degreeDate||((ae=n.legacyData)==null?void 0:ae.graduationDate)||"",onChange:W=>{j("graduationDate",W),E("degreeDate",W)}}),s.jsx(oe,{label:" ",value:((de=n.legacyData)==null?void 0:de.trainingInstitute)||"",onChange:W=>j("trainingInstitute",W)}),s.jsx(oe,{type:"date",label:" ",value:((T=n.legacyData)==null?void 0:T.trainingDate)||"",onChange:W=>j("trainingDate",W)}),s.jsx(oe,{type:"date",label:"  ",value:e.lastInspectionDate,onChange:W=>E("lastInspectionDate",W)}),s.jsx(oe,{label:" ",value:e.lastMark.toString(),onChange:W=>E("lastMark",parseFloat(W)),type:"number"})]})]})}),x==="grid"&&s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 animate-in fade-in",dir:"rtl",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(oe,{type:"date",label:"",value:n.inspectionDate,onChange:W=>w("inspectionDate",W)}),s.jsx(oe,{label:"",value:n.duration,onChange:W=>w("duration",W)}),s.jsx(oe,{label:"",value:n.level,onChange:W=>w("level",W),options:o_}),s.jsx(oe,{type:"number",label:" ",value:n.studentCount.toString(),onChange:W=>w("studentCount",parseInt(W))})]}),s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsx(oe,{label:"      ",value:((O=n.legacyData)==null?void 0:O.classroomListening)||"",onChange:W=>j("classroomListening",W),options:c_}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(oe,{label:"",value:((I=n.legacyData)==null?void 0:I.lighting)||"",onChange:W=>j("lighting",W),options:Bp}),s.jsx(oe,{label:"",value:((k=n.legacyData)==null?void 0:k.cleanliness)||"",onChange:W=>j("cleanliness",W),options:u_}),s.jsx(oe,{label:"",value:((R=n.legacyData)==null?void 0:R.heating)||"",onChange:W=>j("heating",W),options:d_}),s.jsx(oe,{label:"",value:((ee=n.legacyData)==null?void 0:ee.ventilation)||"",onChange:W=>j("ventilation",W),options:Bp})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:" ",value:n.subject,onChange:W=>w("subject",W),options:a_}),s.jsx(oe,{label:"",value:n.topic,onChange:W=>w("topic",W)})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:s.jsx(oe,{label:"  ",value:((Z=n.legacyData)==null?void 0:Z.documentsAndPosters)||"",onChange:W=>j("documentsAndPosters",W),options:m_})}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 space-y-3",children:[s.jsx(oe,{label:"  ()",value:((L=n.legacyData)==null?void 0:L.lessonPreparation)||"",onChange:W=>j("lessonPreparation",W),options:f_}),s.jsx(oe,{label:" ",value:((K=n.legacyData)==null?void 0:K.preparationValue)||"",onChange:W=>j("preparationValue",W),options:h_})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 space-y-3",children:[s.jsx(oe,{label:"",value:((C=n.legacyData)==null?void 0:C.registers)||"",onChange:W=>j("registers",W),options:x_}),s.jsx(oe,{label:"    ",value:(($=n.legacyData)==null?void 0:$.registersUsed)||"",onChange:W=>j("registersUsed",W),options:b_}),s.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 mt-2",children:[s.jsx("label",{className:"block text-[11px] font-bold text-blue-800 mb-2",children:"    :"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(oe,{label:" ",value:((G=n.legacyData)==null?void 0:G.scheduledPrograms)||"",onChange:W=>j("scheduledPrograms",W),options:v_}),s.jsx(oe,{label:"",value:((le=n.legacyData)==null?void 0:le.progression)||"",onChange:W=>j("progression",W),options:N_})]})]}),s.jsx(oe,{label:"",value:((ie=n.legacyData)==null?void 0:ie.duties)||"",onChange:W=>j("duties",W),options:__})]})]}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:" ",value:((A=n.legacyData)==null?void 0:A.informationValue)||"",onChange:W=>j("informationValue",W),options:w_}),s.jsx(oe,{label:"  ",value:((Q=n.legacyData)==null?void 0:Q.lessonExecution)||"",onChange:W=>j("lessonExecution",W),options:S_}),s.jsx(oe,{label:"   ",value:((ce=n.legacyData)==null?void 0:ce.objectivesAchieved)||"",onChange:W=>j("objectivesAchieved",W),options:j_}),s.jsx(oe,{label:" ",value:((fe=n.legacyData)==null?void 0:fe.studentParticipation)||"",onChange:W=>j("studentParticipation",W),options:T_})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:""}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:"    ",value:((me=n.legacyData)==null?void 0:me.applications)||"",onChange:W=>j("applications",W),options:E_}),s.jsx(oe,{label:"  ",value:((ye=n.legacyData)==null?void 0:ye.applicationsSuitability)||"",onChange:W=>j("applicationsSuitability",W),options:C_})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:"",value:((Te=n.legacyData)==null?void 0:Te.boardWork)||"",onChange:W=>j("boardWork",W),options:p_}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded border text-sm text-gray-600 font-bold flex justify-between items-center",children:[s.jsx("span",{children:":"}),s.jsx("span",{children:""})]}),s.jsx(oe,{label:" ",value:((Qe=n.legacyData)==null?void 0:Qe.otherAids)||"",onChange:W=>j("otherAids",W),options:g_})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:"    ",value:((De=n.legacyData)==null?void 0:De.notebooksMonitored)||"",onChange:W=>j("notebooksMonitored",W),options:y_}),s.jsx(oe,{label:"   ",value:((_t=n.legacyData)==null?void 0:_t.notebooksCare)||"",onChange:W=>j("notebooksCare",W),options:A_})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{label:"   ",value:((wt=n.legacyData)==null?void 0:wt.homeworkValue)||"",onChange:W=>j("homeworkValue",W),options:k_}),s.jsx(oe,{label:"  ",value:((Vn=n.legacyData)==null?void 0:Vn.homeworkCorrection)||"",onChange:W=>j("homeworkCorrection",W),options:M_}),s.jsx(oe,{label:" ",value:((Ns=n.legacyData)==null?void 0:Ns.homeworkValue)||"",onChange:W=>j("homeworkValue",W),options:["","",""]})]})]})]})]}),x==="evaluation"&&s.jsx("div",{className:"space-y-6 animate-in fade-in",children:s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 mb-4",children:" "}),s.jsxs("div",{className:"mb-6 relative",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"1.    ( )"}),s.jsx(dn,{value:n.generalAssessment,onChange:W=>w("generalAssessment",W),className:"w-full border rounded-lg p-4 leading-relaxed bg-gray-50 text-sm",minHeight:"min-h-[200px]",placeholder:"    ..."}),s.jsxs("button",{onClick:U,disabled:b,className:"absolute bottom-4 left-14 text-xs bg-gray-900 text-white px-3 py-1.5 rounded hover:bg-black transition-colors shadow-md flex items-center gap-2",children:[b?s.jsx(xu,{className:"animate-spin",size:12}):s.jsx(Zg,{size:12}),""]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"2.   (    )"}),s.jsx(dn,{value:((Rt=n.legacyData)==null?void 0:Rt.generalAppreciation)||"",onChange:W=>j("generalAppreciation",W),className:"w-full border rounded-lg p-4 leading-relaxed bg-white text-sm",minHeight:"min-h-[100px]",placeholder:"    ..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  (/20)"}),s.jsx("input",{type:"number",step:"0.25",max:"20",className:"w-full border p-2 rounded text-2xl font-bold text-center",value:n.finalMark,onChange:W=>w("finalMark",parseFloat(W.target.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx(oe,{value:n.markInLetters,onChange:W=>w("markInLetters",W),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx(oe,{type:"date",value:n.inspectionDate,onChange:W=>w("inspectionDate",W)})]})]})]})})]})]})},yC=({report:n,teacher:e,signature:i})=>{const a=()=>{document.title=`_${e.fullName.replace(/\s/g,"_")}_${n.inspectionDate}`,window.print()},o=Array.from(new Set(n.observations.map(x=>x.category))),d=o.slice(0,4),f=o.slice(4),m=x=>{const p=x.length;return p>90?"text-[9px] leading-tight tracking-tighter":p>60?"text-[10px] leading-tight":"text-[11px] leading-normal"};return s.jsxs("div",{className:"font-serif text-black leading-normal relative",dir:"rtl",children:[s.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:s.jsxs("button",{onClick:a,className:"bg-red-600 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-red-700 transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[s.jsx(Wr,{size:24}),s.jsx("span",{className:"text-lg",children:"  PDF / "})]})}),s.jsxs("div",{className:"a4-page",children:[s.jsxs("div",{className:"text-center mb-1 shrink-0",children:[s.jsx("h3",{className:"text-sm font-bold",children:"   "}),s.jsx("h3",{className:"text-sm font-bold mb-1",children:"  "}),s.jsxs("div",{className:"flex justify-between items-start px-2 mb-1 text-[11px] font-bold",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{children:["  : ",n.wilaya]}),s.jsxs("p",{children:[": ",n.district]})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{children:"   "}),s.jsxs("p",{children:[": ",n.school]})]})]}),s.jsx("div",{className:"flex justify-center my-1",children:s.jsx("h1",{className:"text-lg font-bold border-2 border-black px-8 py-1 rounded bg-gray-50 shadow-[2px_2px_0px_0px_#000]",children:"     "})})]}),s.jsxs("div",{className:"mb-4 border border-black shrink-0",children:[s.jsx("div",{className:"border-b border-black bg-gray-200 px-2 py-0.5 font-bold text-[11px] text-center",children:"1 -  "}),s.jsx("div",{className:"p-0.5",children:s.jsx("table",{className:"w-full text-[10px] border-collapse",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"w-1/2 align-top border-l border-black p-0.5",children:s.jsx("table",{className:"w-full",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold w-20",children:" :"}),s.jsx("td",{children:e.fullName})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:" :"}),s.jsx("td",{dir:"ltr",className:"text-right",children:e.birthDate})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:":"}),s.jsx("td",{children:e.degree})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:" :"}),s.jsx("td",{dir:"ltr",className:"text-right",children:e.recruitmentDate})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:":"}),s.jsx("td",{children:e.rank})]})]})})}),s.jsx("td",{className:"w-1/2 align-top p-0.5",children:s.jsx("table",{className:"w-full",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold w-24",children:":"}),s.jsx("td",{children:e.status==="titulaire"?"":""})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:":"}),s.jsxs("td",{children:[e.echelon||"-"," (: ",e.echelonDate,")"]})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:"  :"}),s.jsx("td",{dir:"ltr",className:"text-right",children:e.currentRankDate})]}),s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"font-bold",children:" :"}),s.jsxs("td",{children:[e.lastInspectionDate," (",e.lastMark,")"]})]})]})})})]})})})}),s.jsx("div",{className:"border-t border-black bg-gray-200 px-2 py-0.5 font-bold text-[11px] text-center",children:"  "}),s.jsxs("table",{className:"w-full text-[10px] border-collapse text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-black h-4",children:[s.jsx("th",{className:"border-l border-black p-0.5",children:""}),s.jsx("th",{className:"border-l border-black p-0.5",children:""}),s.jsx("th",{className:"border-l border-black p-0.5",children:""}),s.jsx("th",{className:"border-l border-black p-0.5",children:""}),s.jsx("th",{className:"p-0.5",children:" (/)"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{className:"h-4",children:[s.jsx("td",{className:"border-l border-black p-0.5",children:n.subject}),s.jsx("td",{className:"border-l border-black p-0.5",children:n.topic}),s.jsxs("td",{className:"border-l border-black p-0.5",children:[n.level," / ",n.group]}),s.jsx("td",{className:"border-l border-black p-0.5",children:n.duration}),s.jsxs("td",{className:"p-0.5",children:[n.studentCount," / ",n.absentCount]})]})})]})]}),s.jsxs("div",{className:"flex-1 border border-black overflow-hidden flex flex-col mb-2",children:[s.jsx("div",{className:"bg-gray-200 font-bold text-[12px] px-2 py-1 border-b border-black flex justify-between items-center shrink-0",children:s.jsx("span",{className:"underline",children:"2 -    ( ):"})}),s.jsxs("table",{className:"w-full border-collapse text-[10px] table-fixed flex-1",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 h-6 border-b border-black",children:[s.jsx("th",{className:"border-l border-black p-0.5 w-[12%] text-center",children:""}),s.jsx("th",{className:"border-l border-black p-0.5 w-[35%] text-center",children:" "}),s.jsx("th",{className:"border-l border-black p-0.5 w-[5%] text-center",children:""}),s.jsx("th",{className:"p-0.5 w-[48%] text-center",children:" "})]})}),s.jsx("tbody",{children:d.map((x,p)=>{const b=n.observations.filter(v=>v.category===x);return s.jsxs(aa.Fragment,{children:[s.jsx("tr",{className:"bg-gray-100 border-b border-black h-5",children:s.jsxs("td",{colSpan:4,className:"px-2 py-0.5 font-bold text-center text-[10px]",children:[p+1,". ",x]})}),b.map(v=>s.jsxs("tr",{className:"border-b border-black last:border-b-0 h-auto",children:[s.jsx("td",{className:"border-l border-black px-1 py-0.5 font-bold align-middle text-center break-words",children:v.criteria}),s.jsx("td",{className:"border-l border-black px-1 py-0.5 align-middle leading-tight text-[9px] text-justify",children:v.indicators.join(" ")}),s.jsx("td",{className:"border-l border-black p-0.5 text-center align-middle font-bold text-[11px]",children:v.score===2?"2":v.score===1?"1":v.score===0?"0":""}),s.jsx("td",{className:`px-1 py-0.5 align-middle font-bold text-red-800 whitespace-pre-wrap ${m(v.improvementNotes)}`,children:v.improvementNotes})]},v.id))]},x)})})]})]}),s.jsx("div",{className:"text-center text-[10px] text-gray-500 font-bold",children:"1 / 2"})]}),s.jsxs("div",{className:"a4-page",children:[s.jsxs("div",{className:"border border-black mb-2 shrink-0",children:[s.jsx("div",{className:"bg-gray-200 font-bold text-[12px] px-2 py-1 border-b border-black flex justify-between items-center",children:s.jsx("span",{className:"underline",children:"    ( ):"})}),s.jsxs("table",{className:"w-full border-collapse text-[10px] table-fixed",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 h-6 border-b border-black",children:[s.jsx("th",{className:"border-l border-black p-0.5 w-[12%] text-center",children:""}),s.jsx("th",{className:"border-l border-black p-0.5 w-[35%] text-center",children:" "}),s.jsx("th",{className:"border-l border-black p-0.5 w-[5%] text-center",children:""}),s.jsx("th",{className:"p-0.5 w-[48%] text-center",children:" "})]})}),s.jsx("tbody",{children:f.map((x,p)=>{const b=n.observations.filter(v=>v.category===x);return s.jsxs(aa.Fragment,{children:[s.jsx("tr",{className:"bg-gray-100 border-b border-black h-5",children:s.jsxs("td",{colSpan:4,className:"px-2 py-0.5 font-bold text-center text-[10px]",children:[p+5,". ",x]})}),b.map(v=>s.jsxs("tr",{className:"border-b border-black last:border-b-0 h-auto",children:[s.jsx("td",{className:"border-l border-black px-1 py-0.5 font-bold align-middle text-center break-words",children:v.criteria}),s.jsx("td",{className:"border-l border-black px-1 py-0.5 align-middle leading-tight text-[9px] text-justify",children:v.indicators.join(" ")}),s.jsx("td",{className:"border-l border-black p-0.5 text-center align-middle font-bold text-[11px]",children:v.score===2?"2":v.score===1?"1":v.score===0?"0":""}),s.jsx("td",{className:`px-1 py-0.5 align-middle font-bold text-red-800 whitespace-pre-wrap ${m(v.improvementNotes)}`,children:v.improvementNotes})]},v.id))]},x)})})]}),s.jsx("div",{className:"text-[9px] text-center bg-gray-50 border-t border-black py-0.5 text-gray-600 font-bold",children:" : (2: ) - (1:  ) - (0:  )"})]}),s.jsxs("div",{className:"flex-1 flex flex-col border-2 border-black rounded-sm overflow-hidden",children:[s.jsx("div",{className:"text-center bg-gray-100 border-b-2 border-black py-1",children:s.jsx("h2",{className:"text-[14px] font-bold",children:" "})}),s.jsx("div",{className:"p-4 flex-1 text-justify text-[13px] leading-[1.8] whitespace-pre-line overflow-hidden",children:n.generalAssessment}),s.jsxs("div",{className:"flex border-t-2 border-black h-[45mm] shrink-0",children:[s.jsxs("div",{className:"w-2/3 border-l-2 border-black p-3 flex flex-col justify-center gap-2 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-[12px]",children:" :"}),s.jsx("span",{className:"flex-1 border-b border-dotted border-black font-bold text-sm px-2 text-center",children:n.markInLetters})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsx("span",{className:"font-bold text-[12px]",children:" :"}),s.jsxs("span",{className:"text-xl font-bold border-2 border-black px-6 py-0.5 rounded bg-white",children:[n.finalMark," / 20"]})]})]}),s.jsxs("div",{className:"w-1/3 p-2 text-center relative flex flex-col items-center justify-start pt-1",children:[s.jsxs("p",{className:"text-[10px] font-bold mb-0.5",children:[" : ",n.wilaya," : ",n.inspectionDate]}),s.jsx("p",{className:"font-bold underline text-[12px] mb-1",children:" "}),s.jsx("p",{className:"text-[12px] font-bold mb-2",children:n.inspectorName}),i?s.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 w-56 h-32 flex items-center justify-center pointer-events-none z-10",children:s.jsx("img",{src:i,alt:"Signature",className:"w-full h-full mix-blend-multiply object-contain transform -rotate-2 scale-125"})}):s.jsx("div",{className:"mt-2 text-[8px] text-gray-300 border border-dashed border-gray-300 w-16 h-16 rounded-full flex items-center justify-center rotate-[-15deg]",children:""})]})]})]}),s.jsxs("div",{className:"mt-1 flex justify-between text-[9px] font-bold px-4 text-gray-500 shrink-0",children:[s.jsx("span",{children:" "}),s.jsx("span",{children:" "}),s.jsx("span",{children:" ()"}),s.jsx("span",{className:"text-black",children:"2 / 2"})]})]})]})},vC=({report:n,teacher:e,signature:i})=>{const a=()=>{document.title=`__${e.fullName}`,window.print()},o=x=>n.lessons[x]||{subject:"",topic:"",level:"",timeStart:"",timeEnd:"",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},f=typeof n.oralQuestions=="string"?{educationScience:n.oralQuestions,psychology:"",legislation:""}:n.oralQuestions||{educationScience:"",psychology:"",legislation:""},m=e.degree&&(e.degree.includes(" ")||e.degree.includes("ENS"));return s.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[s.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:s.jsxs("button",{onClick:a,className:"bg-gray-800 text-white px-6 py-3 rounded-full shadow-xl hover:bg-black transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[s.jsx(Wr,{size:20}),s.jsx("span",{children:"  PDF"})]})}),s.jsxs("div",{className:"a4-page relative p-8 flex flex-col justify-between h-[296mm]",style:{backgroundColor:"white"},children:[s.jsxs("div",{className:"text-center mb-4 space-y-1 shrink-0",children:[s.jsx("h3",{className:"text-sm font-bold",children:"   "}),s.jsx("h3",{className:"text-sm font-bold",children:"  "}),s.jsxs("div",{className:"flex justify-between items-start text-xs font-bold mt-2 px-2",children:[s.jsx("div",{className:"text-right",children:s.jsxs("p",{children:["   ",n.wilaya]})}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{children:["    / ",n.district]})})]}),s.jsx("div",{className:"flex justify-center mt-3 mb-4",children:s.jsx("div",{className:"border-[3px] border-black border-double px-10 py-2 rounded-2xl bg-white text-center shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:s.jsxs("h1",{className:"text-lg font-bold",children:["  ",s.jsx("br",{}),s.jsx("span",{className:"font-normal text-sm",children:"    "})]})})})]}),s.jsxs("div",{className:"space-y-3 text-xs font-bold px-2 flex-1",children:[s.jsxs("div",{className:"border-b-2 border-black border-dotted pb-3 space-y-1.5",children:[s.jsx("p",{className:"mb-1",children:"     :   "}),s.jsxs("div",{className:"flex flex-wrap gap-x-12 gap-y-1",children:[s.jsxs("span",{children:[" : ",n.examDate]}),s.jsxs("span",{children:[" : ",n.school]}),s.jsxs("span",{children:[" : ",n.city]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-1 pt-1",children:[s.jsxs("span",{children:["  : ",n.inspectorName]}),s.jsxs("span",{children:["   :  ",n.district]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"min-w-[150px]",children:[" (): ",n.directorName]}),s.jsx("span",{children:"(  )"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"min-w-[150px]",children:[" (): ",n.teacherMemberName]}),s.jsx("span",{children:"(  )"})]})]}),s.jsxs("div",{className:"space-y-2 pt-1",children:[s.jsx("p",{className:"underline decoration-1 underline-offset-4 mb-2",children:"     :   "}),s.jsxs("div",{className:"flex flex-wrap gap-x-16 gap-y-1 items-center",children:[s.jsxs("span",{className:"min-w-[250px]",children:["() : ",e.fullName]}),s.jsx("span",{children:"  : /"})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-16 gap-y-1 items-center",children:[s.jsxs("span",{className:"min-w-[250px]",children:["()  : ",e.birthPlace]}),s.jsxs("span",{children:[" : ",e.birthDate]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("span",{className:"flex-1",children:["()  : ",e.recruitmentDate]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1",children:[s.jsxs("span",{children:["    : ",n.appointmentDecisionNumber]}),s.jsxs("span",{children:[" : ",n.appointmentDecisionDate]}),s.jsxs("span",{children:["    : ",n.financialVisaNumber]}),s.jsxs("span",{children:[" : ",n.financialVisaDate]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-1 items-center",children:[s.jsxs("span",{children:["()   : ",e.degree]}),s.jsxs("span",{children:[" : ",n.university]}),s.jsxs("span",{children:[" : ",e.degreeDate]})]}),!m&&s.jsxs("p",{children:[" ",n.recruitmentType||"  ","  : ",n.contestDate]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("p",{className:"underline mb-1 text-center",children:"    "}),s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-1 w-1/3",children:" "}),s.jsx("th",{className:"border border-black p-1 w-1/3",children:" "}),s.jsx("th",{className:"border border-black p-1 w-1/3",children:" "})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsxs("td",{className:"border border-black p-1 align-top h-16",children:[s.jsx("p",{className:"font-bold mb-1",children:o(0).subject}),s.jsx("p",{className:"mb-1",children:o(0).topic}),s.jsx("p",{children:o(0).level}),s.jsxs("p",{className:"text-[10px] mt-1",children:[o(0).timeStart," - ",o(0).timeEnd]})]}),s.jsxs("td",{className:"border border-black p-1 align-top",children:[s.jsx("p",{className:"font-bold mb-1",children:o(1).subject}),s.jsx("p",{className:"mb-1",children:o(1).topic}),s.jsx("p",{children:o(1).level}),s.jsxs("p",{className:"text-[10px] mt-1",children:[o(1).timeStart," - ",o(1).timeEnd]})]}),s.jsxs("td",{className:"border border-black p-1 align-top",children:[s.jsx("p",{className:"font-bold mb-1",children:o(2).subject}),s.jsx("p",{className:"mb-1",children:o(2).topic}),s.jsx("p",{children:o(2).level}),s.jsxs("p",{className:"text-[10px] mt-1",children:[o(2).timeStart," - ",o(2).timeEnd]})]})]}),s.jsx("tr",{children:s.jsxs("td",{colSpan:3,className:"border border-black p-1 font-bold bg-gray-50",children:["      : ",n.pedagogyMark,"  40"]})})]})]})]}),s.jsxs("div",{className:"pt-2 border-t-2 border-black border-dashed mt-2",children:[s.jsx("p",{className:"underline mb-1",children:"  :"}),s.jsxs("div",{className:"grid grid-cols-1 gap-1 pl-4 text-[11px]",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"font-bold w-24 shrink-0",children:"  :"}),s.jsx("span",{className:"font-normal",children:f.educationScience})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"font-bold w-24 shrink-0",children:"  :"}),s.jsx("span",{className:"font-normal",children:f.psychology})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"font-bold w-24 shrink-0",children:" :"}),s.jsx("span",{className:"font-normal",children:f.legislation})]})]}),s.jsxs("p",{className:"text-left font-bold mt-1 pl-2 border-t border-black inline-block pt-1",children:["   : ",n.oralMark,"  20"]})]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t-[3px] border-double border-black text-xs shrink-0 pb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold",children:"  :"}),s.jsx("span",{className:"border-2 border-black px-6 py-1 font-bold text-sm bg-gray-100",children:n.finalDecision==="confirmed"?" ()":n.finalDecision==="deferred"?"":""})]}),s.jsxs("div",{className:"border border-black p-1 px-3 text-center rounded",children:[s.jsx("p",{className:"font-bold",children:" "}),s.jsxs("p",{className:"text-lg font-bold",children:[n.totalMark," / 60"]})]})]}),s.jsxs("div",{className:"flex justify-between items-start px-4 mt-2 text-[11px] font-bold",children:[s.jsxs("div",{className:"text-center w-1/3",children:[s.jsx("p",{className:"mb-2 underline",children:" "}),s.jsx("p",{className:"mb-1",children:n.directorName}),s.jsx("p",{children:n.teacherMemberName})]}),s.jsxs("div",{className:"text-center w-1/3",children:[s.jsx("p",{className:"mb-2 underline",children:"  "}),s.jsx("div",{className:"h-12 flex items-center justify-center mb-1",children:i?s.jsx("img",{src:i,alt:"Sig",className:"w-20 h-12 object-contain mix-blend-multiply"}):" "}),s.jsx("p",{children:n.inspectorName})]})]})]})]}),s.jsxs("div",{className:"a4-page relative p-10 flex flex-col",style:{backgroundColor:"white"},children:[s.jsx("div",{className:"flex justify-center mb-10",children:s.jsx("div",{className:"border-[3px] border-black px-12 py-2 rounded-xl text-center shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white",children:s.jsx("h2",{className:"font-bold text-xl tracking-widest",children:" "})})}),s.jsx("div",{className:"flex-1 space-y-10 text-[12px] font-bold text-right pr-2",children:[0,1,2].map(x=>{const p=o(x);return s.jsxs("div",{className:"relative pl-4 border-r-4 border-gray-200 pr-4",children:[s.jsxs("h4",{className:"mb-3 text-sm border-b border-black inline-block pb-1",children:[" ",x===0?"":x===1?"":""," : ",s.jsx("span",{className:"font-normal mx-2",children:p.subject})]}),s.jsxs("ul",{className:"list-none space-y-3 leading-relaxed",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),s.jsx("span",{className:"font-normal text-justify",children:p.phaseLaunch||"..................................................."})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),s.jsx("span",{className:"font-normal text-justify",children:p.phaseConstruction||"..................................................."})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),s.jsx("span",{className:"font-normal text-justify",children:p.phaseInvestment||"..................................................."})]})]})]},x)})}),s.jsxs("div",{className:"mt-auto pt-10",children:[s.jsxs("p",{className:"text-[12px] font-bold text-justify mb-8 leading-loose px-2 border-t border-black pt-4",children:["          : ",s.jsx("span",{className:"underline decoration-dotted underline-offset-4 mx-1",children:" ()     "})]}),s.jsxs("div",{className:"flex justify-between items-end px-8 pb-8",children:[s.jsx("div",{className:"w-1/2"}),s.jsxs("div",{className:"w-1/2 text-center text-[12px] font-bold relative",children:[s.jsxs("p",{className:"mb-4",children:[" : ",n.examDate]}),s.jsx("p",{className:"mb-8",children:"   :"}),s.jsx("p",{className:"mb-6 text-sm",children:n.inspectorName}),s.jsxs("div",{className:"h-24 flex items-center justify-center relative",children:[s.jsx("p",{className:"absolute -top-4 right-10 text-gray-400 text-[10px]",children:""}),i&&s.jsx("img",{src:i,alt:"Signature",className:"w-40 h-24 mix-blend-multiply object-contain transform -rotate-2"})]})]})]})]})]})]})},NC=({report:n,teacher:e,signature:i})=>{var o,d,f,m,x,p,b,v,N,w,j,E,U,J,q,B,F,ae,de,T,O,I,k,R,ee,Z,L,K,C,$,G,le,ie,A;const a=()=>{document.title=`__${e.fullName.replace(/\s/g,"_")}_${n.inspectionDate}`,window.print()};return s.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[s.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:s.jsxs("button",{onClick:a,className:"bg-amber-600 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-amber-700 transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[s.jsx(Wr,{size:24}),s.jsx("span",{className:"text-lg",children:"  PDF / "})]})}),s.jsxs("div",{className:"a4-page relative flex flex-col p-0",style:{padding:"10mm 15mm"},children:[s.jsxs("div",{className:"flex justify-between items-start text-[11px] font-bold mb-2 relative shrink-0",children:[s.jsxs("div",{className:"text-right flex flex-col items-start w-1/3 space-y-1",children:[s.jsx("h3",{className:"text-[12px] font-bold text-center w-[200%] -mr-[50%] mb-3",children:"   "}),s.jsx("p",{children:"  "}),s.jsxs("p",{children:["  : ",n.wilaya]}),s.jsx("p",{children:"   "}),s.jsxs("p",{children:[": ",n.district]})]}),s.jsxs("div",{className:"text-right w-1/3 pt-8 space-y-1",children:[s.jsxs("p",{children:[": ",n.school]}),s.jsxs("p",{children:[": ",(o=n.legacyData)==null?void 0:o.municipality]}),s.jsxs("p",{children:[": ",(d=n.legacyData)==null?void 0:d.daira]}),s.jsxs("p",{children:[" : ",(f=n.legacyData)==null?void 0:f.schoolYear]})]})]}),s.jsx("div",{className:"flex justify-center mb-3 shrink-0",children:s.jsx("div",{className:"border-[3px] border-black px-8 py-1.5 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white",children:s.jsx("h1",{className:"text-xl font-bold",children:"    "})})}),s.jsxs("div",{className:"border-[3px] border-black p-2 mb-1 shrink-0 text-[12px]",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-20",children:"  :"}),s.jsx("span",{className:"font-normal flex-[2]",children:e.fullName}),s.jsx("span",{className:"font-bold ml-2 w-16 text-center",children:"():"}),s.jsx("span",{className:"font-normal flex-1 text-center",children:"/"}),s.jsx("span",{className:"font-bold ml-2 w-14",children:":"}),s.jsx("span",{className:"font-normal flex-1",children:(m=n.legacyData)==null?void 0:m.familyStatus})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-28",children:"  :"}),s.jsx("span",{className:"font-normal flex-1 text-right",dir:"ltr",children:e.birthDate}),s.jsx("span",{className:"font-bold px-2",children:":"}),s.jsx("span",{className:"font-normal flex-[2]",children:e.birthPlace})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-24",children:"  :"}),s.jsx("span",{className:"font-normal w-32 text-right",dir:"ltr",children:e.recruitmentDate}),s.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),s.jsx("span",{className:"font-normal flex-1",children:e.rank})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-24",children:":"}),s.jsx("span",{className:"font-normal w-32",children:e.echelon}),s.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),s.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:e.echelonDate})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),s.jsx("span",{className:"font-normal w-32",children:e.degree}),s.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),s.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:e.degreeDate||((x=n.legacyData)==null?void 0:x.graduationDate)})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),s.jsx("span",{className:"font-normal w-32",children:(p=n.legacyData)==null?void 0:p.trainingInstitute}),s.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),s.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:(b=n.legacyData)==null?void 0:b.trainingDate})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),s.jsx("span",{className:"font-normal w-32 text-right",dir:"ltr",children:e.lastInspectionDate}),s.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),s.jsx("span",{className:"font-normal flex-1",children:e.lastMark})]})]}),s.jsxs("div",{className:"border-[3px] border-t-0 border-black flex flex-1 h-full min-h-0 text-[11px]",children:[s.jsxs("div",{className:"w-[48%] border-l-[3px] border-black p-2 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),s.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[s.jsxs("span",{children:["  : ",s.jsx("span",{className:"font-normal",children:n.inspectionDate})]}),s.jsxs("span",{children:[": ",s.jsx("span",{className:"font-normal",children:n.duration})]})]}),s.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[s.jsxs("span",{children:[" : ",s.jsx("span",{className:"font-normal",children:n.level})]}),s.jsxs("span",{children:[" : ",s.jsx("span",{className:"font-normal",children:n.studentCount})]})]}),s.jsxs("div",{className:"font-bold mb-1.5",children:["       ",s.jsx("span",{className:"font-normal",children:(v=n.legacyData)==null?void 0:v.classroomListening})]}),s.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[s.jsxs("span",{children:["  ",s.jsx("span",{className:"font-normal",children:(N=n.legacyData)==null?void 0:N.lighting})]}),s.jsxs("span",{children:["  ",s.jsx("span",{className:"font-normal",children:(w=n.legacyData)==null?void 0:w.cleanliness})]})]}),s.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[s.jsxs("span",{children:["  ",s.jsx("span",{className:"font-normal",children:(j=n.legacyData)==null?void 0:j.heating})]}),s.jsxs("span",{children:[" ",s.jsx("span",{className:"font-normal",children:(E=n.legacyData)==null?void 0:E.ventilation})]})]})]}),s.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),s.jsxs("div",{className:"font-bold mb-1.5",children:["  : ",s.jsx("span",{className:"font-normal",children:n.subject})]}),s.jsxs("div",{className:"font-bold mb-1.5",children:[" : ",s.jsx("span",{className:"font-normal",children:n.topic})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-bold underline mt-1",children:"   :"}),s.jsx("div",{className:"min-h-[1.5em] leading-tight font-normal",children:(U=n.legacyData)==null?void 0:U.documentsAndPosters})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"font-bold underline",children:"  :"}),s.jsx("span",{className:"font-normal",children:(J=n.legacyData)==null?void 0:J.lessonPreparation})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"font-bold underline",children:"  :"}),s.jsx("span",{className:"font-normal",children:(q=n.legacyData)==null?void 0:q.preparationValue})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"font-bold underline",children:" :"}),s.jsx("span",{className:"font-normal",children:(B=n.legacyData)==null?void 0:B.registers})]}),s.jsx("div",{className:"font-bold mt-1",children:"      "}),s.jsx("div",{className:"font-normal mr-4",children:(F=n.legacyData)==null?void 0:F.registersUsed}),s.jsx("div",{className:"font-bold mt-1",children:"     :"}),s.jsxs("div",{className:"flex justify-between pr-4 mt-1 font-bold",children:[s.jsxs("span",{children:["  ",s.jsx("span",{className:"font-normal",children:(ae=n.legacyData)==null?void 0:ae.scheduledPrograms})]}),s.jsxs("span",{children:["  ",s.jsx("span",{className:"font-normal",children:(de=n.legacyData)==null?void 0:de.progression})]})]}),s.jsxs("div",{className:"font-bold mt-2",children:[": ",s.jsx("span",{className:"font-normal",children:(T=n.legacyData)==null?void 0:T.duties})]})]})]}),s.jsxs("div",{className:"w-[52%] p-2 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),s.jsxs("div",{className:"font-bold mb-2",children:[" :",s.jsx("div",{className:"font-normal mt-0.5 min-h-[16px]",children:(O=n.legacyData)==null?void 0:O.informationValue})]}),s.jsxs("div",{className:"font-bold mb-2",children:["    ",s.jsx("span",{className:"font-normal",children:(I=n.legacyData)==null?void 0:I.lessonExecution})]}),s.jsxs("div",{className:"font-bold mb-2",children:["     ",s.jsx("span",{className:"font-normal",children:(k=n.legacyData)==null?void 0:k.objectivesAchieved})]}),s.jsxs("div",{className:"font-bold mb-2 mt-2",children:[s.jsx("span",{className:"underline",children:" :"}),s.jsx("div",{className:"font-normal mt-0.5",children:(R=n.legacyData)==null?void 0:R.studentParticipation})]})]}),s.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:""}),s.jsxs("div",{className:"font-bold mb-2",children:["      ",s.jsx("span",{className:"font-normal",children:(ee=n.legacyData)==null?void 0:ee.applications})]}),s.jsxs("div",{className:"font-bold mb-2",children:["    ",s.jsx("span",{className:"font-normal",children:(Z=n.legacyData)==null?void 0:Z.applicationsSuitability})]})]}),s.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),s.jsxs("div",{className:"font-bold mb-2",children:[": ",s.jsx("span",{className:"font-normal",children:(L=n.legacyData)==null?void 0:L.boardWork})]}),s.jsxs("div",{className:"font-bold mb-2",children:[": ",s.jsx("span",{className:"font-normal",children:""})]}),s.jsxs("div",{className:"font-bold mb-2",children:[" : ",s.jsx("span",{className:"font-normal",children:(K=n.legacyData)==null?void 0:K.otherAids})]})]}),s.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),s.jsxs("div",{className:"font-bold mb-2",children:["      ",s.jsx("span",{className:"font-normal",children:(C=n.legacyData)==null?void 0:C.notebooksMonitored})]}),s.jsxs("div",{className:"font-bold mb-2",children:["     ",s.jsx("span",{className:"font-normal",children:($=n.legacyData)==null?void 0:$.notebooksCare})]})]}),s.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),s.jsxs("div",{className:"font-bold mb-2",children:["     ",s.jsx("span",{className:"font-normal",children:(G=n.legacyData)==null?void 0:G.homeworkValue})]}),s.jsxs("div",{className:"font-bold mb-2",children:["    ",s.jsx("span",{className:"font-normal",children:(le=n.legacyData)==null?void 0:le.homeworkCorrection})]}),s.jsxs("div",{className:"font-bold mb-2",children:["  : ",s.jsx("span",{className:"font-normal",children:(ie=n.legacyData)==null?void 0:ie.homeworkValue})]})]})]})]}),s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 text-[10px] font-bold",children:"2 / 1"})]}),s.jsxs("div",{className:"a4-page flex flex-col",children:[s.jsxs("div",{className:"border-[3px] border-black flex-1 flex flex-col min-h-[140mm]",children:[s.jsx("div",{className:"text-center font-bold py-1 border-b-[3px] border-black bg-gray-100 text-[13px]",children:"   (    )"}),s.jsx("div",{className:"p-4 text-[13px] leading-loose whitespace-pre-line text-justify flex-1 overflow-hidden",children:n.generalAssessment})]}),s.jsxs("div",{className:"border-[3px] border-t-0 border-black h-[70mm] flex flex-col shrink-0",children:[s.jsx("div",{className:"text-center font-bold py-1 border-b-[3px] border-black bg-gray-100 text-[13px]",children:"          ()"}),s.jsx("div",{className:"p-4 text-[13px] leading-loose whitespace-pre-line text-justify flex-1 overflow-hidden",children:(A=n.legacyData)==null?void 0:A.generalAppreciation})]}),s.jsxs("div",{className:"border-[3px] border-t-0 border-black flex h-[45mm] shrink-0",children:[s.jsxs("div",{className:"w-1/2 border-l-[3px] border-black p-2 font-bold text-[13px] flex flex-col justify-center space-y-3 bg-gray-50",children:[s.jsxs("p",{children:[" : ",s.jsx("span",{className:"underline",children:n.markInLetters})]}),s.jsxs("p",{children:[" : ",s.jsx("span",{className:"text-xl border-2 border-black px-4 py-0.5 bg-white",children:n.finalMark})," / 20"]}),s.jsx("p",{className:"text-[10px] mt-1 text-center",children:"   ()  : ...................."}),s.jsx("p",{className:"text-center text-[10px]",children:""})]}),s.jsxs("div",{className:"w-1/2 p-2 font-bold text-[13px] relative flex flex-col items-center",children:[s.jsx("p",{className:"text-[12px] w-full text-right",children:"     "}),s.jsxs("div",{className:"flex justify-between mt-2 px-1 w-full text-[11px]",children:[s.jsxs("p",{children:[": ",n.inspectorName]}),s.jsxs("p",{children:[": ",n.inspectionDate]})]}),s.jsx("div",{className:"text-center mt-auto mb-2 relative w-full h-24 flex justify-center",children:i?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center -top-4",children:s.jsx("img",{src:i,alt:"Signature",className:"max-w-full max-h-full mix-blend-multiply object-contain w-48 h-32"})}):s.jsx("div",{className:"mt-4 text-[8px] text-gray-300 border border-dashed border-gray-300 w-16 h-16 rounded-full flex items-center justify-center rotate-[-15deg]",children:""})})]})]}),s.jsx("div",{className:"text-center text-[10px] text-gray-500 font-bold mt-1",children:"2 / 2"})]})]})},Mx=({report:n})=>{const e=()=>{document.title=`__${n.term}_${n.schoolYear.replace("/","-")}`,window.print()},i=Object.values(n.days).reduce((m,x)=>m+x,0)||1,a=Object.values(n.ranks).reduce((m,x)=>m+x,0)||1,o=Object.values(n.levels).reduce((m,x)=>m+x,0)||1,d=Object.values(n.subjects).reduce((m,x)=>m+x,0)||1,f=(m,x)=>m===0?"":(m/x*100).toFixed(1)+"%";return s.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[s.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:s.jsxs("button",{onClick:e,className:"bg-purple-800 text-white px-6 py-3 rounded-full shadow-xl hover:bg-black transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[s.jsx(Wr,{size:20}),s.jsx("span",{children:"  PDF"})]})}),s.jsxs("div",{className:"a4-page relative p-8 flex flex-col h-[296mm]",style:{backgroundColor:"white"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-6 text-sm font-bold",children:[s.jsxs("div",{className:"text-right w-1/3",children:[s.jsx("p",{children:"   "}),s.jsx("p",{children:"  "}),s.jsx("p",{children:"  "})]}),s.jsxs("div",{className:"text-left w-1/3",children:[s.jsxs("p",{children:["   ",n.wilaya]}),s.jsxs("p",{children:[": ",n.district]})]})]}),s.jsx("div",{className:"text-center mb-6",children:s.jsxs("h1",{className:"text-xl font-bold border-b-2 border-black inline-block pb-1",children:["      ",n.term,"   : ",n.schoolYear]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsxs("thead",{children:[s.jsxs("tr",{children:[s.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50 w-[15%]",children:"  "}),s.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50",children:""}),s.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50",children:""}),s.jsx("th",{colSpan:3,className:"border border-black p-1 bg-gray-50",children:" "}),s.jsx("th",{colSpan:4,className:"border border-black p-1 bg-gray-50",children:""}),s.jsx("th",{colSpan:2,className:"border border-black p-1 bg-gray-50",children:"  ()"})]}),s.jsxs("tr",{children:[s.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:"   "}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:"   ()"}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:"  "}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:"  ( )"}),s.jsx("th",{className:"border border-black p-1 text-[10px]",children:""})]})]}),s.jsx("tbody",{children:s.jsxs("tr",{className:"h-12 font-bold",children:[s.jsx("td",{className:"border border-black p-1",children:n.inspectorName}),s.jsx("td",{className:"border border-black p-1",children:n.rank}),s.jsx("td",{className:"border border-black p-1",children:n.district}),s.jsx("td",{className:"border border-black p-1",children:n.teachersTotal}),s.jsx("td",{className:"border border-black p-1",children:n.teachersTrainee}),s.jsx("td",{className:"border border-black p-1",children:n.teachersTenure}),s.jsx("td",{className:"border border-black p-1",children:n.visitsInspection}),s.jsx("td",{className:"border border-black p-1",children:n.visitsTenure}),s.jsx("td",{className:"border border-black p-1",children:n.visitsTraining}),s.jsx("td",{className:"border border-black p-1",children:n.visitsTrainingBenefit}),s.jsx("td",{className:"border border-black p-1",children:n.tasksSupervision}),s.jsx("td",{className:"border border-black p-1",children:n.tasksInvestigations})]})})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*      "}),s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1 bg-gray-100",children:""})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),s.jsx("td",{className:"border border-black p-1",children:n.days.sun}),s.jsx("td",{className:"border border-black p-1",children:n.days.mon}),s.jsx("td",{className:"border border-black p-1",children:n.days.tue}),s.jsx("td",{className:"border border-black p-1",children:n.days.wed}),s.jsx("td",{className:"border border-black p-1",children:n.days.thu}),s.jsx("td",{className:"border border-black p-1 font-bold",children:i>1?i:0})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),s.jsx("td",{className:"border border-black p-1",children:f(n.days.sun,i)}),s.jsx("td",{className:"border border-black p-1",children:f(n.days.mon,i)}),s.jsx("td",{className:"border border-black p-1",children:f(n.days.tue,i)}),s.jsx("td",{className:"border border-black p-1",children:f(n.days.wed,i)}),s.jsx("td",{className:"border border-black p-1",children:f(n.days.thu,i)}),s.jsx("td",{className:"border border-black p-1 font-bold",children:"100%"})]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*      "}),s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:"  "}),s.jsx("th",{className:"border border-black p-1",children:"  "}),s.jsx("th",{className:"border border-black p-1",children:"  "}),s.jsx("th",{className:"border border-black p-1",children:" "}),s.jsx("th",{className:"border border-black p-1",children:"/"}),s.jsx("th",{className:"border border-black p-1 bg-gray-100",children:""})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.stagiere}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.primary}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.class1}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.class2}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.distinguished}),s.jsx("td",{className:"border border-black p-1",children:n.ranks.contract}),s.jsx("td",{className:"border border-black p-1 font-bold",children:a>1?a:0})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.stagiere,a)}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.primary,a)}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.class1,a)}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.class2,a)}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.distinguished,a)}),s.jsx("td",{className:"border border-black p-1",children:f(n.ranks.contract,a)}),s.jsx("td",{className:"border border-black p-1 font-bold",children:"100%"})]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*        "}),s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:" 01"}),s.jsx("th",{className:"border border-black p-1",children:" 02"}),s.jsx("th",{className:"border border-black p-1",children:" 03"}),s.jsx("th",{className:"border border-black p-1",children:" 04"}),s.jsx("th",{className:"border border-black p-1",children:" 05"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),s.jsx("td",{className:"border border-black p-1",children:n.levels.prep}),s.jsx("td",{className:"border border-black p-1",children:n.levels.year1}),s.jsx("td",{className:"border border-black p-1",children:n.levels.year2}),s.jsx("td",{className:"border border-black p-1",children:n.levels.year3}),s.jsx("td",{className:"border border-black p-1",children:n.levels.year4}),s.jsx("td",{className:"border border-black p-1",children:n.levels.year5})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.prep,o)}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.year1,o)}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.year2,o)}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.year3,o)}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.year4,o)}),s.jsx("td",{className:"border border-black p-1",children:f(n.levels.year5,o)})]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*    "}),s.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),s.jsx("th",{className:"border border-black p-1",children:" "}),s.jsx("th",{className:"border border-black p-1",children:""}),s.jsx("th",{className:"border border-black p-1",children:". "}),s.jsx("th",{className:"border border-black p-1",children:" "}),s.jsx("th",{className:"border border-black p-1",children:". "}),s.jsx("th",{className:"border border-black p-1",children:". "}),s.jsx("th",{className:"border border-black p-1",children:". "}),s.jsx("th",{className:"border border-black p-1",children:""})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.arabic}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.math}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.islamic}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.historyGeo}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.civics}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.science}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.music}),s.jsx("td",{className:"border border-black p-1",children:n.subjects.art})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:"%"}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.arabic,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.math,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.islamic,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.historyGeo,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.civics,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.science,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.music,d)}),s.jsx("td",{className:"border border-black p-1",children:f(n.subjects.art,d)})]})]})]})]}),s.jsxs("div",{className:"mt-8 flex justify-between px-10 text-sm font-bold",children:[s.jsx("div",{children:""}),s.jsx("div",{children:" "})]})]})]})},_C=({report:n,onChange:e,onPrint:i,teachers:a,reportsMap:o,tenureReportsMap:d})=>{const f=(N,w)=>{e({...n,[N]:w})},m=()=>{if(!n.startDate||!n.endDate){alert("      .");return}const N=new Date(n.startDate),w=new Date(n.endDate),j={visitsInspection:0,visitsTenure:0,days:{sun:0,mon:0,tue:0,wed:0,thu:0},ranks:{stagiere:0,primary:0,class1:0,class2:0,distinguished:0,contract:0},levels:{prep:0,year1:0,year2:0,year3:0,year4:0,year5:0},subjects:{arabic:0,math:0,islamic:0,historyGeo:0,civics:0,science:0,music:0,art:0}};Object.values(o).forEach(E=>{const U=new Date(E.inspectionDate);if(U>=N&&U<=w){j.visitsInspection++;const J=U.getDay();J===0?j.days.sun++:J===1?j.days.mon++:J===2?j.days.tue++:J===3?j.days.wed++:J===4&&j.days.thu++;const q=a.find(B=>B.id===E.teacherId);if(q){const B=q.status,F=q.rank;B==="stagiere"?j.ranks.stagiere++:B==="contractuel"?j.ranks.contract++:F.includes("")?j.ranks.distinguished++:F.includes("")?j.ranks.class2++:F.includes("")?j.ranks.class1++:j.ranks.primary++}E.level.includes("")?j.levels.prep++:E.level.includes("")?j.levels.year1++:E.level.includes("")?j.levels.year2++:E.level.includes("")?j.levels.year3++:E.level.includes("")?j.levels.year4++:E.level.includes("")&&j.levels.year5++,E.subject.includes("")?j.subjects.math++:E.subject.includes("")?j.subjects.islamic++:E.subject.includes("")?j.subjects.historyGeo++:E.subject.includes("")?j.subjects.civics++:E.subject.includes("")?j.subjects.science++:E.subject.includes("")?j.subjects.music++:E.subject.includes("")||E.subject.includes("")?j.subjects.art++:j.subjects.arabic}}),a.forEach(E=>{if(E.status==="stagiere"&&E.tenureDate){const U=new Date(E.tenureDate);U>=N&&U<=w&&j.visitsTenure++}}),e({...n,teachersTotal:a.length,teachersTrainee:a.filter(E=>E.status==="stagiere").length,...j}),alert("       .")},x=Object.values(n.days).reduce((N,w)=>N+w,0),p=Object.values(n.ranks).reduce((N,w)=>N+w,0),b=Object.values(n.levels).reduce((N,w)=>N+w,0),v=Object.values(n.subjects).reduce((N,w)=>N+w,0);return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"bg-purple-900 text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kl,{size:20}),s.jsx("h2",{className:"font-bold text-lg",children:"   "})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-white text-purple-900 px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm transition-all",children:[s.jsx(Wl,{size:18}),""]})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 p-6 rounded-xl shadow-sm flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-purple-800 font-bold text-lg whitespace-nowrap",children:[s.jsx(Og,{size:24}),s.jsx("span",{children:"  :"})]}),s.jsxs("div",{className:"flex items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-purple-700 mb-1",children:" :"}),s.jsx("input",{type:"date",value:n.startDate,onChange:N=>f("startDate",N.target.value),className:"w-full border border-purple-300 rounded p-2 text-sm"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-purple-700 mb-1",children:" :"}),s.jsx("input",{type:"date",value:n.endDate,onChange:N=>f("endDate",N.target.value),className:"w-full border border-purple-300 rounded p-2 text-sm"})]})]}),s.jsxs("button",{onClick:m,className:"bg-purple-700 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-purple-800 transition-transform active:scale-95 flex items-center gap-2 font-bold whitespace-nowrap",children:[s.jsx(gN,{size:18}),"  "]})]}),s.jsxs("div",{className:"bg-white p-1 rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-500 border-b",children:"  (  )"}),s.jsx("div",{className:"overflow-auto max-h-[500px] border-b bg-gray-500/10 p-4",children:s.jsx("div",{className:"transform scale-75 origin-top-center",children:s.jsx(Mx,{report:n})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"font-bold text-lg text-purple-800 border-b pb-2 mb-4 flex items-center gap-2",children:"1.  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{className:"w-full border rounded p-2",value:n.inspectorName,onChange:N=>f("inspectorName",N.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{className:"w-full border rounded p-2",value:n.rank,onChange:N=>f("rank",N.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{className:"w-full border rounded p-2",value:n.district,onChange:N=>f("district",N.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{className:"w-full border rounded p-2",value:n.wilaya,onChange:N=>f("wilaya",N.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border rounded p-2",value:n.term,onChange:N=>f("term",N.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{className:"w-full border rounded p-2",value:n.schoolYear,onChange:N=>f("schoolYear",N.target.value)})]})]}),s.jsx("h3",{className:"font-bold text-lg text-purple-800 border-b pb-2 mb-4 mt-6 flex items-center gap-2",children:"2.   ( + )"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.teachersTotal,readOnly:!0})]}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:" ()"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.teachersTrainee,readOnly:!0})]}),s.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.teachersTenure,onChange:N=>f("teachersTenure",parseInt(N.target.value))})]}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.visitsInspection,readOnly:!0})]}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.visitsTenure,readOnly:!0})]}),s.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.visitsTraining,onChange:N=>f("visitsTraining",parseInt(N.target.value))})]}),s.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"   ()"}),s.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.visitsTrainingBenefit,onChange:N=>f("visitsTrainingBenefit",parseInt(N.target.value))})]}),s.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),s.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.tasksSupervision,onChange:N=>f("tasksSupervision",parseInt(N.target.value))})]}),s.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[s.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:" ()"}),s.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.tasksInvestigations,onChange:N=>f("tasksInvestigations",parseInt(N.target.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[s.jsx("span",{children:"  ( )"}),s.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[s.jsx(bn,{size:12})," : ",x]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-2 opacity-80",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.sun,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.mon,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.tue,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.wed,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.thu,readOnly:!0})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[s.jsx("span",{children:"  ( )"}),s.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[s.jsx(bn,{size:12})," : ",b]})]}),s.jsxs("div",{className:"grid grid-cols-6 gap-2 opacity-80",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:""}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.prep,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:" 1"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year1,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:" 2"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year2,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:" 3"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year3,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:" 4"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year4,readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] block",children:" 5"}),s.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year5,readOnly:!0})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[s.jsx("span",{children:"  ( )"}),s.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[s.jsx(bn,{size:12})," : ",p]})]}),s.jsxs("div",{className:"space-y-2 opacity-80",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:""}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.stagiere,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:"  "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.primary,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:"  "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.class1,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:"  "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.class2,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:""}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.distinguished,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:""}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.contract,readOnly:!0})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[s.jsx("span",{children:"  ( )"}),s.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[s.jsx(bn,{size:12})," : ",v]})]}),s.jsxs("div",{className:"space-y-2 opacity-80",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:" "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.arabic,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:""}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.math,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:" "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.islamic,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:" "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.historyGeo,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:" "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.civics,readOnly:!0})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs w-24",children:" "}),s.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.science,readOnly:!0})]})]})]})]})]})]})})]})},wC=({isOpen:n,onClose:e,onUpgrade:i})=>n?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden relative animate-in zoom-in-95 duration-300",children:[s.jsx("button",{onClick:e,className:"absolute top-4 left-4 text-white/80 hover:text-white z-10 p-1 bg-black/20 rounded-full",children:s.jsx(On,{size:20})}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 p-8 text-center relative overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:[s.jsx(bs,{className:"absolute top-4 right-10 animate-pulse",size:20}),s.jsx(bs,{className:"absolute bottom-4 left-10 animate-pulse delay-700",size:30}),s.jsx(bs,{className:"absolute top-10 left-1/2 animate-pulse delay-300",size:15})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-white",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-inner border border-white/30",children:s.jsx(Qv,{size:32,className:"text-white drop-shadow-md",fill:"currentColor"})}),s.jsx("h2",{className:"text-3xl font-bold mb-1 drop-shadow-sm",children:" "}),s.jsx("p",{className:"text-yellow-50 font-medium opacity-90",children:"   "})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:s.jsx(Vl,{size:14,strokeWidth:3})}),s.jsx("span",{className:"font-medium",children:"    "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:s.jsx(Vl,{size:14,strokeWidth:3})}),s.jsx("span",{className:"font-medium",children:"    "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:s.jsx(Vl,{size:14,strokeWidth:3})}),s.jsx("span",{className:"font-medium",children:"    "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:s.jsx(Vl,{size:14,strokeWidth:3})}),s.jsx("span",{className:"font-medium",children:"   "})]})]}),s.jsxs("button",{onClick:i,className:"w-full bg-gray-900 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-gray-800 hover:scale-[1.02] transition-all flex items-center justify-center gap-2 group",children:[s.jsx(Kg,{className:"text-yellow-400 group-hover:animate-spin",fill:"currentColor",size:20}),s.jsx("span",{children:"  -  "})]}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"     ."})]})]})}):null,Rx=async(n,e)=>{if(!n)throw new Error("   ");const i=JSON.stringify({action:"SYNC",data:e});try{const a=await fetch(n,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:i});return{success:!0}}catch(a){throw console.error("  :",a),new Error("   Google Sheet.    .")}},SC=async n=>{if(!n)throw new Error("   ");try{const e=await fetch(`${n}?action=READ`,{method:"GET"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("   :",e),new Error("  .      'Anyone' ( ).")}},jC="modulepreload",TC=function(n){return"/"+n},xg={},Xl=function(e,i,a){let o=Promise.resolve();if(i&&i.length>0){let f=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),x=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(i.map(p=>{if(p=TC(p),p in xg)return;xg[p]=!0;const b=p.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const N=document.createElement("link");if(N.rel=b?"stylesheet":jC,b||(N.as="script"),N.crossOrigin="",N.href=p,x&&N.setAttribute("nonce",x),document.head.appendChild(N),b)return new Promise((w,j)=>{N.addEventListener("load",w),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return e().catch(d)})},EC=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Xl(async()=>{const{default:a}=await Promise.resolve().then(()=>ha);return{default:a}},void 0).then(({default:a})=>a(...i)):e=fetch,(...i)=>e(...i)};class Cu extends Error{constructor(e,i="FunctionsError",a){super(e),this.name=i,this.context=a}}class CC extends Cu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AC extends Cu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kC extends Cu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var MC=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};class RC{constructor(e,{headers:i={},customFetch:a}={}){this.url=e,this.headers=i,this.fetch=EC(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var a;return MC(this,void 0,void 0,function*(){try{const{headers:o,method:d,body:f}=i;let m={},x;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(m["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(m["Content-Type"]="application/json",x=JSON.stringify(f)));const p=yield this.fetch(`${this.url}/${e}`,{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:x}).catch(w=>{throw new CC(w)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new AC(p);if(!p.ok)throw new kC(p);let v=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return v==="application/json"?N=yield p.json():v==="application/octet-stream"?N=yield p.blob():v==="multipart/form-data"?N=yield p.formData():N=yield p.text(),{data:N,error:null}}catch(o){return{data:null,error:o}}})}}var DC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zl=DC();const IC=Zl.fetch,Au=Zl.fetch.bind(Zl),Dx=Zl.Headers,UC=Zl.Request,LC=Zl.Response,ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dx,Request:UC,Response:LC,default:Au,fetch:IC},Symbol.toStringTag,{value:"Module"}));class zC extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class PC{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Au:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,x;let p=null,b=null,v=null,N=d.status,w=d.statusText;if(d.ok){if(this.method!=="HEAD"){const J=await d.text();J===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=J:b=JSON.parse(J))}const E=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),U=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&U&&U.length>1&&(v=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,v=null,N=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await d.text();try{p=JSON.parse(E),Array.isArray(p)&&d.status===404&&(b=[],p=null,N=200,w="OK")}catch{d.status===404&&E===""?(N=204,w="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,N=200,w="OK"),p&&this.shouldThrowOnError)throw new zC(p)}return{error:p,data:b,count:v,status:N,statusText:w}});return this.shouldThrowOnError||(o=o.catch(d=>{var f,m,x;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(x=d==null?void 0:d.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,i)}}class OC extends PC{select(e){let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:d=o}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${e}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,i,{foreignTable:a,referencedTable:o=a}={}){const d=typeof o>"u"?"offset":`${o}.offset`,f=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(d,`${e}`),this.url.searchParams.set(f,`${i-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:d=!1,format:f="text"}={}){var m;const x=[e?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,d?"wal":null].filter(Boolean).join("|"),p=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${p}"; options=${x};`,f==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Gl extends OC{eq(e,i){return this.url.searchParams.append(e,`eq.${i}`),this}neq(e,i){return this.url.searchParams.append(e,`neq.${i}`),this}gt(e,i){return this.url.searchParams.append(e,`gt.${i}`),this}gte(e,i){return this.url.searchParams.append(e,`gte.${i}`),this}lt(e,i){return this.url.searchParams.append(e,`lt.${i}`),this}lte(e,i){return this.url.searchParams.append(e,`lte.${i}`),this}like(e,i){return this.url.searchParams.append(e,`like.${i}`),this}likeAllOf(e,i){return this.url.searchParams.append(e,`like(all).{${i.join(",")}}`),this}likeAnyOf(e,i){return this.url.searchParams.append(e,`like(any).{${i.join(",")}}`),this}ilike(e,i){return this.url.searchParams.append(e,`ilike.${i}`),this}ilikeAllOf(e,i){return this.url.searchParams.append(e,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(e,i){return this.url.searchParams.append(e,`ilike(any).{${i.join(",")}}`),this}is(e,i){return this.url.searchParams.append(e,`is.${i}`),this}in(e,i){const a=i.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}contains(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cs.{${i.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(i)}`),this}containedBy(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cd.{${i.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(i)}`),this}rangeGt(e,i){return this.url.searchParams.append(e,`sr.${i}`),this}rangeGte(e,i){return this.url.searchParams.append(e,`nxl.${i}`),this}rangeLt(e,i){return this.url.searchParams.append(e,`sl.${i}`),this}rangeLte(e,i){return this.url.searchParams.append(e,`nxr.${i}`),this}rangeAdjacent(e,i){return this.url.searchParams.append(e,`adj.${i}`),this}overlaps(e,i){return typeof i=="string"?this.url.searchParams.append(e,`ov.${i}`):this.url.searchParams.append(e,`ov.{${i.join(",")}}`),this}textSearch(e,i,{config:a,type:o}={}){let d="";o==="plain"?d="pl":o==="phrase"?d="ph":o==="websearch"&&(d="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${d}fts${f}.${i}`),this}match(e){return Object.entries(e).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(e,i,a){return this.url.searchParams.append(e,`not.${i}.${a}`),this}or(e,{foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,i,a){return this.url.searchParams.append(e,`${i}.${a}`),this}}class qC{constructor(e,{headers:i={},schema:a,fetch:o}){this.url=e,this.headers=i,this.schema=a,this.fetch=o}select(e,{head:i=!1,count:a}={}){const o=i?"HEAD":"GET";let d=!1;const f=(e??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),a&&(this.headers.Prefer=`count=${a}`),new Gl({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:i,defaultToNull:a=!0}={}){const o="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),a||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(e)){const f=e.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(f.length>0){const m=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new Gl({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:d=!0}={}){const f="POST",m=[`resolution=${a?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(e)){const x=e.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(x.length>0){const p=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new Gl({method:f,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:i}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new Gl({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i="DELETE",a=[];return e&&a.push(`count=${e}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new Gl({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const GC="1.9.2",HC={"X-Client-Info":`postgrest-js/${GC}`};class ku{constructor(e,{headers:i={},schema:a,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},HC),i),this.schemaName=a,this.fetch=o}from(e){const i=new URL(`${this.url}/${e}`);return new qC(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ku(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:a=!1,count:o}={}){let d;const f=new URL(`${this.url}/rpc/${e}`);let m;a?(d="HEAD",Object.entries(i).forEach(([p,b])=>{f.searchParams.append(p,`${b}`)})):(d="POST",m=i);const x=Object.assign({},this.headers);return o&&(x.Prefer=`count=${o}`),new Gl({method:d,url:f,headers:x,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}const VC="2.9.3",BC={"X-Client-Info":`realtime-js/${VC}`},$C="1.0.0",Ix=1e4,FC=1e3;var Yl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Yl||(Yl={}));var Gt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Gt||(Gt={}));var cn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(cn||(cn={}));var iu;(function(n){n.websocket="websocket"})(iu||(iu={}));var Vs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Vs||(Vs={}));class Ux{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class JC{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,i,a)}_decodeBroadcast(e,i,a){const o=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const m=a.decode(e.slice(f,f+o));f=f+o;const x=a.decode(e.slice(f,f+d));f=f+d;const p=JSON.parse(a.decode(e.slice(f,e.byteLength)));return{ref:null,topic:m,event:x,payload:p}}}class Id{constructor(e,i,a={},o=Ix){this.channel=e,this.event=i,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var a;return this._hasReceived(e)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(bg||(bg={}));class la{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=la.syncState(this.state,o,d,f),this.pendingDiffs.forEach(x=>{this.state=la.syncDiff(this.state,x,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=la.syncDiff(this.state,o,d,f),m())}),this.onJoin((o,d,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:d,newPresences:f})}),this.onLeave((o,d,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,a,o){const d=this.cloneDeep(e),f=this.transformState(i),m={},x={};return this.map(d,(p,b)=>{f[p]||(x[p]=b)}),this.map(f,(p,b)=>{const v=d[p];if(v){const N=b.map(U=>U.presence_ref),w=v.map(U=>U.presence_ref),j=b.filter(U=>w.indexOf(U.presence_ref)<0),E=v.filter(U=>N.indexOf(U.presence_ref)<0);j.length>0&&(m[p]=j),E.length>0&&(x[p]=E)}else m[p]=b}),this.syncDiff(d,{joins:m,leaves:x},a,o)}static syncDiff(e,i,a,o){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(d,(m,x)=>{var p;const b=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(x),b.length>0){const v=e[m].map(w=>w.presence_ref),N=b.filter(w=>v.indexOf(w.presence_ref)<0);e[m].unshift(...N)}a(m,b,x)}),this.map(f,(m,x)=>{let p=e[m];if(!p)return;const b=x.map(v=>v.presence_ref);p=p.filter(v=>b.indexOf(v.presence_ref)<0),e[m]=p,o(m,p,x),p.length===0&&delete e[m]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(a=>i(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,a)=>{const o=e[a];return"metas"in o?i[a]=o.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[a]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Fe||(Fe={}));const yg=(n,e,i={})=>{var a;const o=(a=i.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(e).reduce((d,f)=>(d[f]=YC(f,n,e,o),d),{})},YC=(n,e,i,a)=>{const o=e.find(m=>m.name===n),d=o==null?void 0:o.type,f=i[n];return d&&!a.includes(d)?Lx(d,f):au(f)},Lx=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return ZC(e,i)}switch(n){case Fe.bool:return KC(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return QC(e);case Fe.json:case Fe.jsonb:return XC(e);case Fe.timestamp:return WC(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return au(e);default:return au(e)}},au=n=>n,KC=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},QC=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},XC=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},ZC=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,a=n[i];if(n[0]==="{"&&a==="}"){let d;const f=n.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Lx(e,m))}return n},WC=n=>typeof n=="string"?n.replace(" ","T"):n;var vg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(vg||(vg={}));var Ng;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(Ng||(Ng={}));var _g;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(_g||(_g={}));class Mu{constructor(e,i={config:{}},a){this.topic=e,this.params=i,this.socket=a,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},i.config),this.timeout=this.socket.timeout,this.joinPush=new Id(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Ux(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(o,d)=>{this._trigger(this._replyEventName(d),o)}),this.presence=new la(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,i=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:d,presence:f}}=this.params;this._onError(p=>e&&e("CHANNEL_ERROR",p)),this._onClose(()=>e&&e("CLOSED"));const m={},x={broadcast:d,presence:f,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",({postgres_changes:p})=>{var b;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){e&&e("SUBSCRIBED");return}else{const v=this.bindings.postgres_changes,N=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,w=[];for(let j=0;j<N;j++){const E=v[j],{filter:{event:U,schema:J,table:q,filter:B}}=E,F=p&&p[j];if(F&&F.event===U&&F.schema===J&&F.table===q&&F.filter===B)w.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e("SUBSCRIBED");return}}).receive("error",p=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,a){return this._on(e,i,a)}async send(e,i={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){const{event:d,payload:f}=e,m={method:"POST",headers:{apikey:(a=this.socket.apiKey)!==null&&a!==void 0?a:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=i.timeout)!==null&&o!==void 0?o:this.timeout)).ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,x;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((x=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||x===void 0)&&x.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const o=new Id(this,cn.leave,{},e);o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,i,a){const o=new AbortController,d=setTimeout(()=>o.abort(),a),f=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(d),f}_push(e,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Id(this,e,i,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,i,a){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,a){var o,d;const f=e.toLocaleLowerCase(),{close:m,error:x,leave:p,join:b}=cn;if(a&&[m,x,p,b].indexOf(f)>=0&&a!==this._joinRef())return;let N=this._onMessage(f,i,a);if(i&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,E,U;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((U=(E=w.filter)===null||E===void 0?void 0:E.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(w=>w.callback(N,a)):(d=this.bindings[f])===null||d===void 0||d.filter(w=>{var j,E,U,J,q,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const F=w.id,ae=(j=w.filter)===null||j===void 0?void 0:j.event;return F&&((E=i.ids)===null||E===void 0?void 0:E.includes(F))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((U=i.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const F=(q=(J=w==null?void 0:w.filter)===null||J===void 0?void 0:J.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return F==="*"||F===((B=i==null?void 0:i.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof N=="object"&&"ids"in N){const j=N.data,{schema:E,table:U,commit_timestamp:J,type:q,errors:B}=j;N=Object.assign(Object.assign({},{schema:E,table:U,commit_timestamp:J,eventType:q,new:{},old:{},errors:B}),this._getPayloadRecords(j))}w.callback(N,a)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,a){const o=e.toLocaleLowerCase(),d={type:o,filter:i,callback:a};return this.bindings[o]?this.bindings[o].push(d):this.bindings[o]=[d],this}_off(e,i){const a=e.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var d;return!(((d=o.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&Mu.isEqual(o.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const a in e)if(e[a]!==i[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=yg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=yg(e.columns,e.old_record)),i}}const eA=()=>{},tA=typeof WebSocket<"u";class nA{constructor(e,i){var a;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=BC,this.params={},this.timeout=Ix,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eA,this.conn=null,this.sendBuffer=[],this.serializer=new JC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=d=>{let f;return d?f=d:typeof fetch>"u"?f=(...m)=>Xl(async()=>{const{default:x}=await Promise.resolve().then(()=>ha);return{default:x}},void 0).then(({default:x})=>x(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${e}/${iu.websocket}`,i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const o=(a=i==null?void 0:i.params)===null||a===void 0?void 0:a.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:d=>[1e3,2e3,5e3,1e4][d-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(d,f)=>f(JSON.stringify(d)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ux(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(tA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new sA(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Xl(async()=>{const{default:e}=await import("./browser-BAWU6FTY.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,a){this.logger(e,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Yl.connecting:return Vs.Connecting;case Yl.open:return Vs.Open;case Yl.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}channel(e,i={config:{}}){const a=new Mu(`realtime:${e}`,i,this);return this.channels.push(a),a}push(e){const{topic:i,event:a,payload:o,ref:d}=e,f=()=>{this.encode(e,m=>{var x;(x=this.conn)===null||x===void 0||x.send(m)})};this.log("push",`${i} ${a} (${d})`,o),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(e){this.accessToken=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(cn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$C}))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:a,event:o,payload:d,ref:f}=i;(f&&f===this.pendingHeartbeatRef||o===(d==null?void 0:d.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${d.status||""} ${a} ${o} ${f&&"("+f+")"||""}`,d),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,d,f)),this.stateChangeCallbacks.message.forEach(m=>m(i))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${a}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(FC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class sA{constructor(e,i,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=a.close}}class Ru extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class lA extends Ru{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wg extends Ru{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var iA=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};const zx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Xl(async()=>{const{default:a}=await Promise.resolve().then(()=>ha);return{default:a}},void 0).then(({default:a})=>a(...i)):e=fetch,(...i)=>e(...i)},aA=()=>iA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xl(()=>Promise.resolve().then(()=>ha),void 0)).Response:Response});var si=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};const Ud=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rA=(n,e)=>si(void 0,void 0,void 0,function*(){const i=yield aA();n instanceof i?n.json().then(a=>{e(new lA(Ud(a),n.status||500))}).catch(a=>{e(new wg(Ud(a),a))}):e(new wg(Ud(n),n))}),oA=(n,e,i,a)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),i))};function ro(n,e,i,a,o,d){return si(this,void 0,void 0,function*(){return new Promise((f,m)=>{n(i,oA(e,a,o,d)).then(x=>{if(!x.ok)throw x;return a!=null&&a.noResolveJson?x:x.json()}).then(x=>f(x)).catch(x=>rA(x,m))})})}function ru(n,e,i,a){return si(this,void 0,void 0,function*(){return ro(n,"GET",e,i,a)})}function ms(n,e,i,a,o){return si(this,void 0,void 0,function*(){return ro(n,"POST",e,a,o,i)})}function cA(n,e,i,a,o){return si(this,void 0,void 0,function*(){return ro(n,"PUT",e,a,o,i)})}function Px(n,e,i,a,o){return si(this,void 0,void 0,function*(){return ro(n,"DELETE",e,a,o,i)})}var en=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};const dA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uA{constructor(e,i={},a,o){this.url=e,this.headers=i,this.bucketId=a,this.fetch=zx(o)}uploadOrUpdate(e,i,a,o){return en(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Sg),o),m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",f.cacheControl)):(d=a,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const x=this._removeEmptyFolders(i),p=this._getFinalPath(x),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:d,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{})),v=yield b.json();return b.ok?{data:{path:x,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(vt(d))return{data:null,error:d};throw d}})}upload(e,i,a){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,a)})}uploadToSignedUrl(e,i,a,o){return en(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(e),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",i);try{let x;const p=Object.assign({upsert:Sg.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(x=new FormData,x.append("cacheControl",p.cacheControl),x.append("",a)):typeof FormData<"u"&&a instanceof FormData?(x=a,x.append("cacheControl",p.cacheControl)):(x=a,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const v=yield this.fetch(m.toString(),{method:"PUT",body:x,headers:b}),N=yield v.json();return v.ok?{data:{path:d,fullPath:N.Key},error:null}:{data:null,error:N}}catch(x){if(vt(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(e){return en(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=yield ms(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:this.headers}),o=new URL(this.url+a.url),d=o.searchParams.get("token");if(!d)throw new Ru("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:d},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}update(e,i,a){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,a)})}move(e,i){return en(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}copy(e,i){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield ms(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i},{headers:this.headers})).Key},error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,a){return en(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),d=yield ms(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,a){return en(this,void 0,void 0,function*(){try{const o=yield ms(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}download(e,i){return en(this,void 0,void 0,function*(){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=d?`?${d}`:"";try{const m=this._getFinalPath(e);return{data:yield(yield ru(this.fetch,`${this.url}/${o}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(vt(m))return{data:null,error:m};throw m}})}getPublicUrl(e,i){const a=this._getFinalPath(e),o=[],d=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&o.push(d);const m=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});x!==""&&o.push(x);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${p}`)}}}remove(e){return en(this,void 0,void 0,function*(){try{return{data:yield Px(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}list(e,i,a){return en(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dA),i),{prefix:e||""});return{data:yield ms(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const fA="2.5.5",hA={"X-Client-Info":`storage-js/${fA}`};var Ll=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};class mA{constructor(e,i={},a){this.url=e,this.headers=Object.assign(Object.assign({},hA),i),this.fetch=zx(a)}listBuckets(){return Ll(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ll(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return Ll(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return Ll(this,void 0,void 0,function*(){try{return{data:yield cA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Ll(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return Ll(this,void 0,void 0,function*(){try{return{data:yield Px(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}}class pA extends mA{constructor(e,i={},a){super(e,i,a)}from(e){return new uA(this.url,this.headers,e,this.fetch)}}const gA="2.39.7";let na="";typeof Deno<"u"?na="deno":typeof document<"u"?na="web":typeof navigator<"u"&&navigator.product==="ReactNative"?na="react-native":na="node";const xA={"X-Client-Info":`supabase-js-${na}/${gA}`},bA={headers:xA},yA={schema:"public"},vA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NA={};var _A=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};const wA=n=>{let e;return n?e=n:typeof fetch>"u"?e=Au:e=fetch,(...i)=>e(...i)},SA=()=>typeof Headers>"u"?Dx:Headers,jA=(n,e,i)=>{const a=wA(i),o=SA();return(d,f)=>_A(void 0,void 0,void 0,function*(){var m;const x=(m=yield e())!==null&&m!==void 0?m:n;let p=new o(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${x}`),a(d,Object.assign(Object.assign({},f),{headers:p}))})};function TA(n){return n.replace(/\/$/,"")}function EA(n,e){const{db:i,auth:a,realtime:o,global:d}=n,{db:f,auth:m,realtime:x,global:p}=e;return{db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},x),o),global:Object.assign(Object.assign({},p),d)}}function CA(n){return Math.round(Date.now()/1e3)+n}function AA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const on=()=>typeof document<"u",qs={tested:!1,writable:!1},ia=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qs.tested)return qs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),qs.tested=!0,qs.writable=!0}catch{qs.tested=!0,qs.writable=!1}return qs.writable};function Ld(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,d)=>{e[d]=o})}catch{}return i.searchParams.forEach((a,o)=>{e[o]=a}),e}const Ox=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Xl(async()=>{const{default:a}=await Promise.resolve().then(()=>ha);return{default:a}},void 0).then(({default:a})=>a(...i)):e=fetch,(...i)=>e(...i)},kA=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Gs=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},Dr=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},zd=async(n,e)=>{await n.removeItem(e)};function MA(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",a,o,d,f,m,x,p,b=0;for(n=n.replace("-","+").replace("_","/");b<n.length;)f=e.indexOf(n.charAt(b++)),m=e.indexOf(n.charAt(b++)),x=e.indexOf(n.charAt(b++)),p=e.indexOf(n.charAt(b++)),a=f<<2|m>>4,o=(m&15)<<4|x>>2,d=(x&3)<<6|p,i=i+String.fromCharCode(a),x!=64&&o!=0&&(i=i+String.fromCharCode(o)),p!=64&&d!=0&&(i=i+String.fromCharCode(d));return i}class oo{constructor(){this.promise=new oo.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}oo.promiseConstructor=Promise;function jg(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=n.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=i[1];return JSON.parse(MA(a))}async function RA(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function DA(n,e){return new Promise((a,o)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await n(d);if(!e(d,null,f)){a(f);return}}catch(f){if(!e(d,f)){o(f);return}}})()})}function IA(n){return("0"+n.toString(16)).substr(-2)}function zl(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let o="";for(let d=0;d<56;d++)o+=i.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,IA).join("")}async function UA(n){const i=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(a);return Array.from(o).map(d=>String.fromCharCode(d)).join("")}function LA(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pl(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await UA(n);return LA(i)}class Du extends Error{constructor(e,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i}}function Me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class zA extends Du{constructor(e,i){super(e,i),this.name="AuthApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function PA(n){return Me(n)&&n.name==="AuthApiError"}class qx extends Du{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Fs extends Du{constructor(e,i,a){super(e),this.name=i,this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ol extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Pd extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ir extends Fs{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Ur extends Fs{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tg extends Fs{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ou extends Fs{constructor(e,i){super(e,"AuthRetryableFetchError",i)}}function Od(n){return Me(n)&&n.name==="AuthRetryableFetchError"}class OA extends Fs{constructor(e,i,a){super(e,"AuthWeakPasswordError",i),this.reasons=a}}var qA=function(n,e){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(i[a[o]]=n[a[o]]);return i};const Hl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),GA=[502,503,504];async function Eg(n){if(!kA(n))throw new ou(Hl(n),0);if(GA.includes(n.status))throw new ou(Hl(n),n.status);let e;try{e=await n.json()}catch(i){throw new qx(Hl(i),i)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)?new OA(Hl(e),n.status,e.weak_password.reasons):new zA(Hl(e),n.status||500)}const HA=(n,e,i,a)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),i))};async function Ie(n,e,i,a){var o;const d=Object.assign({},a==null?void 0:a.headers);a!=null&&a.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const f=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(f.redirect_to=a.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",x=await VA(n,e,i+m,{headers:d,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(x):{data:Object.assign({},x),error:null}}async function VA(n,e,i,a,o,d){const f=HA(e,a,o,d);let m;try{m=await n(i,f)}catch(x){throw console.error(x),new ou(Hl(x),0)}if(m.ok||await Eg(m),a!=null&&a.noResolveJson)return m;try{return await m.json()}catch(x){await Eg(x)}}function Hs(n){var e;let i=null;JA(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=CA(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:a},error:null}}function Cg(n){const e=Hs(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ps(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function BA(n){return{data:n,error:null}}function $A(n){const{action_link:e,email_otp:i,hashed_token:a,redirect_to:o,verification_type:d}=n,f=qA(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:i,hashed_token:a,redirect_to:o,verification_type:d},x=Object.assign({},f);return{data:{properties:m,user:x},error:null}}function FA(n){return n}function JA(n){return n.access_token&&n.refresh_token&&n.expires_in}var YA=function(n,e){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(i[a[o]]=n[a[o]]);return i};class KA{constructor({url:e="",headers:i={},fetch:a}){this.url=e,this.headers=i,this.fetch=Ox(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Me(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,i={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ps})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:i}=e,a=YA(e,["options"]),o=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$A,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Me(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,a,o,d,f,m,x;try{const p={nextPage:null,lastPage:0,total:0},b=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(d=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:FA});if(b.error)throw b.error;const v=await b.json(),N=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(x=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&x!==void 0?x:[];return w.length>0&&(w.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(j.split(";")[1].split("=")[1]);p[`${U}Page`]=E}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:ps})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,i=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:ps})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){try{const{data:i,error:a}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:a}}catch(i){if(Me(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}}const Gx="0.0.0",QA="http://localhost:9999",XA="supabase.auth.token",ZA={"X-Client-Info":`gotrue-js/${Gx}`},Ag=10,WA={getItem:n=>ia()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{ia()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{ia()&&globalThis.localStorage.removeItem(n)}};function kg(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function ek(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ql={debug:!!(globalThis&&ia()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tk extends Hx{}async function nk(n,e,i){ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ql.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await i()}finally{ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ql.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new tk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ql.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}})}ek();const sk={url:QA,storageKey:XA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZA,flowType:"implicit",debug:!1},Wi=30*1e3,Mg=3;async function Rg(n,e,i){return await i()}class ua{constructor(e){var i,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ua.nextInstanceID,ua.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},sk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new KA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ox(o.fetch),this.lock=o.lock||Rg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,o.lock?this.lock=o.lock:on()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=nk:this.lock=Rg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ia()?this.storage=WA:(this.memoryStorage={},this.storage=kg(this.memoryStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=on()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:i,error:a}=await this._getSessionFromURL(e);if(a)return this._debug("#_initialize()","error detecting session from URL",a),(a==null?void 0:a.message)==="Identity is already linked"||(a==null?void 0:a.message)==="Identity is already linked to another user"?{error:a}:(await this._removeSession(),{error:a});const{session:o,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",d),await this._saveSession(o),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Me(e)?{error:e}:{error:new qx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var i,a,o;try{await this._removeSession();let d;if("email"in e){const{email:b,password:v,options:N}=e;let w=null,j=null;if(this.flowType==="pkce"){const E=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,E),w=await Pl(E),j=E===w?"plain":"s256"}d=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:b,password:v,data:(i=N==null?void 0:N.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:j},xform:Hs})}else if("phone"in e){const{phone:b,password:v,options:N}=e;d=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(a=N==null?void 0:N.data)!==null&&a!==void 0?a:{},channel:(o=N==null?void 0:N.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:Hs})}else throw new Ir("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const x=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:p,session:x},error:null}}catch(d){if(Me(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(e){try{await this._removeSession();let i;if("email"in e){const{email:d,password:f,options:m}=e;i=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cg})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cg})}else throw new Ir("You must provide either an email or phone number and a password");const{data:a,error:o}=i;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Pd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,a,o,d;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(d=e.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await Dr(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(i??"").split("/"),{data:d,error:f}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Hs});return await zd(this.storage,`${this.storageKey}-code-verifier`),f?{data:{user:null,session:null,redirectType:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Pd}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:o??null}),error:f})}async signInWithIdToken(e){await this._removeSession();try{const{options:i,provider:a,token:o,access_token:d,nonce:f}=e,m=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Hs}),{data:x,error:p}=m;return p?{data:{user:null,session:null},error:p}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Pd}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:p})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,a,o,d,f;try{if(await this._removeSession(),"email"in e){const{email:m,options:x}=e;let p=null,b=null;if(this.flowType==="pkce"){const N=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,N),p=await Pl(N),b=N===p?"plain":"s256"}const{error:v}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},create_user:(a=x==null?void 0:x.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:m,options:x}=e,{data:p,error:b}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},create_user:(d=x==null?void 0:x.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(f=x==null?void 0:x.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b}}throw new Ir("You must provide either an email or phone number.")}catch(m){if(Me(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(e){var i,a;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let o,d;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,d=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:m}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:d}}),redirectTo:o,xform:Hs});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const x=f.session,p=f.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:p,session:x},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var i,a,o;try{await this._removeSession();let d=null,f=null;if(this.flowType==="pkce"){const m=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,m),d=await Pl(m),f=m===d?"plain":"s256"}return await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:BA})}catch(d){if(Me(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:a}=e;if(a)throw a;if(!i)throw new Ol;const{error:o}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const i=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:d}=e,{error:f}=await Ie(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in e){const{phone:a,type:o,options:d}=e,{data:f,error:m}=await Ie(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Ir("You must provide either an email or phone number and a type")}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a)return{data:{session:e},error:null};const{session:o,error:d}=await this._callRefreshToken(e.refresh_token);return d?{data:{session:null},error:d}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async i=>{var a,o;const{data:d,error:f}=i;if(f)throw f;return await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:ps})})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async a=>{const{data:o,error:d}=a;if(d)throw d;if(!o.session)throw new Ol;const f=o.session;let m=null,x=null;if(this.flowType==="pkce"&&e.email!=null){const v=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,v),m=await Pl(v),x=v===m?"plain":"s256"}const{data:p,error:b}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:x}),jwt:f.access_token,xform:ps});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}_decodeJWT(e){return jg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ol;const i=Date.now()/1e3;let a=i,o=!0,d=null;const f=jg(e.access_token);if(f.exp&&(a=f.exp,o=a<=i),o){const{session:m,error:x}=await this._callRefreshToken(e.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:x}=await this._getUser(e.access_token);if(x)throw x;d={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(Me(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var a;if(!e){const{data:f,error:m}=i;if(m)throw m;e=(a=f.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Ol;const{session:o,error:d}=await this._callRefreshToken(e.refresh_token);return d?{data:{user:null,session:null},error:d}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e){try{if(!on())throw new Ur("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ur("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Tg("Not a valid PKCE flow url.");const i=Ld(window.location.href);if(e){if(!i.code)throw new Tg("No code detected.");const{data:q,error:B}=await this._exchangeCodeForSession(i.code);if(B)throw B;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:q.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new Ur(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:a,provider_refresh_token:o,access_token:d,refresh_token:f,expires_in:m,expires_at:x,token_type:p}=i;if(!d||!m||!f||!p)throw new Ur("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(m);let N=b+v;x&&(N=parseInt(x));const w=N-b;w*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const j=N-v;b-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,N,b):b-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",j,N,b);const{data:E,error:U}=await this._getUser(d);if(U)throw U;const J={provider_token:a,provider_refresh_token:o,access_token:d,expires_in:v,expires_at:N,refresh_token:f,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:J,redirectType:i.type},error:null}}catch(i){if(Me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){const e=Ld(window.location.href);return!!(on()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Ld(window.location.href),i=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:o,error:d}=i;if(d)return{error:d};const f=(a=o.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:m}=await this.admin.signOut(f,e);if(m&&!(PA(m)&&(m.status===404||m.status===401)))return{error:m}}return e!=="others"&&(await this._removeSession(),await zd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const i=AA(),a={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async i=>{var a,o;try{const{data:{session:d},error:f}=i;if(f)throw f;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",e,"session",d)}catch(d){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",d),console.error(d)}})}async resetPasswordForEmail(e,i={}){let a=null,o=null;if(this.flowType==="pkce"){const d=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,`${d}/PASSWORD_RECOVERY`),a=await Pl(d),o=d===a?"plain":"s256"}try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(Me(d))return{data:null,error:d};throw d}}async getUserIdentities(){var e;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:a,error:o}=await this._useSession(async d=>{var f,m,x,p,b;const{data:v,error:N}=d;if(N)throw N;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(x=e.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return on()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Me(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var a,o;const{data:d,error:f}=i;if(f)throw f;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(Me(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await DA(async o=>(await RA(o*200),this._debug(i,"refreshing attempt",o),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hs})),(o,d,f)=>f&&f.error&&Od(f.error)&&Date.now()+(o+1)*200-a<Wi)}catch(a){if(this._debug(i,"error",a),Me(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",a),on()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Dr(this.storage,this.storageKey);if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=Math.round(Date.now()/1e3),d=((e=a.expires_at)!==null&&e!==void 0?e:1/0)<o+Ag;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Ag}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Od(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,a;if(!e)throw new Ol;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new oo;const{data:d,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!d.session)throw new Ol;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(o,"error",d),Me(d)){const f={session:null,error:d};return Od(d)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,i)}catch(x){d.push(x)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Gs(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await zd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Wi}ms, refresh threshold is ${Mg} ticks`),o<=Mg&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,a){const o=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const d=zl();await Gs(this.storage,`${this.storageKey}-code-verifier`,d);const f=await Pl(d),m=d===f?"plain":"s256";this._debug("PKCE","code verifier",`${d.substring(0,5)}...`,"code challenge",f,"method",m);const x=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});o.push(x.toString())}if(a!=null&&a.queryParams){const d=new URLSearchParams(a.queryParams);o.push(d.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var a;const{data:o,error:d}=i;return d?{data:null,error:d}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(Me(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var a,o;const{data:d,error:f}=i;if(f)return{data:null,error:f};const{data:m,error:x}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(a=d==null?void 0:d.session)===null||a===void 0?void 0:a.access_token});return x?{data:null,error:x}:(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(i){if(Me(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:m}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(i){if(Me(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:d}=i;return d?{data:null,error:d}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(Me(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const a=(e==null?void 0:e.factors)||[],o=a.filter(d=>d.factor_type==="totp"&&d.status==="verified");return{data:{all:a,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,a;const{data:{session:o},error:d}=e;if(d)return{data:null,error:d};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(o.access_token);let m=null;f.aal&&(m=f.aal);let x=m;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(x="aal2");const b=f.amr||[];return{data:{currentLevel:m,nextLevel:x,currentAuthenticationMethods:b},error:null}}))}}ua.nextInstanceID=0;class lk extends ua{constructor(e){super(e)}}var ik=function(n,e,i,a){function o(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{p(a.next(b))}catch(v){f(v)}}function x(b){try{p(a.throw(b))}catch(v){f(v)}}function p(b){b.done?d(b.value):o(b.value).then(m,x)}p((a=a.apply(n,e||[])).next())})};class ak{constructor(e,i,a){var o,d,f,m,x,p,b,v;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const N=TA(e);this.realtimeUrl=`${N}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${N}/auth/v1`,this.storageUrl=`${N}/storage/v1`,this.functionsUrl=`${N}/functions/v1`;const w=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,j={db:yA,realtime:NA,auth:Object.assign(Object.assign({},vA),{storageKey:w}),global:bA},E=EA(a??{},j);this.storageKey=(d=(o=E.auth)===null||o===void 0?void 0:o.storageKey)!==null&&d!==void 0?d:"",this.headers=(m=(f=E.global)===null||f===void 0?void 0:f.headers)!==null&&m!==void 0?m:{},this.auth=this._initSupabaseAuthClient((x=E.auth)!==null&&x!==void 0?x:{},this.headers,(p=E.global)===null||p===void 0?void 0:p.fetch),this.fetch=jA(i,this._getAccessToken.bind(this),(b=E.global)===null||b===void 0?void 0:b.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},E.realtime)),this.rest=new ku(`${N}/rest/v1`,{headers:this.headers,schema:(v=E.db)===null||v===void 0?void 0:v.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new RC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},a={}){return this.rest.rpc(e,i,a)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return ik(this,void 0,void 0,function*(){const{data:a}=yield this.auth.getSession();return(i=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:a,storage:o,storageKey:d,flowType:f,debug:m},x,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lk({url:this.authUrl,headers:Object.assign(Object.assign({},b),x),storageKey:d,autoRefreshToken:e,persistSession:i,detectSessionInUrl:a,storage:o,flowType:f,debug:m,fetch:p})}_initRealtimeClient(e){return new nA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,i,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.realtime.setAuth(a??null),this.changedAccessToken=a):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rk=(n,e,i)=>new ak(n,e,i);var Vx={};const qd=Vx.VITE_SUPABASE_URL||"https://voqxebgaebmmijvzcaun.supabase.co",Lr=Vx.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvcXhlYmdhZWJtbWlqdnpjYXVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTQ3MzUsImV4cCI6MjA3OTU3MDczNX0.NPN6zGNVSJYmZloosWL_s-dTogxpLjpgKH8w1e6E3Os";let Gd=null;const ok=()=>{if(!(qd!==""&&!qd.includes("_")&&Lr&&Lr!==""&&!Lr.includes("_")))return console.warn("Supabase is not configured. Auth will be disabled."),null;try{return Gd||(Gd=rk(qd,Lr,{auth:{persistSession:!0,autoRefreshToken:!0}})),Gd}catch(e){return console.error("Failed to initialize Supabase client:",e),null}},Ht=ok(),Xr=()=>!!Ht,zr=async()=>{var n;if(!Ht)return null;try{const{data:{user:e}}=await Ht.auth.getUser();return(n=e==null?void 0:e.user_metadata)!=null&&n.script_url?e.user_metadata.script_url:null}catch(e){return console.error("Failed to fetch script URL",e),null}},ck=async n=>{if(Ht)try{await Ht.auth.updateUser({data:{script_url:n}})}catch(e){console.error("Failed to save script URL",e)}},dk=({isOpen:n,onClose:e})=>{const[i,a]=P.useState("steps"),[o,d]=P.useState(0),[f,m]=P.useState(!1),x="https://www.youtube.com/embed/placeholder";if(!n)return null;const p=`
function doGet(e) {
  return handleRequest(e);
}

function doPost(e) {
  return handleRequest(e);
}

function handleRequest(e) {
  const lock = LockService.getScriptLock();
  lock.tryLock(10000);

  try {
    const sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
    const action = e.parameter.action || (e.postData ? JSON.parse(e.postData.contents).action : 'READ');
    
    if (action === 'SYNC') {
      const payload = JSON.parse(e.postData.contents);
      const data = payload.data; //    
      
      if (!data || !data.length) return response({status: 'empty'});

      //   
      sheet.clear();
      
      //   
      sheet.getRange(1, 1, data.length, data[0].length).setValues(data);
      
      //   ()
      sheet.getRange(1, 1, 1, data[0].length).setFontWeight("bold").setBackground("#f3f4f6");
      
      return response({status: 'success'});
    } 
    else if (action === 'READ') {
      const data = sheet.getDataRange().getValues();
      return response(data); //   
    }
    
  } catch (error) {
    return response({status: 'error', message: error.toString()});
  } finally {
    lock.releaseLock();
  }
}

function response(data) {
  return ContentService.createTextOutput(JSON.stringify(data))
    .setMimeType(ContentService.MimeType.JSON);
}
`,b=()=>{navigator.clipboard.writeText(p),m(!0),setTimeout(()=>m(!1),2e3)},v=[{title:"1.   Google Sheet",icon:s.jsx(l1,{size:24}),content:s.jsxs("div",{className:"space-y-4 text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"         ."}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 text-sm space-y-3",children:[s.jsxs("p",{children:["1.      : ",s.jsxs("a",{href:"https://sheets.new",target:"_blank",rel:"noreferrer",className:"text-blue-600 underline font-bold inline-flex items-center gap-1",children:["sheets.new ",s.jsx(n1,{size:12})]})]}),s.jsxs("p",{children:["2.      : ",s.jsx("span",{className:"font-bold text-gray-800",children:'"  2024"'}),"."]}),s.jsxs("p",{children:["3.      ",s.jsx("span",{className:"font-bold",children:" (Extensions)"}),"   ",s.jsx("span",{className:"font-bold",children:"  Google (Apps Script)"}),"."]})]})]})},{title:"2.    ()",icon:s.jsx(Vp,{size:24}),content:s.jsxs("div",{className:"space-y-4 text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"      .  :"}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"bg-gray-900 text-gray-300 p-4 rounded-lg text-left text-xs font-mono h-40 overflow-y-auto custom-scrollbar",dir:"ltr",children:s.jsx("pre",{children:p})}),s.jsxs("button",{onClick:b,className:"absolute top-2 right-2 bg-white text-gray-800 px-3 py-1.5 rounded-md text-xs font-bold shadow-sm hover:bg-gray-100 flex items-center gap-1 transition-all",children:[f?s.jsx(Hp,{size:14,className:"text-green-600"}):s.jsx(Vp,{size:14}),f?" ":" "]})]}),s.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-200 text-xs text-orange-800 font-bold space-y-1",children:[s.jsx("p",{children:"1.      ."}),s.jsx("p",{children:"2.    ."}),s.jsx("p",{children:"3.     (Save)  ."})]})]})},{title:"3.   (Deploy)",icon:s.jsx(p1,{size:24}),content:s.jsxs("div",{className:"space-y-4 text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"     ."}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200 text-sm space-y-2",children:[s.jsxs("p",{children:["1.     ",s.jsx("span",{className:"font-bold text-blue-600",children:" (Deploy)"}),"   ."]}),s.jsxs("p",{children:["2.  ",s.jsx("span",{className:"font-bold",children:"  (New deployment)"}),"."]}),s.jsxs("p",{children:["3.    (Select type)  ",s.jsx("span",{className:"font-bold",children:"  (Web app)"}),"."]}),s.jsxs("div",{className:"bg-white p-2 rounded border border-indigo-100 mt-2",children:[s.jsx("p",{className:"font-bold text-indigo-700 mb-1",children:"  :"}),s.jsx("p",{children:" :    (: v1)"}),s.jsxs("p",{children:["   (Execute as): ",s.jsx("span",{className:"font-bold",children:"Me ()"})]}),s.jsxs("p",{children:["    (Who has access): ",s.jsx("span",{className:"bg-yellow-200 px-1 rounded font-bold text-red-600",children:"  (Anyone)"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'*  " "          .'}),s.jsxs("p",{children:["4.  ",s.jsx("span",{className:"font-bold",children:" (Deploy)"}),"."]})]})]})},{title:"4.   ",icon:s.jsx(Fg,{size:24}),content:s.jsxs("div",{className:"space-y-4 text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"       (Authorize access)."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200 text-sm space-y-2",children:[s.jsx("p",{children:"1.    ."}),s.jsxs("p",{className:"text-xs text-gray-500 bg-white p-1 rounded",children:['*    "Google hasnt verified this app".  ',s.jsx("span",{className:"font-bold",children:"Advanced"}),"  ",s.jsx("span",{className:"font-bold underline",children:"Go to ... (unsafe)"}),".     ."]}),s.jsxs("p",{children:["2.       ",s.jsx("span",{className:"font-bold",children:"Web app URL"}),"."]}),s.jsx("p",{children:"3.       ."})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("span",{className:"text-xs text-gray-400",children:" !"})})]})}];return s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in duration-200",dir:"rtl",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"bg-gray-50 p-4 border-b flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:"   "}),s.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-white p-1 rounded-full border hover:bg-gray-100 transition-colors",children:s.jsx(On,{size:20})})]}),s.jsxs("div",{className:"flex p-1 bg-gray-100 mx-4 mt-4 rounded-lg shrink-0",children:[s.jsxs("button",{onClick:()=>a("steps"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-bold rounded-md transition-all ${i==="steps"?"bg-white text-blue-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(P1,{size:16})," "]}),s.jsxs("button",{onClick:()=>a("video"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-bold rounded-md transition-all ${i==="video"?"bg-white text-red-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(QN,{size:16})," "]})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:i==="steps"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"text-blue-600 bg-blue-50 p-3 rounded-xl border border-blue-100 shadow-sm",children:v[o].icon}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider bg-blue-50 px-2 py-0.5 rounded-full border border-blue-100",children:[" ",o+1,"  ",v.length]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mt-1",children:v[o].title})]})]}),s.jsx("div",{className:"animate-in slide-in-from-left-4 duration-300",children:v[o].content})]}):s.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsx("div",{className:"w-full aspect-video bg-black rounded-xl overflow-hidden shadow-lg border border-gray-200 relative group",children:x.includes("placeholder")?s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white bg-slate-800",children:[s.jsx(e_,{size:48,className:"text-red-500 mb-4 opacity-80"}),s.jsx("p",{className:"font-bold text-lg",children:"   "}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2 text-center max-w-xs leading-relaxed",children:["         .",s.jsx("br",{}),'    ( " ")   .']})]}):s.jsx("iframe",{src:x,title:"  Google Sheets",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:"     "}),s.jsx("p",{className:"text-xs text-gray-500 max-w-xs mx-auto",children:"             ."})]})]})}),i==="steps"&&s.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-between items-center shrink-0",children:[s.jsxs("button",{onClick:()=>d(Math.max(0,o-1)),disabled:o===0,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:[s.jsx(mu,{size:16}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"flex gap-1.5",children:v.map((N,w)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${w===o?"bg-blue-600 w-6":"bg-gray-300 w-1.5"}`},w))}),o<v.length-1?s.jsxs("button",{onClick:()=>d(Math.min(v.length-1,o+1)),className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 shadow-sm transition-all hover:translate-x-[-2px]",children:[s.jsx("span",{children:""}),s.jsx(hu,{size:16})]}):s.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-5 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black shadow-lg shadow-gray-200 transition-all hover:scale-105",children:[s.jsx("span",{children:"  "}),s.jsx(Hp,{size:16})]})]})]})})},uk=({teachers:n,reportsMap:e,tenureReportsMap:i,onRestore:a,currentReport:o,isConnected:d,onConnectionChange:f,isAutoSync:m,onAutoSyncChange:x})=>{const[p,b]=P.useState(!1),[v,N]=P.useState("idle"),[w,j]=P.useState(""),[E,U]=P.useState(!1),[J,q]=P.useState(""),B=P.useRef(null);P.useEffect(()=>{const k=localStorage.getItem("mufattish_script_url");k&&(q(k),f(!0))},[]);const F=()=>{const k=!m;x(k),localStorage.setItem("mufattish_auto_sync",String(k))},ae=async()=>{if(!J.includes("script.google.com")){N("error"),j("  .     script.google.com");return}localStorage.setItem("mufattish_script_url",J),Xr()&&ck(J),f(!0),N("success"),j("   .")},de=async()=>{if(!J){N("error"),j("    .");return}b(!0),j("    Google Sheet...");try{const k=yu(n,o,e);await Rx(J,k),N("success"),j("    !")}catch(k){console.error(k),N("error"),j(` : ${k.message}`)}finally{b(!1)}},T=async()=>{if(J){b(!0),j("    Google Sheet...");try{const k=await SC(J);if(!Array.isArray(k))throw new Error("    ");const{teachers:R,reportsMap:ee}=tx(k);R.length===0?(j("     ."),N("success")):(a(R,ee,i),N("success"),j(`  ${R.length}  !`))}catch(k){console.error(k),N("error"),j(` : ${k.message}`)}finally{b(!1)}}},O=()=>{const k={version:"1.0",date:new Date().toISOString(),teachers:n,reportsMap:e,tenureReportsMap:i,settings:{inspectorName:localStorage.getItem("mufattish_inspector_name"),signature:localStorage.getItem("mufattish_signature"),isGold:localStorage.getItem("mufattish_is_gold")==="true",scriptUrl:localStorage.getItem("mufattish_script_url")}},R=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),ee=URL.createObjectURL(R),Z=document.createElement("a");Z.href=ee,Z.download=`mufattish_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},I=async k=>{var Z;const R=(Z=k.target.files)==null?void 0:Z[0];if(!R)return;const ee=new FileReader;ee.onload=async L=>{var K;try{const C=JSON.parse((K=L.target)==null?void 0:K.result);C.teachers&&window.confirm("    / .")&&(a(C.teachers,C.reportsMap||{},C.tenureReportsMap||{}),C.settings&&(C.settings.scriptUrl&&(q(C.settings.scriptUrl),localStorage.setItem("mufattish_script_url",C.settings.scriptUrl),f(!0)),C.settings.inspectorName&&localStorage.setItem("mufattish_inspector_name",C.settings.inspectorName)),N("success"),j("    ."))}catch{N("error"),j("  .")}},ee.readAsText(R),B.current&&(B.current.value="")};return s.jsxs("div",{className:"p-8 max-w-5xl mx-auto animate-in fade-in duration-500",children:[s.jsx(dk,{isOpen:E,onClose:()=>U(!1)}),s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg text-white",children:s.jsx(Br,{size:40})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 font-serif",children:"  "}),s.jsx("p",{className:"text-gray-500 max-w-lg mx-auto",children:"   Google Sheet            ."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative group",children:[s.jsxs("div",{className:"bg-green-50 p-4 border-b border-green-100 flex items-center justify-between",children:[s.jsxs("h2",{className:"font-bold text-green-900 flex items-center gap-2",children:[s.jsx(Fv,{size:20}),"Google Sheets ( )"]}),s.jsx("div",{className:`w-3 h-3 rounded-full ${d?"bg-green-500 animate-pulse":"bg-gray-300"}`,title:d?"":" "})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-4 min-h-[40px]",children:"  Google Sheet      .       ."}),d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 flex items-center gap-2 text-green-800 text-sm",children:[s.jsx(ys,{size:16}),s.jsx("span",{children:"   ."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:de,disabled:p,className:"flex-1 bg-green-600 text-white py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-green-700 disabled:opacity-50",children:[s.jsx(ca,{size:16}),"  ()"]}),s.jsxs("button",{onClick:T,disabled:p,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-blue-700 disabled:opacity-50",children:[s.jsx(ra,{size:16,className:p?"animate-spin":""}),"  ()"]})]}),s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-colors ${m?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,onClick:F,children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"  (Auto Save)"}),s.jsx("div",{className:`w-10 h-5 rounded-full p-0.5 transition-colors flex ${m?"bg-green-500 justify-end":"bg-gray-300 justify-start"}`,children:s.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm"})})]}),s.jsx("button",{onClick:()=>{q(""),f(!1),localStorage.removeItem("mufattish_script_url")},className:"text-xs text-red-400 hover:text-red-600 underline w-full text-center",children:"  /  "})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>U(!0),className:"w-full bg-blue-50 text-blue-700 py-3 rounded-xl font-bold text-sm border border-blue-100 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(qg,{size:16}),"    "]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{placeholder:"  Web App URL ...",className:"w-full p-3 pl-10 border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-green-500 outline-none",value:J,onChange:k=>q(k.target.value)}),s.jsx(L1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),s.jsxs("button",{onClick:ae,disabled:p,className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-70",children:[p?s.jsx(ra,{className:"animate-spin",size:18}):s.jsx(pu,{size:18}),"  "]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative group",children:[s.jsx("div",{className:"bg-purple-50 p-4 border-b border-purple-100 flex items-center justify-between",children:s.jsxs("h2",{className:"font-bold text-purple-900 flex items-center gap-2",children:[s.jsx(b1,{size:20}),"   (JSON)"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px]",children:"          (   ).        ."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:O,className:"w-full bg-purple-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors shadow-sm",children:[s.jsx(gu,{size:20}),"   (Backup)"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".json",ref:B,onChange:I,className:"hidden"}),s.jsxs("button",{onClick:()=>{var k;return(k=B.current)==null?void 0:k.click()},className:"w-full bg-white border-2 border-purple-100 text-purple-700 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-purple-50 transition-colors",children:[s.jsx(ca,{size:20})," /  "]})]})]})]})]})]}),v!=="idle"&&s.jsxs("div",{className:`mt-8 p-4 rounded-xl flex items-start gap-3 animate-in slide-in-from-bottom-2 
                    ${v==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[v==="success"?s.jsx(ys,{size:24,className:"shrink-0 mt-1"}):s.jsx(Zr,{size:24,className:"shrink-0 mt-1"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-bold",children:w})})]})]})},fk=({teachers:n,reportsMap:e,onNavigateToPromotions:i,fullTeacherCount:a,selectedSchool:o})=>{const[d,f]=P.useState("modern"),m=new Date().getFullYear(),x=n.length,p=P.useMemo(()=>x===0?0:(n.reduce((K,C)=>K+(C.lastMark||0),0)/x).toFixed(2),[n]),b=P.useMemo(()=>{const L=new Set;return Object.values(e).forEach(K=>{K.school&&L.add(K.school.trim())}),L.size},[e]),v=P.useMemo(()=>{const L={titulaire:0,contractuel:0,stagiere:0};return n.forEach(K=>{(K.status==="titulaire"||K.status==="contractuel"||K.status==="stagiere")&&L[K.status]++}),L},[n]),N=P.useMemo(()=>{const L={count:0,preparation:{good:0,medium:0,weak:0},objectives:{full:0,partial:0,none:0},registers:{monitored:0,notMonitored:0},board:{organized:0,random:0},notebooks:{good:0,medium:0,bad:0}};return Object.values(e).forEach(K=>{var C,$;if(K.reportModel==="legacy"&&K.legacyData){if(!n.some(A=>A.id===K.teacherId))return;L.count++;const G=K.legacyData.preparationValue;G===""?L.preparation.good++:G===""||G===""?L.preparation.medium++:L.preparation.weak++;const le=K.legacyData.objectivesAchieved;le===" "?L.objectives.full++:le===" "||le===" "?L.objectives.partial++:L.objectives.none++,(C=K.legacyData.registersMonitored)!=null&&C.includes("")?L.registers.monitored++:L.registers.notMonitored++,($=K.legacyData.boardWork)!=null&&$.includes("")?L.board.organized++:L.board.random++;const ie=K.legacyData.notebooksCare;ie===""?L.notebooks.good++:ie===""||ie===""?L.notebooks.medium++:L.notebooks.bad++}}),L},[e,n]),w=P.useMemo(()=>{const L={};n.forEach(C=>{const $=e[C.id];if($&&$.level&&$.studentCount){const G=$.level.trim();L[G]=(L[G]||0)+$.studentCount}});const K=[" "," "," "," "," "," "];return Object.entries(L).map(([C,$])=>({name:C,count:$})).sort((C,$)=>{const G=K.indexOf(C.name),le=K.indexOf($.name);return(G===-1?99:G)-(le===-1?99:le)})},[n,e]),j=P.useMemo(()=>Math.max(...w.map(L=>L.count),1),[w]),E=P.useMemo(()=>{const L={};return n.forEach(K=>{const C=K.degree||" ";L[C]=(L[C]||0)+1}),Object.entries(L).map(([K,C])=>({name:K,count:C})).sort((K,C)=>C.count-K.count).slice(0,6)},[n]),U=P.useMemo(()=>Math.max(...E.map(L=>L.count),1),[E]),J=P.useMemo(()=>{const L=[{label:"  5  ()",min:0,max:5,count:0,color:"bg-blue-400"},{label:"5 - 15  ()",min:5,max:15,count:0,color:"bg-indigo-500"},{label:"15 - 25  ()",min:15,max:25,count:0,color:"bg-purple-500"},{label:"+25  ()",min:25,max:100,count:0,color:"bg-amber-500"}];return n.forEach(K=>{if(K.recruitmentDate){const C=new Date(K.recruitmentDate),$=(new Date().getTime()-C.getTime())/(1e3*60*60*24*365.25),G=L.find(le=>$>=le.min&&$<le.max);G&&G.count++}}),L},[n]),q=P.useMemo(()=>{const L={count:0,tech:0,control:0,pedagogy:0},K={count:0,tech:0,control:0,pedagogy:0},C=["",""," "],$=["","",""," "],G=[""," "," "];n.forEach(ie=>{const A=e[ie.id];if(!A||!ie.recruitmentDate||A.reportModel==="legacy")return;const Q=new Date(ie.recruitmentDate),me=(new Date().getTime()-Q.getTime())/(1e3*60*60*24*365.25)<=10?L:K,ye=Te=>{let Qe=0,De=0;return A.observations.forEach(_t=>{Te.some(wt=>_t.category.includes(wt)||_t.criteria.includes(wt))&&_t.score!==null&&(Qe+=_t.score,De+=2)}),De>0?Qe/De*100:0};me.count++,me.tech+=ye(C),me.control+=ye($),me.pedagogy+=ye(G)});const le=ie=>{ie.count!==0&&(ie.tech/=ie.count,ie.control/=ie.count,ie.pedagogy/=ie.count)};return le(L),le(K),{juniors:L,seniors:K}},[n,e]),B=P.useMemo(()=>{const L=[{label:"  10",min:0,max:9.99,count:0,color:"bg-red-400"},{label:"10 - 12",min:10,max:11.99,count:0,color:"bg-orange-400"},{label:"12 - 14",min:12,max:13.99,count:0,color:"bg-yellow-400"},{label:"14 - 16",min:14,max:15.99,count:0,color:"bg-blue-400"},{label:"  16",min:16,max:20,count:0,color:"bg-green-400"}];n.forEach(C=>{const $=C.lastMark||0,G=L.find(le=>$>=le.min&&$<=le.max);G&&G.count++});const K=Math.max(...L.map(C=>C.count))||1;return{ranges:L,maxCount:K}},[n]),F=P.useMemo(()=>{const L=["","",""," ","",""," "," ",""],K={};return L.forEach(C=>K[C]={sum:0,count:0}),n.forEach(C=>{const $=e[C.id];$&&$.reportModel!=="legacy"&&$.observations.forEach(G=>{let le="";G.category===""?le="":G.category===""?le="":G.category===""?le="":G.category===" "?le=" ":G.category.includes("")?le="":G.category.includes("")?le="":G.category===" "?le=" ":G.category===" "?le=" ":G.category.includes("")&&(le=""),le&&G.score!==null&&(K[le].sum+=G.score,K[le].count+=1)})}),L.map(C=>{const $=K[C],G=$.count>0?$.sum/$.count/2*100:0;return{domain:C,value:G}})},[n,e]),ae=P.useMemo(()=>{const L={};return n.forEach(K=>{const C=e[K.id];C&&C.reportModel!=="legacy"&&C.observations.forEach($=>{$.score!==null&&(L[$.criteria]||(L[$.criteria]={sum:0,count:0,category:$.category}),L[$.criteria].sum+=$.score,L[$.criteria].count+=1)})}),Object.entries(L).map(([K,C])=>({name:K,category:C.category,avg:C.sum/C.count/2*100})).sort((K,C)=>K.avg-C.avg).slice(0,5)},[n,e]),de=P.useMemo(()=>{const L={};return Object.values(e).forEach(K=>{if(K.school&&K.finalMark){const C=K.school.trim();L[C]||(L[C]={totalMark:0,count:0}),L[C].totalMark+=K.finalMark,L[C].count+=1}}),Object.entries(L).map(([K,C])=>({name:K,avg:C.totalMark/C.count,count:C.count})).sort((K,C)=>C.avg-K.avg)},[e]),T=P.useMemo(()=>{if(!o)return null;const L=de.findIndex(K=>K.name===o);return L===-1?null:{rank:L+1,total:de.length,data:de[L]}},[o,de]),O=P.useMemo(()=>n.filter(L=>{if(L.status!=="titulaire"||!L.echelonDate||!L.echelon)return!1;const K=new Date(L.echelonDate);if(isNaN(K.getTime()))return!1;const C=new Date(K);C.setFullYear(K.getFullYear()+2);const $=new Date(m,11,31);if(C>$)return!1;const le=13+parseInt(L.echelon)*.5;if(L.lastMark>=le)return!1;const ie=e[L.id];if(ie){const A=ie.inspectionDate&&ie.inspectionDate.trim()!=="",Q=ie.finalMark!==void 0&&ie.finalMark>0;if(A&&Q)return!1}return!0}).length,[n,m,e]),I=x||1,k=v.titulaire/I*100,R=k+v.contractuel/I*100,ee=`conic-gradient(#10b981 0% ${k}%, #f97316 ${k}% ${R}%, #3b82f6 ${R}% 100%)`,Z=L=>{if(L.length===0)return"";const K=L.length,C=80,$=100,G=100;return L.map((le,ie)=>{const A=Math.PI*2*ie/K-Math.PI/2,Q=Math.max(le.value,10),ce=$+C*(Q/100)*Math.cos(A),fe=G+C*(Q/100)*Math.sin(A);return`${ce},${fe}`}).join(" ")};return s.jsxs("div",{className:"p-8 h-full overflow-y-auto bg-gray-50/50",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 border-b pb-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-serif",children:"   "}),o&&s.jsxs("p",{className:"text-indigo-600 font-bold mt-1 flex items-center gap-2 animate-in slide-in-from-right-4",children:[s.jsx(un,{size:16}),"  : ",o]})]}),s.jsxs("div",{className:"bg-white p-1 rounded-xl border border-gray-200 shadow-sm flex",children:[s.jsxs("button",{onClick:()=>f("modern"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${d==="modern"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(R1,{size:16}),"  ()"]}),s.jsxs("button",{onClick:()=>f("legacy"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${d==="legacy"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(k1,{size:16}),"  ()"]})]})]}),o&&T&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-800 rounded-2xl shadow-xl p-6 text-white mb-8 animate-in zoom-in-95 duration-500 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:s.jsx(Ev,{size:150})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10",children:[s.jsxs("div",{className:"flex-1 border-l border-white/20 pl-6",children:[s.jsx("h2",{className:"text-2xl font-bold font-serif mb-2",children:o}),s.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-4",children:[s.jsx(Hg,{size:16}),s.jsx("span",{className:"text-sm",children:"  "})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center min-w-[80px]",children:[s.jsx("span",{className:"block text-2xl font-bold text-yellow-400",children:T.data.avg.toFixed(2)}),s.jsx("span",{className:"text-[10px] uppercase opacity-70",children:" "})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center min-w-[80px]",children:[s.jsx("span",{className:"block text-2xl font-bold",children:T.data.count}),s.jsx("span",{className:"text-[10px] uppercase opacity-70",children:" "})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 border-l border-white/20 pl-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs uppercase opacity-70 mb-1",children:" "}),s.jsxs("div",{className:"flex items-baseline gap-1 justify-center",children:[s.jsx("span",{className:"text-4xl font-bold",children:T.rank}),s.jsxs("span",{className:"text-sm opacity-60",children:["/ ",T.total]})]})]}),s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center border-4 ${T.rank===1?"border-yellow-400 text-yellow-400":T.rank<=3?"border-gray-300 text-gray-300":"border-indigo-400 text-indigo-300"}`,children:s.jsx(VN,{size:32})})]}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[s.jsxs("p",{className:"text-sm italic opacity-90 mb-2",children:['"',T.rank===1?" !    .":T.rank>T.total/2?"      .":"      .",'"']}),s.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mt-2",children:s.jsx("div",{className:`h-2 rounded-full ${T.rank===1?"bg-yellow-400":"bg-blue-400"}`,style:{width:`${T.data.avg/20*100}%`}})}),s.jsx("span",{className:"text-[10px] mt-1 text-right opacity-60",children:"  "})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-blue-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:o?" ":" "}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:x})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:s.jsx(da,{size:24})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-green-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:" "}),s.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[p,s.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"/20"})]})]}),s.jsx("div",{className:"bg-green-50 p-3 rounded-full text-green-600",children:s.jsx($d,{size:24})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-purple-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:""}),s.jsx("p",{className:"text-3xl font-bold text-purple-900",children:o?"1":b})]}),s.jsx("div",{className:"bg-purple-50 p-3 rounded-full text-purple-600",children:s.jsx(un,{size:24})})]}),s.jsxs("div",{onClick:i,className:"bg-indigo-600 p-6 rounded-2xl shadow-md border border-indigo-700 flex items-center justify-between cursor-pointer hover:bg-indigo-700 transition-colors group relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10 text-white",children:[s.jsx("p",{className:"text-indigo-200 text-sm font-bold mb-1",children:" "}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("p",{className:"text-3xl font-bold",children:O}),s.jsx("span",{className:"text-xs mb-1.5 opacity-80",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-indigo-100 font-bold group-hover:translate-x-[-2px] transition-transform",children:[s.jsx("span",{children:" "}),s.jsx(hu,{size:10})]})]}),s.jsx("div",{className:`bg-indigo-500/50 p-3 rounded-full text-white relative z-10 ${O>0?"animate-pulse":""}`,children:s.jsx(Yd,{size:24})}),s.jsx(Yd,{size:80,className:"absolute -bottom-4 -left-4 text-indigo-500 opacity-20"})]})]}),d==="legacy"&&s.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:N.count===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(Kl,{size:48,className:"mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"      ."})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-orange-100",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Kl,{className:"text-orange-500",size:20}),"  "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"font-bold text-gray-700",children:" "}),s.jsx("span",{className:"font-bold text-green-600",children:N.preparation.good})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:s.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${N.preparation.good/N.count*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"font-bold text-gray-700",children:" / "}),s.jsx("span",{className:"font-bold text-yellow-600",children:N.preparation.medium})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:s.jsx("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:`${N.preparation.medium/N.count*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"font-bold text-gray-700",children:" / "}),s.jsx("span",{className:"font-bold text-red-600",children:N.preparation.weak})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:s.jsx("div",{className:"bg-red-500 h-2.5 rounded-full",style:{width:`${N.preparation.weak/N.count*100}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-blue-100",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(no,{className:"text-blue-500",size:20}),"  "]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{className:"text-gray-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),s.jsx("path",{className:"text-blue-500",strokeDasharray:`${N.objectives.full/N.count*100}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"})]}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[Math.round(N.objectives.full/N.count*100),"%"]}),s.jsx("span",{className:"text-[10px] text-gray-500",children:" "})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("span",{children:[" (",N.objectives.full,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),s.jsxs("span",{children:["/  (",N.objectives.partial+N.objectives.none,")"]})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-purple-100",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Yg,{className:"text-purple-500",size:20}),"  "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-xs text-purple-800 font-bold mb-2",children:" "}),s.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(N.registers.monitored/N.count*100),"%"]}),s.jsx("p",{className:"text-[10px] text-gray-500",children:" "})]}),s.jsxs("div",{className:"bg-indigo-50 p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-xs text-indigo-800 font-bold mb-2",children:" "}),s.jsxs("div",{className:"text-2xl font-bold text-indigo-900",children:[Math.round(N.board.organized/N.count*100),"%"]}),s.jsx("p",{className:"text-[10px] text-gray-500",children:" "})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-teal-100",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Vt,{className:"text-teal-500",size:20}),"  "]}),s.jsxs("div",{className:"flex items-end justify-between h-32 px-4 gap-4",children:[s.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[s.jsx("div",{className:"w-full bg-teal-500 rounded-t-lg transition-all",style:{height:`${N.notebooks.good/N.count*100}%`}}),s.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:N.notebooks.good}),s.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]}),s.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[s.jsx("div",{className:"w-full bg-yellow-400 rounded-t-lg transition-all",style:{height:`${N.notebooks.medium/N.count*100}%`}}),s.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:N.notebooks.medium}),s.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]}),s.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[s.jsx("div",{className:"w-full bg-red-400 rounded-t-lg transition-all",style:{height:`${N.notebooks.bad/N.count*100}%`}}),s.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:N.notebooks.bad}),s.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]})]})]})]})}),d==="modern"&&s.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-red-100 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-red-400"}),s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(oa,{className:"text-red-500",size:20}),"  ( )"]}),s.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"     "}),s.jsx("div",{className:"space-y-4",children:ae.length>0?ae.map((L,K)=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[s.jsx("span",{className:"font-bold text-gray-700 truncate ml-2",title:L.name,children:L.name}),s.jsxs("span",{className:"font-bold text-red-600 text-xs",children:[L.avg.toFixed(0),"% "]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:s.jsx("div",{className:"bg-red-400 h-2 rounded-full transition-all duration-1000",style:{width:`${L.avg}%`}})}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:L.category})]},K)):s.jsxs("div",{className:"text-center py-10 text-gray-400",children:[s.jsx(ys,{size:40,className:"mx-auto mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"     "})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(hN,{className:"text-indigo-500",size:20}),"  (",o?"":" ",")"]}),s.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"     "}),s.jsx("div",{className:"flex justify-center relative",children:s.jsxs("svg",{viewBox:"0 0 200 200",className:"w-64 h-64 overflow-visible",children:[[20,40,60,80,100].map(L=>s.jsx("circle",{cx:"100",cy:"100",r:L*.8,fill:"none",stroke:"#e5e7eb",strokeDasharray:"4 4"},L)),F.map((L,K)=>{const C=Math.PI*2*K/F.length-Math.PI/2,$=100+80*Math.cos(C),G=100+80*Math.sin(C);return s.jsx("line",{x1:"100",y1:"100",x2:$,y2:G,stroke:"#f3f4f6"},K)}),s.jsx("polygon",{points:Z(F),fill:"rgba(79, 70, 229, 0.2)",stroke:"#4f46e5",strokeWidth:"2"}),F.map((L,K)=>{const C=Math.PI*2*K/F.length-Math.PI/2,$=100+95*Math.cos(C),G=100+95*Math.sin(C);return s.jsx("text",{x:$,y:G,textAnchor:"middle",dominantBaseline:"middle",className:"text-[8px] font-bold fill-gray-600",children:L.domain},K)})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(Vt,{className:"text-blue-500",size:20}),"   "]}),s.jsx("div",{className:"flex-1 flex items-end justify-between gap-4 px-2 pb-2 min-h-[150px]",children:w.length>0?w.map((L,K)=>{const C=L.count/j*100;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative z-10 h-full",children:[s.jsxs("div",{className:"mb-1 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] font-bold bg-gray-800 text-white px-1.5 py-0.5 rounded absolute -top-8 whitespace-nowrap z-20",children:[L.count," "]}),s.jsx("div",{className:"w-full bg-blue-100 rounded-t-md hover:bg-blue-300 transition-all duration-500 relative",style:{height:`${C>10?C:10}%`},children:s.jsx("div",{className:"absolute bottom-1 w-full text-center text-[9px] font-bold text-blue-700",children:L.count})}),s.jsx("p",{className:"text-[9px] text-gray-500 mt-2 text-center h-8 leading-tight flex items-center justify-center",children:L.name.replace("","")})]},K)}):s.jsx("div",{className:"w-full text-center text-gray-300 text-sm italic",children:"    "})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(Jd,{className:"text-emerald-500",size:20})," "]}),s.jsx("div",{className:"space-y-4",children:E.length>0?E.map((L,K)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[s.jsx("span",{className:"font-bold text-gray-700 truncate text-xs",title:L.name,children:L.name}),s.jsx("span",{className:"font-bold text-gray-500 text-xs",children:L.count})]}),s.jsx("div",{className:"w-full bg-gray-50 rounded-full h-2",children:s.jsx("div",{className:"bg-emerald-400 h-2 rounded-full transition-all duration-1000",style:{width:`${L.count/U*100}%`}})})]},K)):s.jsx("div",{className:"text-center text-gray-300 text-sm italic py-8",children:"   "})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 md:col-span-2 flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(uu,{className:"text-amber-500",size:20}),"  "]}),s.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"    "}),s.jsx("div",{className:"flex flex-col gap-1 items-center",children:J.slice().reverse().map((L,K)=>{const C=x>0?L.count/x*100:0,$=Math.max(C,15);return s.jsxs("div",{className:"w-full flex justify-center group relative",children:[s.jsx("div",{className:`h-8 ${L.color} rounded-sm flex items-center justify-center text-white text-xs font-bold transition-all hover:scale-105 cursor-pointer shadow-sm`,style:{width:`${$}%`,minWidth:"120px"},title:`${L.label}: ${L.count} `,children:L.count}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 pr-2 text-[10px] text-gray-400 w-32 hidden md:block",children:L.label})]},K)})}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center mt-4 md:hidden",children:J.map((L,K)=>s.jsxs("div",{className:"flex items-center gap-1 text-[9px]",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${L.color}`}),s.jsx("span",{children:L.label})]},K))})]}),s.jsx("div",{className:"w-px bg-gray-100 hidden md:block"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(h1,{className:"text-cyan-500",size:20})," :   "]}),s.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"    "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[s.jsx(nN,{size:12}),"  "]})}),s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),s.jsx("div",{className:"w-1/2 flex justify-end",children:s.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.tech}%`}})}),s.jsx("div",{className:"w-1/2 flex justify-start",children:s.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.tech}%`}})})]}),s.jsxs("div",{className:"flex justify-between text-[9px] mt-1 text-gray-400",children:[s.jsx("span",{children:" (  10)"}),s.jsx("span",{children:" (  10)"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[s.jsx(Jg,{size:12}),"   "]})}),s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),s.jsx("div",{className:"w-1/2 flex justify-end",children:s.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.control}%`}})}),s.jsx("div",{className:"w-1/2 flex justify-start",children:s.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.control}%`}})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[s.jsx(eo,{size:12}),"  "]})}),s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),s.jsx("div",{className:"w-1/2 flex justify-end",children:s.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.pedagogy}%`}})}),s.jsx("div",{className:"w-1/2 flex justify-start",children:s.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.pedagogy}%`}})})]})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col",children:[s.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx($d,{className:"text-blue-500",size:20}),"  "]}),s.jsx("div",{className:"flex-1 flex items-end justify-between gap-2 px-2 pb-2 border-b border-gray-100 relative min-h-[150px]",children:B.ranges.map((L,K)=>{const C=L.count/B.maxCount*100;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative z-10 h-full",children:[s.jsx("div",{className:"mb-1 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] font-bold bg-gray-800 text-white px-1.5 py-0.5 rounded absolute -top-6",children:L.count}),s.jsx("div",{className:`w-full ${L.color} rounded-t-md transition-all duration-500 hover:opacity-80`,style:{height:`${C>5?C:5}%`}})]},K)})}),s.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mt-2 px-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-dashed",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-3",children:" "}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsx("div",{className:"relative w-16 h-16 rounded-full border-4 border-gray-100",style:{background:x>0?ee:"#e5e7eb"}}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),s.jsxs("span",{className:"text-gray-600",children:[" (",v.titulaire,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-gray-600",children:[" (",v.contractuel,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-gray-600",children:[" (",v.stagiere,")"]})]})]})]})]})]})]})})]})},Dg=({teachers:n,reportsMap:e})=>{const[i,a]=P.useState(new Date().getFullYear()),o=P.useMemo(()=>n.filter(f=>{if(f.status!=="titulaire"||!f.echelonDate||!f.echelon)return!1;const m=new Date(f.echelonDate);if(isNaN(m.getTime()))return!1;const x=new Date(m);x.setFullYear(m.getFullYear()+2);const p=new Date(i,11,31);if(x>p)return!1;const v=13+parseInt(f.echelon)*.5;if(f.lastMark>=v)return!1;const N=e[f.id];if(N){const w=N.inspectionDate&&N.inspectionDate.trim()!=="",j=N.finalMark!==void 0&&N.finalMark>0;if(w&&j)return!1}return!0}).map(f=>{var b;const x=13+parseInt(f.echelon||"0")*.5,p=((b=e[f.id])==null?void 0:b.school)||" ";return{...f,maxAllowedMark:x,schoolName:p}}),[n,i,e]),d=()=>{window.print()};return s.jsxs("div",{className:"p-8 h-full overflow-y-auto bg-gray-50/50",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b pb-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-serif flex items-center gap-3",children:[s.jsx(Vr,{className:"text-indigo-600",size:32}),"  "]}),s.jsx("p",{className:"text-gray-500 mt-2",children:"          (        )."})]}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs("div",{className:"bg-white border border-indigo-200 rounded-lg p-1 flex items-center shadow-sm",children:[s.jsx("button",{onClick:()=>a(f=>f-1),className:"p-2 hover:bg-gray-100 rounded-md text-indigo-600",children:s.jsx(mu,{size:20})}),s.jsxs("div",{className:"px-4 text-center",children:[s.jsx("span",{className:"text-xs text-gray-400 block font-bold",children:" "}),s.jsx("span",{className:"text-xl font-bold text-indigo-800",children:i})]}),s.jsx("button",{onClick:()=>a(f=>f+1),className:"p-2 hover:bg-gray-100 rounded-md text-indigo-600",children:s.jsx(hu,{size:20})})]}),s.jsxs("button",{onClick:d,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-3 rounded-lg font-bold flex items-center gap-2 shadow-sm",children:[s.jsx(Wl,{size:18}),""]})]})]}),o.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map(f=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-indigo-100 overflow-hidden hover:shadow-md transition-all group",children:[s.jsxs("div",{className:"bg-indigo-50/50 p-4 border-b border-indigo-100 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:f.fullName}),s.jsxs("div",{className:"flex items-center gap-1.5 text-indigo-700 text-sm mt-1 font-medium",children:[s.jsx(un,{size:14}),s.jsx("span",{children:f.schoolName})]})]}),s.jsxs("div",{className:"bg-white border border-indigo-200 text-indigo-800 text-xs px-3 py-1 rounded-full font-bold shadow-sm",children:[" ",f.echelon]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Og,{size:16,className:"text-gray-400"}),s.jsx("span",{children:" "})]}),s.jsx("span",{className:"font-mono font-bold text-gray-800",children:f.echelonDate})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[s.jsxs("div",{className:"text-center p-2 rounded-lg bg-green-50 border border-green-100",children:[s.jsx("span",{className:"text-xs text-green-700 block mb-1",children:" "}),s.jsx("span",{className:"text-xl font-bold text-green-800",children:f.lastMark})]}),s.jsxs("div",{className:"text-center p-2 rounded-lg bg-red-50 border border-red-100",children:[s.jsx("span",{className:"text-xs text-red-700 block mb-1",children:" "}),s.jsx("span",{className:"text-xl font-bold text-red-800",children:f.maxAllowedMark})]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t border-dashed flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(fa,{size:14,className:"text-green-500"}),s.jsx("span",{children:"  : "}),s.jsxs("span",{className:"font-bold text-gray-800",children:[(f.maxAllowedMark-f.lastMark).toFixed(2)," "]})]})]})]},f.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[s.jsx(ys,{size:64,className:"text-green-500 mb-4 opacity-20"}),s.jsxs("h3",{className:"text-xl font-bold text-gray-400",children:["      ",i]}),s.jsx("p",{className:"text-gray-400 mt-2",children:"             (   )."})]}),s.jsxs("div",{className:"hidden print:block fixed inset-0 bg-white z-50 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"    ( )"}),s.jsxs("p",{className:"font-bold border-2 border-black inline-block px-4 py-1 mt-2",children:["  ",i," (  31/12/",i,")"]})]}),s.jsxs("table",{className:"w-full border-collapse border border-black text-sm",dir:"rtl",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-2",children:""}),s.jsx("th",{className:"border border-black p-2",children:" "}),s.jsx("th",{className:"border border-black p-2",children:""}),s.jsx("th",{className:"border border-black p-2",children:""}),s.jsx("th",{className:"border border-black p-2",children:""}),s.jsx("th",{className:"border border-black p-2",children:" "}),s.jsx("th",{className:"border border-black p-2",children:""}),s.jsx("th",{className:"border border-black p-2",children:" "})]})}),s.jsx("tbody",{children:o.map((f,m)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-2 text-center",children:m+1}),s.jsx("td",{className:"border border-black p-2 font-bold",children:f.fullName}),s.jsx("td",{className:"border border-black p-2",children:f.schoolName}),s.jsx("td",{className:"border border-black p-2 text-center",children:f.echelon}),s.jsx("td",{className:"border border-black p-2 text-center",children:f.echelonDate}),s.jsx("td",{className:"border border-black p-2 text-center",children:f.lastMark}),s.jsx("td",{className:"border border-black p-2 text-center",children:f.maxAllowedMark}),s.jsxs("td",{className:"border border-black p-2 text-center",children:["+",(f.maxAllowedMark-f.lastMark).toFixed(2)]})]},f.id))})]})]})]})},hk=({teacher:n,isOpen:e,onClose:i,onStartInspection:a,onStartLegacyInspection:o,onStartTenure:d,onUpdateTeacher:f})=>{const[m,x]=P.useState("");if(P.useEffect(()=>{n&&x(n.tenureDate||"")},[n]),!n)return null;const p=()=>{f&&f({...n,tenureDate:m})},b=E=>E?new Date(E).toLocaleDateString("ar-DZ",{year:"numeric",month:"long",day:"numeric"}):" ",N=(E=>{if(!E)return 0;const U=new Date(E),q=new Date().getTime()-U.getTime();return Math.floor(q/(1e3*60*60*24*365.25))})(n.recruitmentDate);let w=null;if(n.echelonDate){const E=new Date(n.echelonDate);E.setFullYear(E.getFullYear()+2),w=E}const j=w?w<=new Date:!1;return s.jsxs("div",{className:`fixed inset-0 z-[100] flex justify-end transition-all duration-500 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[s.jsx("div",{className:`absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,onClick:i}),s.jsxs("div",{className:`relative w-full max-w-md bg-gray-50 h-full shadow-2xl transform transition-transform duration-500 cubic-bezier(0.32, 0.72, 0, 1) flex flex-col border-l border-white/10 ${e?"translate-x-0":"translate-x-full"}`,dir:"rtl",children:[s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white p-6 pb-8 relative overflow-hidden shrink-0",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-indigo-500/10 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),s.jsx("button",{onClick:i,className:"absolute top-5 left-5 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-all text-white/80 hover:text-white backdrop-blur-md",children:s.jsx(On,{size:20})}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center mt-2",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"w-24 h-24 bg-white text-blue-900 rounded-full flex items-center justify-center text-4xl font-bold shadow-xl border-4 border-white/20 backdrop-blur-sm",children:n.fullName.charAt(0)}),s.jsx("div",{className:`absolute bottom-0 right-0 w-7 h-7 rounded-full border-4 border-slate-900 flex items-center justify-center text-white text-[10px]
                                ${n.status==="titulaire"?"bg-emerald-500":n.status==="contractuel"?"bg-orange-500":"bg-blue-500"}`,title:n.status==="titulaire"?"":" ",children:s.jsx(Jg,{size:14})})]}),s.jsx("h2",{className:"text-2xl font-bold font-serif tracking-wide",children:n.fullName}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-blue-200 text-xs font-medium bg-blue-950/50 px-3 py-1 rounded-full border border-blue-800/50",children:[s.jsx(uu,{size:12}),s.jsx("span",{children:n.rank})]})]})]}),s.jsxs("div",{className:"px-6 -mt-6 relative z-20 grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),s.jsx("span",{className:"text-xl font-bold text-slate-800",children:n.echelon||"-"})]}),s.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),s.jsxs("div",{className:"flex items-baseline gap-0.5",children:[s.jsx("span",{className:`text-xl font-bold ${n.lastMark>=16?"text-emerald-600":n.lastMark>=13?"text-blue-600":"text-orange-600"}`,children:n.lastMark}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"/20"})]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),s.jsxs("span",{className:"text-xl font-bold text-indigo-700",children:[N," ",s.jsx("span",{className:"text-[10px] font-normal text-gray-400",children:""})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:s.jsx(_1,{size:20})}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:" "})]}),s.jsxs("div",{className:"relative border-r-2 border-indigo-100 mr-3 space-y-8 pb-2",children:[s.jsxs("div",{className:"relative pr-8 group",children:[s.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-gray-300 group-hover:border-indigo-500 transition-colors z-10"}),s.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-indigo-100 group-hover:translate-x-[-4px]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"font-bold text-gray-800 text-sm",children:" "}),s.jsx("span",{className:"text-[10px] font-mono bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:b(n.recruitmentDate)})]}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Bs,{size:12,className:"text-gray-400"}),"  "]})]})]}),n.status==="stagiere"&&s.jsxs("div",{className:"relative pr-8 group",children:[s.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-blue-300 group-hover:border-blue-500 transition-colors z-10"}),s.jsxs("div",{className:"bg-blue-50/30 p-4 rounded-2xl shadow-sm border border-blue-100 hover:shadow-md transition-all group-hover:translate-x-[-4px]",children:[s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsxs("p",{className:"font-bold text-blue-900 text-sm flex items-center gap-1",children:[s.jsx(Jd,{size:14}),"   "]})}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("input",{type:"date",value:m,onChange:E=>x(E.target.value),onBlur:p,className:"bg-white border border-blue-200 rounded px-2 py-1 text-xs outline-none focus:ring-1 focus:ring-blue-400 flex-1"})}),s.jsx("p",{className:"text-[9px] text-blue-600 mt-1",children:"     "})]})]}),n.currentRankDate&&s.jsxs("div",{className:"relative pr-8 group",children:[s.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-purple-300 group-hover:border-purple-500 transition-colors z-10"}),s.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-purple-100 group-hover:translate-x-[-4px]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"   "}),s.jsx("span",{className:"text-[10px] font-mono bg-purple-50 text-purple-700 px-2 py-0.5 rounded-full",children:b(n.currentRankDate)})]}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx($d,{size:12,className:"text-purple-400"}),n.rank]})]})]}),n.lastInspectionDate&&s.jsxs("div",{className:"relative pr-8 group",children:[s.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-blue-100 rounded-full border-[3px] border-blue-500 z-10 shadow-sm"}),s.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-2xl shadow-sm border border-blue-100 hover:shadow-md transition-all group-hover:translate-x-[-4px]",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"font-bold text-blue-900 text-sm",children:"  "}),s.jsx("span",{className:"text-[10px] font-mono bg-white text-blue-700 px-2 py-0.5 rounded-full shadow-sm border border-blue-100",children:b(n.lastInspectionDate)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg border border-blue-100",children:[s.jsx(Kg,{size:12,className:"text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.lastMark})]}),s.jsx("span",{className:"text-[10px] text-blue-400",children:" "})]})]})]}),w&&n.status==="titulaire"&&s.jsxs("div",{className:"relative pr-8 group",children:[s.jsx("div",{className:`absolute -right-[9px] top-1 w-4 h-4 rounded-full border-[3px] z-10 ${j?"bg-orange-100 border-orange-500 animate-pulse":"bg-gray-100 border-gray-300"}`}),s.jsxs("div",{className:`p-4 rounded-2xl border border-dashed transition-all group-hover:translate-x-[-4px] ${j?"bg-orange-50/50 border-orange-300":"bg-transparent border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("p",{className:`font-bold text-sm ${j?"text-orange-800":"text-gray-500"}`,children:["  ( ",parseInt(n.echelon||"0")+1,")"]}),j&&s.jsx(Zr,{size:14,className:"text-orange-500"})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[s.jsx(Bv,{size:12}),"  : ",b(n.echelonDate||"")]}),j&&s.jsx("p",{className:"text-[10px] font-bold text-orange-600 mt-2 bg-white/50 inline-block px-2 py-1 rounded",children:"  (  )"})]})]})]})]}),s.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 shrink-0 space-y-3 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] relative z-30",children:[s.jsxs("button",{onClick:()=>a(n),className:"w-full bg-slate-900 text-white font-bold text-base py-3.5 rounded-xl shadow-lg shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 hover:scale-[1.01] active:scale-[0.99] group",children:[s.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"   "}),s.jsx(Pg,{size:18,className:"text-blue-400"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o&&s.jsxs("button",{onClick:()=>o(n),className:"w-full bg-amber-500 text-white font-bold text-xs py-3 rounded-xl shadow-md hover:bg-amber-600 transition-all flex items-center justify-center gap-2 border-b-4 border-amber-700 active:border-b-0 active:translate-y-1 group",children:[s.jsx(NN,{size:18,className:"text-amber-100 group-hover:rotate-12 transition-transform"}),s.jsx("span",{children:" "})]}),n.status==="stagiere"&&d?s.jsxs("button",{onClick:()=>d(n),className:"w-full bg-emerald-600 text-white font-bold text-xs py-3 rounded-xl shadow-md hover:bg-emerald-700 transition-all flex items-center justify-center gap-2 border-b-4 border-emerald-800 active:border-b-0 active:translate-y-1",children:[s.jsx(Jd,{size:16}),s.jsx("span",{children:" "})]}):s.jsx("button",{onClick:i,className:"w-full text-slate-400 font-bold text-xs py-3 hover:text-slate-600 transition-colors",children:" "})]})]})]})]})},Hd=n=>{if(n==null)return null;const e=String(n).trim();if(e.length>3)return null;if(["","A","a"].includes(e))return"A";if(["","B","b"].includes(e))return"B";if(["","C","c"].includes(e))return"C";if(["","D","d"].includes(e))return"D";if(e.length<=2){if(e.startsWith("")||e.toUpperCase().startsWith("A"))return"A";if(e.startsWith("")||e.toUpperCase().startsWith("B"))return"B";if(e.startsWith("")||e.toUpperCase().startsWith("C"))return"C";if(e.startsWith("")||e.toUpperCase().startsWith("D"))return"D"}return null},Ig=n=>n?n.replace(/["']/g,"").replace(/\s+/g," ").trim():"",Vd=n=>{const e=n.toLowerCase();return e.includes("")||e.includes("")||e.includes("")||e.includes("")||e.includes("total")||e.includes("moyenne")||e.includes("pourcentage")},mk=(n,e,i)=>{if(typeof XLSX>"u")return console.error("SheetJS not loaded."),[];const a=[],o=XLSX.read(n,{type:"array"}),d=o.SheetNames[0],f=o.Sheets[d],m=XLSX.utils.sheet_to_json(f,{header:1});if(!m||m.length===0)return[];for(let x=0;x<m.length;x++){const p=m[x];if(!p||p.length<2)continue;let b="";const v=[];let N=-1;for(let w=0;w<Math.min(p.length,6);w++){const j=String(p[w]||"").trim();if(/^[\d\/\-\.]+$/.test(j)||j.length<3||Hd(j))continue;if(Vd(j)){b="";break}const E=String(p[w+1]||"").trim(),U=!!Hd(E),J=/^[\d\/\-\.]+$/.test(E);if(E.length>2&&!U&&!Vd(E)&&!J?b=Ig(j+" "+E):b=Ig(j),b){N=w;break}}if(!(b.includes("")||b.includes("")||b.includes("Nom"))&&!Vd(b)&&b){for(let w=0;w<p.length;w++){if(w<=N+1)continue;const j=Hd(p[w]);j&&v.push(j)}e==="2AP"&&i.includes("")?v.length>=4&&a.push({id:Math.random().toString(36).substr(2,9),fullName:b,results:{reading_performance:{1:v[0]||null,2:v[1]||null,3:v[2]||null},written_comprehension:{1:v[3]||null,2:v[4]||null,3:v[5]||null,4:v[6]||null,5:v[7]||null}}}):e==="2AP"&&i.includes("")?v.length>=3&&a.push({id:Math.random().toString(36).substr(2,9),fullName:b,results:{control_numbers:{1:v[0]||null,2:v[1]||null},problem_solving:{1:v[2]||null,2:v[3]||null,3:v[4]||null,4:v[5]||null}}}):v.length>=2&&a.push({id:Math.random().toString(36).substr(2,9),fullName:b,results:{generic:{1:v[0]||null}}})}}return a},Iu="mufattish_acq_db",xs=()=>{const n=localStorage.getItem(Iu);if(!n)return{records:[]};try{return JSON.parse(n)}catch{return{records:[]}}},pk=n=>{const e=xs(),i=e.records.findIndex(a=>a.id===n.id);i>=0?e.records[i]=n:e.records.push(n),localStorage.setItem(Iu,JSON.stringify(e))},gk=n=>{const e=xs();e.records=e.records.filter(i=>i.id!==n),localStorage.setItem(Iu,JSON.stringify(e))},ea={label:"  ( )",competencies:[{id:"reading_performance",label:"  ",criteria:[{id:1,label:"   "},{id:2,label:"   ( )"},{id:3,label:"    (  )"}]},{id:"written_comprehension",label:"  ",criteria:[{id:1,label:"    "},{id:2,label:"       "},{id:3,label:"      ( )"},{id:4,label:"     "},{id:5,label:"   ()"}]}]},xk=({records:n,scope:e,contextName:i})=>{const[a,o]=P.useState(null),[d,f]=P.useState(null),[m,x]=P.useState(null),p=P.useMemo(()=>n.flatMap(T=>T.students.map(O=>({...O,className:T.className,schoolName:T.schoolName}))),[n]),b=p.length,v=(T,O,I)=>{if(!T.results)return null;const k=T.results[O];return k?k[I]||k[String(I)]:null},N=P.useMemo(()=>p.map(T=>{let O=0,I=0,k=0,R=0,ee=0,Z=0;ea.competencies.forEach($=>{$.criteria.forEach(G=>{const le=v(T,$.id,G.id);if(le){const ie=le==="A"?3:le==="B"?2:le==="C"?1:0;I+=3,O+=ie,$.id==="reading_performance"?(k+=ie,R+=3):(ee+=ie,Z+=3)}})});const L=I>0?O/I*100:0,K=R>0?k/R*100:0,C=Z>0?ee/Z*100:0;return{...T,percent:L,oralPct:K,writtenPct:C}}),[p]);P.useMemo(()=>{const T={};p.forEach(I=>{const k=e==="district"?I.schoolName:I.className;T[k]||(T[k]={name:k,stats:{A:0,B:0,C:0,D:0,total:0},scores:{reading:0,writing:0,global:0}})});const O={};return N.forEach(I=>{const k=e==="district"?I.schoolName:I.className;O[k]||(O[k]={orals:[],writtens:[],globals:[]}),O[k].orals.push(I.oralPct),O[k].writtens.push(I.writtenPct),O[k].globals.push(I.percent)}),Object.keys(T).forEach(I=>{const k=O[I];k&&k.globals.length>0&&(T[I].scores.global=k.globals.reduce((R,ee)=>R+ee,0)/k.globals.length,T[I].scores.reading=k.orals.reduce((R,ee)=>R+ee,0)/k.orals.length,T[I].scores.writing=k.writtens.reduce((R,ee)=>R+ee,0)/k.writtens.length)}),Object.values(T).sort((I,k)=>k.scores.global-I.scores.global)},[p,N,e]);const w=P.useMemo(()=>{let T=0,O=0,I=0;return N.forEach(k=>{k.percent>=66?T++:k.percent>=33?O++:I++}),{controlled:T,partial:O,limited:I}},[N]),j=P.useMemo(()=>{if(N.length===0)return 0;const T=N.reduce((I,k)=>I+k.percent,0)/N.length,O=N.reduce((I,k)=>I+Math.pow(k.percent-T,2),0)/N.length;return Math.sqrt(O)},[N]),E=P.useMemo(()=>{const T={A:0,B:0,C:0,D:0,total:0};return p.forEach(O=>{ea.competencies.forEach(I=>{I.criteria.forEach(k=>{const R=v(O,I.id,k.id);R&&(T[R]++,T.total++)})})}),T.total===0&&(T.total=1),T},[p]),U=P.useMemo(()=>{const T={balanced_high:0,rote_reading:0,struggling:0,decoding_issue:0,total:0};return N.forEach(O=>{const I=O.oralPct>=50,k=O.writtenPct>=50;I&&k?T.balanced_high++:I&&!k?T.rote_reading++:!I&&!k?T.struggling++:T.decoding_issue++,T.total++}),T},[N]),J=P.useMemo(()=>ea.competencies.flatMap(T=>T.criteria.map(O=>{const I={A:0,B:0,C:0,D:0,total:0};p.forEach(R=>{const ee=v(R,T.id,O.id);ee&&(I[ee]++,I.total++)});const k=I.total?(I.A+I.B)/I.total*100:0;return{...O,compId:T.id,stats:I,successRate:k}})).sort((T,O)=>T.successRate-O.successRate),[p]),q=()=>{const T=E.A,O=E.B,I=E.C+E.D,k=E.total;o({title:"  ",definition:"     .         ()     ()    (/).",pedagogicalRef:"   ' '.       .    ()     .",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"bg-emerald-500/20 p-2 rounded border border-emerald-500/50",children:[s.jsxs("span",{className:"block text-2xl font-bold text-emerald-400",children:[Math.round(T/k*100),"%"]}),s.jsx("span",{className:"text-[10px] text-emerald-200",children:" "})]}),s.jsxs("div",{className:"bg-blue-500/20 p-2 rounded border border-blue-500/50",children:[s.jsxs("span",{className:"block text-2xl font-bold text-blue-400",children:[Math.round(O/k*100),"%"]}),s.jsx("span",{className:"text-[10px] text-blue-200",children:" "})]}),s.jsxs("div",{className:"bg-red-500/20 p-2 rounded border border-red-500/50",children:[s.jsxs("span",{className:"block text-2xl font-bold text-red-400",children:[Math.round(I/k*100),"%"]}),s.jsx("span",{className:"text-[10px] text-red-200",children:" (+)"})]})]}),s.jsx("div",{className:"p-3 bg-white/5 rounded border border-white/10 text-sm leading-relaxed text-gray-300 font-medium",children:T+O>I?"    ( ).                 .":"    ().           ."})]})})},B=()=>{o({title:"   ",definition:"         .       .",pedagogicalRef:"  ' '.            .      .",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-lg border border-white/10",children:[s.jsx("span",{className:"text-gray-300",children:" :"}),s.jsx("span",{className:"text-2xl font-bold text-purple-400 font-mono",children:j.toFixed(2)})]}),s.jsx("div",{className:"text-sm text-gray-300 leading-relaxed space-y-2",children:j<15?s.jsxs("p",{children:[s.jsx("strong",{className:"text-emerald-400",children:"  :"}),"    .      ."]}):j<25?s.jsxs("p",{children:[s.jsx("strong",{className:"text-yellow-400",children:"  ( ):"}),"         ."]}):s.jsxs("p",{children:[s.jsx("strong",{className:"text-purple-400",children:"  ( ):"}),"      .        ( )."]})})]})})},F=()=>{const T=U.total||1,O=Math.round(U.rote_reading/T*100),I=Math.round(U.decoding_issue/T*100);o({title:"  (/)",definition:"    ' '  ' '.     (      ).",pedagogicalRef:"    (Simple View of Reading).      (Decoding)   :     .       .",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[s.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/10",children:[s.jsxs("span",{className:"block text-xl font-bold text-yellow-400",children:[O,"%"]}),s.jsx("span",{className:"text-[10px] text-gray-400",children:" "}),s.jsx("p",{className:"text-[9px] text-gray-500 mt-1",children:"    "})]}),s.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/10",children:[s.jsxs("span",{className:"block text-xl font-bold text-blue-400",children:[I,"%"]}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"   "}),s.jsx("p",{className:"text-[9px] text-gray-500 mt-1",children:"    "})]})]}),s.jsx("div",{className:"text-sm text-gray-300 leading-relaxed font-medium",children:O>20?s.jsx("span",{className:"text-yellow-200",children:":       ' '.         .       ."}):s.jsx("span",{className:"text-green-200",children:"      ."})})]})})},ae=T=>T.includes(" ")?"             .     .":T.includes(" ")?"       .       .":T.includes(" ")||T.includes("")?"  .    (     ).":T.includes(" ")?"      .        ( ).":T.includes(" ")?"    .       .":T.includes(" ")||T.includes("")?"  .      .":T.includes(" ")||T.includes(" ")?"       .    .":"           .",de=(T,O)=>{const I=T.oralPct,k=T.writtenPct,R=I-k;let ee="",Z="",L="";R>20?(ee="  ()",Z="    ()          .       .",L="   ' '   .      .    ."):R<-20?(ee="   ",Z="     (  )           (     ).",L="     ' ' .          .   ."):I<40&&k<40?(ee=" ",Z="      () .       .",L="    ( ).     .   ."):(ee=" ",Z="         .     .",L="   .");let K;O&&(K={label:O.label,advice:ae(O.label)}),x({studentName:T.fullName,profileType:ee,diagnosis:Z,remedy:L,scores:{oral:I,written:k},gap:R,clickedCriterion:K})};return b===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-white rounded-3xl shadow-sm border border-slate-200",children:[s.jsx(oa,{size:40,className:"text-amber-400 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"   "}),s.jsx("p",{className:"text-slate-400 text-sm",children:"    ."})]}):s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-12 relative",children:[a&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-700",onClick:()=>o(null),children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden border border-slate-700 animate-in zoom-in-95 duration-500",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"bg-slate-950 p-5 border-b border-slate-800 flex justify-between items-start",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-1",children:[s.jsx(xn,{size:20,className:"text-blue-400"}),a.title]}),s.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-white transition-colors",children:s.jsx(On,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-800",children:[s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed italic mb-4 border-l-2 border-slate-700 pl-3",children:['"',a.definition,'"']}),s.jsxs("div",{className:"mb-4 bg-blue-900/20 p-3 rounded border border-blue-900/50",children:[s.jsxs("h4",{className:"text-xs font-bold text-blue-400 flex items-center gap-2 mb-1",children:[s.jsx(Vt,{size:12}),"  :"]}),s.jsx("p",{className:"text-xs text-blue-200 leading-relaxed",children:a.pedagogicalRef})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-emerald-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[s.jsx(qr,{size:12}),"   "]}),a.content]})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-500",onClick:()=>x(null),children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-md rounded-3xl shadow-2xl overflow-hidden border border-slate-700 animate-in zoom-in-95 duration-300 max-h-[90vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 p-6 border-b border-slate-700 relative shrink-0",children:[s.jsx("button",{onClick:()=>x(null),className:"absolute left-4 top-4 text-slate-400 hover:text-white",children:s.jsx(On,{size:20})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-400 border border-red-500/50",children:s.jsx(Bs,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:m.studentName}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("span",{className:"text-xs font-bold bg-red-900/50 text-red-300 px-2 py-0.5 rounded border border-red-800",children:"  "})})]})]})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[s.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[s.jsxs("h4",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(Qg,{size:14}),"   ()"]}),s.jsx("p",{className:"text-lg font-bold text-white mb-1",children:m.profileType}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:m.diagnosis})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg text-center border border-slate-700",children:[s.jsx("span",{className:"text-[10px] text-slate-400 block mb-1",children:"  ()"}),s.jsxs("span",{className:`text-xl font-bold ${m.scores.oral<50?"text-red-400":"text-emerald-400"}`,children:[m.scores.oral.toFixed(0),"%"]})]}),s.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg text-center border border-slate-700",children:[s.jsx("span",{className:"text-[10px] text-slate-400 block mb-1",children:"  ()"}),s.jsxs("span",{className:`text-xl font-bold ${m.scores.written<50?"text-red-400":"text-emerald-400"}`,children:[m.scores.written.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 items-center bg-white/5 p-2 rounded border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[s.jsx(xn,{size:12}),s.jsx("span",{children:"  :"})]}),s.jsx("div",{className:"text-[10px] text-slate-300 font-mono tracking-wide",children:"(=3 | =2 | =1 | =0)"}),s.jsx("span",{className:"text-[9px] text-slate-500",children:"*   = (  /   )  100"})]}),m.clickedCriterion?s.jsxs("div",{className:"bg-orange-900/20 rounded-xl p-4 border border-orange-700/50 animate-in slide-in-from-bottom-2",children:[s.jsxs("h4",{className:"text-xs font-bold text-orange-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx($r,{size:14}),"      "]}),s.jsx("div",{className:"mb-2 text-xs font-bold text-orange-200 bg-orange-950/50 px-2 py-1 rounded inline-block",children:m.clickedCriterion.label}),s.jsx("p",{className:"text-sm text-orange-100 leading-relaxed font-medium",children:m.clickedCriterion.advice})]}):s.jsxs("div",{className:"bg-emerald-900/20 rounded-xl p-4 border border-emerald-800/50",children:[s.jsxs("h4",{className:"text-xs font-bold text-emerald-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(du,{size:14}),"   "]}),s.jsx("p",{className:"text-sm text-emerald-100 leading-relaxed font-medium",children:m.remedy})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden cursor-default",children:[s.jsxs("div",{className:"bg-slate-900 text-white p-8 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:s.jsx(bn,{size:150})}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-2 text-indigo-300 font-bold uppercase tracking-widest text-xs",children:e==="district"?"  ":e==="school"?" ":"  "}),s.jsx("h2",{className:"text-4xl font-bold font-serif mb-2",children:ea.label}),s.jsxs("p",{className:"text-slate-400 text-lg flex items-center gap-2",children:[s.jsx(un,{size:18})," ",i]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl text-center min-w-[100px] border border-slate-700 flex flex-col justify-center",children:[s.jsx("span",{className:"block text-3xl font-bold text-white",children:b}),s.jsx("span",{className:"text-xs text-slate-400 font-bold",children:""})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x md:divide-x-reverse divide-slate-100",children:[s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:s.jsx(ys,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"  / "}),s.jsxs("p",{className:"text-2xl font-bold text-emerald-700",children:[Math.round(w.controlled/b*100),"%"]})]})]}),s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center",children:s.jsx(fa,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[Math.round(w.partial/b*100),"%"]})]})]}),s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center",children:s.jsx(oa,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[Math.round(w.limited/b*100),"%"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-blue-300 transition-all group",onClick:q,title:"  ",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(qr,{size:20,className:"text-blue-500"}),"  "]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-blue-500 transition-colors"})]}),s.jsx("div",{className:"flex items-end gap-4 h-40 px-4 mb-4 border-b border-slate-100 pb-1",children:["A","B","C","D"].map(T=>{const O=E[T],I=E.total>0?O/E.total*100:0,k=T==="A"?"bg-emerald-500":T==="B"?"bg-blue-500":T==="C"?"bg-orange-500":"bg-red-500";return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center h-full",children:[s.jsx("div",{className:`w-full rounded-t-lg ${k} opacity-90 relative group`,style:{height:`${Math.max(I,5)}%`},children:s.jsxs("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] font-bold bg-slate-800 text-white px-1.5 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Math.round(I),"%"]})}),s.jsx("span",{className:"mt-2 font-bold text-slate-600 text-xs",children:T})]},T)})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-purple-300 transition-all group",onClick:B,title:"  ",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(to,{size:20,className:"text-purple-500"})," "]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-purple-500 transition-colors"})]}),s.jsx("div",{className:"flex justify-center items-center py-6",children:s.jsxs("div",{className:"relative w-48 h-24 bg-gray-100 rounded-t-full overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full origin-bottom transition-transform duration-1000",style:{transform:`rotate(${Math.min(j,40)/40*180-90}deg)`},children:s.jsx("div",{className:"w-1 h-full bg-slate-800 mx-auto"})}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-4 bg-white z-10"})]})}),s.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 px-4 -mt-4 mb-4",children:[s.jsx("span",{children:"0 ()"}),s.jsx("span",{children:"40+ ()"})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-3xl font-bold text-purple-700",children:j.toFixed(1)})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-teal-300 transition-all group lg:col-span-3 xl:col-span-1 relative",onClick:F,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx($g,{size:20,className:"text-teal-500"}),"  (/)"]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-teal-500 transition-colors"})]}),s.jsxs("div",{className:"flex gap-6 items-center justify-center relative",children:[d&&s.jsxs("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 z-20 bg-slate-800/90 backdrop-blur-sm text-white p-3 rounded-xl shadow-xl w-48 text-center animate-in zoom-in-95 duration-200 border border-slate-600 pointer-events-none",children:[s.jsxs("div",{className:"text-xs font-bold mb-1 border-b border-slate-600 pb-1",children:[d==="q1"&&"   ",d==="q2"&&" ",d==="q3"&&" ",d==="q4"&&" "]}),s.jsxs("div",{className:"text-[10px] text-slate-300 leading-tight",children:[d==="q1"&&"      ",d==="q2"&&"    ",d==="q3"&&"    ",d==="q4"&&"  ()   "]}),s.jsx("div",{className:"absolute bottom-[-6px] left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800/90 rotate-45 border-r border-b border-slate-600"})]}),s.jsxs("div",{className:"aspect-square w-52 relative bg-slate-50 rounded-xl border border-slate-200 p-2 grid grid-cols-2 grid-rows-2 gap-1 shrink-0",children:[s.jsxs("div",{className:"bg-blue-100 rounded flex flex-col items-center justify-center relative hover:bg-blue-200 transition-colors",onMouseEnter:()=>f("q1"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-blue-800",children:[Math.round(U.decoding_issue/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-blue-600 font-bold mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-emerald-100 rounded flex flex-col items-center justify-center relative hover:bg-emerald-200 transition-colors",onMouseEnter:()=>f("q2"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-emerald-800",children:[Math.round(U.balanced_high/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-emerald-600 font-bold mt-1",children:" "})]}),s.jsxs("div",{className:"bg-red-100 rounded flex flex-col items-center justify-center relative hover:bg-red-200 transition-colors",onMouseEnter:()=>f("q3"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-red-800",children:[Math.round(U.struggling/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-red-600 font-bold mt-1",children:" "})]}),s.jsxs("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center relative hover:bg-yellow-200 transition-colors",onMouseEnter:()=>f("q4"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-yellow-800",children:[Math.round(U.rote_reading/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-yellow-600 font-bold mt-1",children:" "})]}),s.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 -rotate-90 text-[10px] text-slate-500 font-bold tracking-widest",children:""}),s.jsx("div",{className:"absolute bottom-[-20px] left-1/2 -translate-x-1/2 text-[10px] text-slate-500 font-bold tracking-widest",children:""})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(no,{size:20,className:"text-red-500"}),"   ( )"]}),s.jsxs("div",{className:"flex gap-3 text-[10px] bg-slate-50 p-2 rounded-lg border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),s.jsx("span",{children:" ( )"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map((T,O)=>s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[s.jsx("span",{className:"bg-white text-slate-500 text-[10px] px-2 py-1 rounded border border-slate-200 font-bold",children:T.compId==="reading_performance"?" ":" "}),s.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded ${T.successRate<50?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[Math.round(T.successRate),"% "]})]}),s.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-3 relative z-10",children:T.label}),s.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden mb-2 relative z-10",children:[s.jsx("div",{className:"bg-emerald-500",style:{width:`${T.stats.A/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-blue-400",style:{width:`${T.stats.B/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-orange-400",style:{width:`${T.stats.C/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-red-400",style:{width:`${T.stats.D/T.stats.total*100}%`}})]}),s.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-mono relative z-10 font-bold mt-2 pt-2 border-t border-slate-200",children:[s.jsxs("span",{children:[T.stats.A+T.stats.B," "]}),s.jsxs("span",{children:[T.stats.C+T.stats.D," "]})]})]},O))})]}),e==="class"&&s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-red-100 border-t-4 border-t-red-500 mt-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(eo,{size:20,className:"text-red-500"}),"   ( )"]}),s.jsx("span",{className:"bg-red-50 text-red-600 text-xs px-3 py-1 rounded-full font-bold",children:"  "})]}),s.jsx("div",{className:"masonry-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ea.competencies.map(T=>s.jsx(aa.Fragment,{children:T.criteria.map(O=>{const I=p.filter(k=>v(k,T.id,O.id)==="D");return I.length===0?null:s.jsxs("div",{className:"bg-red-50/30 rounded-xl p-4 border border-red-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[s.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-red-500 shrink-0"}),s.jsx("h5",{className:"font-bold text-slate-700 text-xs leading-snug",children:O.label})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.map(k=>{const R=N.find(ee=>ee.id===k.id)||k;return s.jsx("button",{onClick:()=>de(R,O),className:"px-2 py-1 rounded text-[10px] font-bold bg-white text-red-700 border border-red-100 shadow-sm hover:bg-red-500 hover:text-white hover:border-red-500 transition-all cursor-pointer",children:k.fullName},k.id)})})]},`${T.id}-${O.id}`)})},T.id))})]})]})},ta={label:" ( )",competencies:[{id:"control_numbers",label:"    ",criteria:[{id:1,label:"      (   )"},{id:2,label:"     ( )"}]},{id:"problem_solving",label:"   ",criteria:[{id:1,label:"   (  )"},{id:2,label:"   (  )"},{id:3,label:"    ( )"},{id:4,label:"  ( )"}]}]},bk=({records:n,scope:e,contextName:i})=>{const[a,o]=P.useState(null),[d,f]=P.useState(null),[m,x]=P.useState(null),p=P.useMemo(()=>n.flatMap(T=>T.students.map(O=>({...O,className:T.className,schoolName:T.schoolName}))),[n]),b=p.length,v=(T,O,I)=>{if(!T.results)return null;const k=T.results[O];return k?k[I]||k[String(I)]:null},N=P.useMemo(()=>p.map(T=>{let O=0,I=0,k=0,R=0,ee=0,Z=0;ta.competencies.forEach($=>{$.criteria.forEach(G=>{const le=v(T,$.id,G.id);if(le){const ie=le==="A"?3:le==="B"?2:le==="C"?1:0;I+=3,O+=ie,$.id==="control_numbers"?(k+=ie,R+=3):(ee+=ie,Z+=3)}})});const L=I>0?O/I*100:0,K=R>0?k/R*100:0,C=Z>0?ee/Z*100:0;return{...T,percent:L,calcPct:K,logicPct:C}}),[p]);P.useMemo(()=>{const T={},O={};return N.forEach(I=>{const k=e==="district"?I.schoolName:I.className;O[k]||(O[k]={calcs:[],logics:[],globals:[]}),O[k].calcs.push(I.calcPct),O[k].logics.push(I.logicPct),O[k].globals.push(I.percent)}),Object.keys(O).forEach(I=>{const k=O[I];k&&k.globals.length>0&&(T[I]={name:I,scores:{global:k.globals.reduce((R,ee)=>R+ee,0)/k.globals.length,calc:k.calcs.reduce((R,ee)=>R+ee,0)/k.calcs.length,logic:k.logics.reduce((R,ee)=>R+ee,0)/k.logics.length}})}),Object.values(T).sort((I,k)=>k.scores.global-I.scores.global)},[N,e]);const w=P.useMemo(()=>{let T=0,O=0,I=0;return N.forEach(k=>{k.percent>=66?T++:k.percent>=33?O++:I++}),{controlled:T,partial:O,limited:I}},[N]),j=P.useMemo(()=>{if(N.length===0)return 0;const T=N.reduce((I,k)=>I+k.percent,0)/N.length,O=N.reduce((I,k)=>I+Math.pow(k.percent-T,2),0)/N.length;return Math.sqrt(O)},[N]),E=P.useMemo(()=>{const T={A:0,B:0,C:0,D:0,total:0};return p.forEach(O=>{ta.competencies.forEach(I=>{I.criteria.forEach(k=>{const R=v(O,I.id,k.id);R&&(T[R]++,T.total++)})})}),T.total===0&&(T.total=1),T},[p]),U=P.useMemo(()=>{const T={balanced_high:0,procedural_issue:0,rote_learning:0,struggling:0,total:0};return N.forEach(O=>{const I=O.calcPct>=50,k=O.logicPct>=50;I&&k?T.balanced_high++:!I&&k?T.procedural_issue++:I&&!k?T.rote_learning++:T.struggling++,T.total++}),T},[N]),J=P.useMemo(()=>ta.competencies.flatMap(T=>T.criteria.map(O=>{const I={A:0,B:0,C:0,D:0,total:0};p.forEach(R=>{const ee=v(R,T.id,O.id);ee&&(I[ee]++,I.total++)});const k=I.total?(I.A+I.B)/I.total*100:0;return{...O,compId:T.id,stats:I,successRate:k}})).sort((T,O)=>T.successRate-O.successRate),[p]),q=T=>T.includes(" ")?"  ' ' .       (/). :    (  ).":T.includes(" ")?" '' (Algorithmic).            . :   .":T.includes(" ")?"  ' '.         . :      .":T.includes(" ")?"  ' '.    (  ).     . :   ( ).":T.includes(" ")?"  ''.      . :      .":T.includes("")?" ''.        . :      (//).":"      .",B=(T,O)=>{const I=T.calcPct,k=T.logicPct;let R="",ee="",Z="";I>=60&&k<40?(R="   ( )",ee=" ' ':   (/ )         .      .",Z="    .    ' ' (   ).  : '   '  ' '."):I<40&&k>=60?(R="  ( )",ee="  ' ' .          (    ).     .",Z="    (5  ).    .    '  '   '  '."):I<30&&k<30?(R="    ",ee="    .            .",Z="   (Manipulatives).    .        ."):(R=" ",ee="       .    .",Z="       .");let L;O&&(L={label:O.label,advice:q(O.label)}),x({studentName:T.fullName,profileType:R,diagnosis:ee,remedy:Z,scores:{calc:I,logic:k},gap:I-k,clickedCriterion:L})},F=()=>{let T="";j<15?T="  .         .":j<25?T=" .        (   ).":T="    ( ).      .    (    ).",o({title:"  ",definition:"      .       ",pedagogicalRef:"  ' '.                    .",content:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-3xl font-bold text-center text-purple-400 font-mono",children:j.toFixed(2)}),s.jsx("p",{className:"text-gray-300 text-sm bg-white/10 p-3 rounded border border-white/20 text-center",children:T})]})})},ae=()=>{const T=E.total||1,O=E.A+E.B,I=E.C+E.D;o({title:"   ",definition:"      (   ).",pedagogicalRef:"   ' '.       .    ()     .",content:s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center bg-emerald-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-emerald-300",children:"  (+):"}),s.jsxs("span",{className:"font-bold text-white text-lg",children:[Math.round(O/T*100),"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center bg-red-500/10 p-2 rounded",children:[s.jsx("span",{className:"text-red-300",children:" (+):"}),s.jsxs("span",{className:"font-bold text-white text-lg",children:[Math.round(I/T*100),"%"]})]}),s.jsx("div",{className:"text-gray-300 text-xs mt-2 p-2 border-t border-white/10",children:O>I?" :  .     () .":" :      (  )  ."})]})})},de=()=>{const T=U.total||1,O=U.rote_learning>0,I=U.procedural_issue>0,k=U.struggling>0,R=U.balanced_high>0;o({title:"   ( / )",definition:"      :    ''   ''",pedagogicalRef:"    (  ).    ' ' ( )   '' ( ).     .",content:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"     :"}),R&&s.jsxs("div",{className:"bg-emerald-500/10 p-2 rounded border border-emerald-500/30 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-emerald-400 block",children:" "}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"   "})]}),s.jsxs("span",{className:"font-bold text-white",children:[Math.round(U.balanced_high/T*100),"%"]})]}),O&&s.jsxs("div",{className:"bg-yellow-500/10 p-2 rounded border border-yellow-500/30 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-yellow-400 block",children:" "}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"    "})]}),s.jsxs("span",{className:"font-bold text-white",children:[Math.round(U.rote_learning/T*100),"%"]})]}),I&&s.jsxs("div",{className:"bg-blue-500/10 p-2 rounded border border-blue-500/30 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-blue-400 block",children:" "}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"    "})]}),s.jsxs("span",{className:"font-bold text-white",children:[Math.round(U.procedural_issue/T*100),"%"]})]}),k&&s.jsxs("div",{className:"bg-red-500/10 p-2 rounded border border-red-500/30 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-red-400 block",children:" "}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"   "})]}),s.jsxs("span",{className:"font-bold text-white",children:[Math.round(U.struggling/T*100),"%"]})]})]})})};return b===0?s.jsx("div",{className:"text-center p-10 text-gray-400",children:"  "}):s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-12 relative",children:[a&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",onClick:()=>o(null),children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden border border-slate-700 animate-in zoom-in-95",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"bg-slate-950 p-5 border-b border-slate-800 flex justify-between items-start",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(xn,{size:20,className:"text-blue-400"})," ",a.title]}),s.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-white",children:s.jsx(On,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"text-slate-300 text-sm mb-4 italic border-l-2 border-slate-700 pl-3",children:['"',a.definition,'"']}),s.jsxs("div",{className:"mb-4 bg-blue-900/20 p-3 rounded border border-blue-900/50",children:[s.jsxs("h4",{className:"text-xs font-bold text-blue-400 flex items-center gap-2 mb-1",children:[s.jsx(Vt,{size:12}),"  :"]}),s.jsx("p",{className:"text-xs text-blue-200 leading-relaxed",children:a.pedagogicalRef})]}),a.content]})]})}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",onClick:()=>x(null),children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-md rounded-3xl shadow-2xl overflow-hidden border border-slate-700 animate-in zoom-in-95 flex flex-col max-h-[90vh]",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-slate-900 p-6 border-b border-slate-700 relative shrink-0",children:[s.jsx("button",{onClick:()=>x(null),className:"absolute left-4 top-4 text-slate-400 hover:text-white",children:s.jsx(On,{size:20})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-white border border-white/20",children:s.jsx(bn,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:m.studentName}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("span",{className:"text-xs font-bold bg-white/10 text-purple-200 px-2 py-0.5 rounded border border-white/10",children:" "})})]})]})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[s.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[s.jsxs("h4",{className:"text-xs font-bold text-slate-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(Qg,{size:14}),"  "]}),s.jsx("p",{className:"text-lg font-bold text-white mb-2",children:m.profileType}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed text-justify",children:m.diagnosis})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg text-center border border-slate-700",children:[s.jsx("span",{className:"text-[10px] text-slate-400 block mb-1",children:"   ()"}),s.jsxs("span",{className:`text-xl font-bold ${m.scores.calc<50?"text-red-400":"text-emerald-400"}`,children:[m.scores.calc.toFixed(0),"%"]})]}),s.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg text-center border border-slate-700",children:[s.jsx("span",{className:"text-[10px] text-slate-400 block mb-1",children:"  ()"}),s.jsxs("span",{className:`text-xl font-bold ${m.scores.logic<50?"text-red-400":"text-emerald-400"}`,children:[m.scores.logic.toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 items-center bg-white/5 p-2 rounded border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[s.jsx(xn,{size:12}),s.jsx("span",{children:"  :"})]}),s.jsx("div",{className:"text-[10px] text-slate-300 font-mono tracking-wide",children:"(=3 | =2 | =1 | =0)"}),s.jsx("span",{className:"text-[9px] text-slate-500",children:"*   = (  /   )  100"})]}),m.clickedCriterion?s.jsxs("div",{className:"bg-orange-900/20 rounded-xl p-4 border border-orange-700/50 animate-in slide-in-from-bottom-2",children:[s.jsxs("h4",{className:"text-xs font-bold text-orange-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx($r,{size:14}),"    ()"]}),s.jsx("div",{className:"mb-2 text-xs font-bold text-orange-200 bg-orange-950/50 px-2 py-1 rounded inline-block",children:m.clickedCriterion.label}),s.jsx("p",{className:"text-sm text-orange-100 leading-relaxed font-medium text-justify",children:m.clickedCriterion.advice})]}):s.jsxs("div",{className:"bg-emerald-900/20 rounded-xl p-4 border border-emerald-800/50",children:[s.jsxs("h4",{className:"text-xs font-bold text-emerald-400 mb-2 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(du,{size:14}),"   "]}),s.jsx("p",{className:"text-sm text-emerald-100 leading-relaxed font-medium text-justify",children:m.remedy})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden cursor-default",children:[s.jsxs("div",{className:"bg-slate-900 text-white p-8 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:s.jsx(bn,{size:150})}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-2 text-indigo-300 font-bold uppercase tracking-widest text-xs",children:e==="district"?"  ":e==="school"?" ":"  "}),s.jsx("h2",{className:"text-4xl font-bold font-serif mb-2",children:ta.label}),s.jsxs("p",{className:"text-slate-400 text-lg flex items-center gap-2",children:[s.jsx(un,{size:18})," ",i]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl text-center min-w-[100px] border border-slate-700 flex flex-col justify-center",children:[s.jsx("span",{className:"block text-3xl font-bold text-white",children:b}),s.jsx("span",{className:"text-xs text-slate-400 font-bold",children:""})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x md:divide-x-reverse divide-slate-100",children:[s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:s.jsx(ys,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"  / "}),s.jsxs("p",{className:"text-2xl font-bold text-emerald-700",children:[Math.round(w.controlled/b*100),"%"]})]})]}),s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center",children:s.jsx(fa,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[Math.round(w.partial/b*100),"%"]})]})]}),s.jsxs("div",{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center",children:s.jsx(oa,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[Math.round(w.limited/b*100),"%"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-blue-300 transition-all group",onClick:ae,title:"  ",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(qr,{size:20,className:"text-blue-500"}),"  "]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-blue-500 transition-colors"})]}),s.jsx("div",{className:"flex items-end gap-4 h-40 px-4 mb-4 border-b border-slate-100 pb-1",children:["A","B","C","D"].map(T=>{const O=E[T],I=E.total>0?O/E.total*100:0,k=T==="A"?"bg-emerald-500":T==="B"?"bg-blue-500":T==="C"?"bg-orange-500":"bg-red-500";return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center h-full",children:[s.jsx("div",{className:`w-full rounded-t-lg ${k} opacity-90 relative group`,style:{height:`${Math.max(I,5)}%`},children:s.jsxs("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] font-bold bg-slate-800 text-white px-1.5 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Math.round(I),"%"]})}),s.jsx("span",{className:"mt-2 font-bold text-slate-600 text-xs",children:T})]},T)})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-purple-300 transition-all group",onClick:F,title:"  ",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(to,{size:20,className:"text-purple-500"})," "]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-purple-500 transition-colors"})]}),s.jsx("div",{className:"flex justify-center items-center py-6",children:s.jsxs("div",{className:"relative w-48 h-24 bg-gray-100 rounded-t-full overflow-hidden",children:[s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full origin-bottom transition-transform duration-1000",style:{transform:`rotate(${Math.min(j,40)/40*180-90}deg)`},children:s.jsx("div",{className:"w-1 h-full bg-slate-800 mx-auto"})}),s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-4 bg-white z-10"})]})}),s.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 px-4 -mt-4 mb-4",children:[s.jsx("span",{children:"0 ()"}),s.jsx("span",{children:"40+ ()"})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-3xl font-bold text-purple-700",children:j.toFixed(1)})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 cursor-pointer hover:shadow-lg hover:border-purple-300 transition-all group lg:col-span-3 xl:col-span-1 relative",onClick:de,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx($g,{size:20,className:"text-purple-500"}),"  ( / )"]}),s.jsx(xn,{size:16,className:"text-slate-300 group-hover:text-purple-500 transition-colors"})]}),s.jsxs("div",{className:"flex gap-6 items-center justify-center relative",children:[d&&s.jsxs("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 z-20 bg-slate-800/90 backdrop-blur-sm text-white p-3 rounded-xl shadow-xl w-48 text-center animate-in zoom-in-95 duration-200 border border-slate-600 pointer-events-none",children:[s.jsxs("div",{className:"text-xs font-bold mb-1 border-b border-slate-600 pb-1",children:[d==="q1"&&" ",d==="q2"&&" ",d==="q3"&&" ",d==="q4"&&" "]}),s.jsxs("div",{className:"text-[10px] text-slate-300 leading-tight",children:[d==="q1"&&"  ()    ",d==="q2"&&"    ",d==="q3"&&"    ",d==="q4"&&"    "]}),s.jsx("div",{className:"absolute bottom-[-6px] left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-800/90 rotate-45 border-r border-b border-slate-600"})]}),s.jsxs("div",{className:"aspect-square w-52 relative bg-slate-50 rounded-xl border border-slate-200 p-2 grid grid-cols-2 grid-rows-2 gap-1 shrink-0",children:[s.jsxs("div",{className:"bg-blue-100 rounded flex flex-col items-center justify-center relative hover:bg-blue-200 transition-colors",onMouseEnter:()=>f("q1"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-blue-800",children:[Math.round(U.procedural_issue/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-blue-600 font-bold mt-1",children:" "})]}),s.jsxs("div",{className:"bg-emerald-100 rounded flex flex-col items-center justify-center relative hover:bg-emerald-200 transition-colors",onMouseEnter:()=>f("q2"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-emerald-800",children:[Math.round(U.balanced_high/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-emerald-600 font-bold mt-1",children:" "})]}),s.jsxs("div",{className:"bg-red-100 rounded flex flex-col items-center justify-center relative hover:bg-red-200 transition-colors",onMouseEnter:()=>f("q3"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-red-800",children:[Math.round(U.struggling/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-red-600 font-bold mt-1",children:" "})]}),s.jsxs("div",{className:"bg-yellow-100 rounded flex flex-col items-center justify-center relative hover:bg-yellow-200 transition-colors",onMouseEnter:()=>f("q4"),onMouseLeave:()=>f(null),children:[s.jsxs("span",{className:"text-xs font-bold text-yellow-800",children:[Math.round(U.rote_learning/U.total*100),"%"]}),s.jsx("span",{className:"text-[9px] text-yellow-600 font-bold mt-1",children:" "})]}),s.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 -rotate-90 text-[10px] text-slate-500 font-bold tracking-widest",children:""}),s.jsx("div",{className:"absolute bottom-[-20px] left-1/2 -translate-x-1/2 text-[10px] text-slate-500 font-bold tracking-widest",children:""})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(no,{size:20,className:"text-red-500"}),"   ( )"]}),s.jsxs("div",{className:"flex gap-3 text-[10px] bg-slate-50 p-2 rounded-lg border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),s.jsx("span",{children:" ( )"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),s.jsx("span",{children:" ( )"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map((T,O)=>s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[s.jsx("span",{className:"bg-white text-slate-500 text-[10px] px-2 py-1 rounded border border-slate-200 font-bold",children:T.compId==="control_numbers"?" ":" "}),s.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded ${T.successRate<50?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[Math.round(T.successRate),"% "]})]}),s.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-3 relative z-10",children:T.label}),s.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden mb-2 relative z-10",children:[s.jsx("div",{className:"bg-emerald-500",style:{width:`${T.stats.A/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-blue-400",style:{width:`${T.stats.B/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-orange-400",style:{width:`${T.stats.C/T.stats.total*100}%`}}),s.jsx("div",{className:"bg-red-400",style:{width:`${T.stats.D/T.stats.total*100}%`}})]}),s.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-mono relative z-10 font-bold mt-2 pt-2 border-t border-slate-200",children:[s.jsxs("span",{children:[T.stats.A+T.stats.B," "]}),s.jsxs("span",{children:[T.stats.C+T.stats.D," "]})]})]},O))})]}),e==="class"&&s.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-red-100 border-t-4 border-t-red-500 mt-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(eo,{size:20,className:"text-red-500"}),"   ()"]}),s.jsx("span",{className:"bg-red-50 text-red-600 text-xs px-3 py-1 rounded-full font-bold",children:"  "})]}),s.jsx("div",{className:"masonry-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ta.competencies.map(T=>s.jsx(aa.Fragment,{children:T.criteria.map(O=>{const I=p.filter(k=>v(k,T.id,O.id)==="D");return I.length===0?null:s.jsxs("div",{className:"bg-red-50/30 rounded-xl p-4 border border-red-100 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[s.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-red-500 shrink-0"}),s.jsx("h5",{className:"font-bold text-slate-700 text-xs leading-snug",children:O.label})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.map(k=>{const R=N.find(ee=>ee.id===k.id)||k;return s.jsx("button",{onClick:()=>B(R,O),className:"px-2 py-1 rounded text-[10px] font-bold bg-white text-red-700 border border-red-100 shadow-sm hover:bg-red-500 hover:text-white hover:border-red-500 transition-all cursor-pointer",children:k.fullName},k.id)})})]},`${T.id}-${O.id}`)})},T.id))})]})]})},yk=({records:n,className:e,schoolName:i})=>{const[a,o]=P.useState(!1),d=P.useMemo(()=>{const m={};return n.forEach(p=>{const b=p.subject;m[b]||(m[b]={totalScore:0,maxScore:0,studentCount:p.students.length,criteria:[]});const v={};p.students.forEach(N=>{let w=0,j=0;Object.keys(N.results).forEach(E=>{Object.keys(N.results[E]).forEach(U=>{const J=N.results[E][parseInt(U)],q=`${E}-${U}`;v[q]||(v[q]={label:` ${U}`,failCount:0,total:0}),v[q].total++,J&&(j+=3,J==="A"?w+=3:J==="B"?w+=2:J==="C"?w+=1:v[q].failCount++)})}),m[b].totalScore+=w,m[b].maxScore+=j}),m[b].criteria=Object.values(v).map(N=>({...N,failRate:N.total>0?N.failCount/N.total*100:0})).sort((N,w)=>w.failRate-N.failRate)}),{subjectScores:Object.entries(m).map(([p,b])=>{const v=b.maxScore>0?b.totalScore/b.maxScore*100:0;return{subject:p,pct:v,criteria:b.criteria}})}},[n]),f=P.useMemo(()=>{const m=d.subjectScores;if(m.length<2)return null;const x=m.find(E=>E.subject.includes("")),p=m.find(E=>E.subject.includes("")),b=[];let v="",N="text-blue-600",w=to;if(x&&p){const E=x.pct-p.pct;E>15?(v=" /",N="text-green-600",w=Vt,b.push("             .          .")):E<-15?(v=" /",N="text-purple-600",w=bn,b.push("       .                .")):x.pct>75&&p.pct>75?(v="  ",N="text-emerald-600",w=Yd,b.push("     ()   .     .")):x.pct<50&&p.pct<50&&(v="  ",N="text-red-600",w=lN,b.push("    .              ."))}const j=[];return m.forEach(E=>{E.criteria.length>0&&E.criteria[0].failRate>60&&j.push({subject:E.subject,rate:E.criteria[0].failRate})}),j.length>0&&b.push(` " " .   (${j[0].subject})  ${Math.round(j[0].rate)}%      .           (      ).`),{profileType:v,color:N,icon:w,insights:b}},[d]);return n.length===0?null:(Math.max(...d.subjectScores.map(m=>m.pct),100),s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden mb-8 animate-in fade-in slide-in-from-top-4 duration-700",children:[s.jsxs("div",{className:"bg-slate-900 text-white p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:s.jsx(du,{size:400,className:"absolute -left-20 -top-20"})}),s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-300 font-bold uppercase text-xs mb-1",children:[s.jsx($r,{size:14}),"   "]}),s.jsx("h2",{className:"text-2xl font-bold font-serif",children:"  "}),s.jsxs("p",{className:"text-slate-400 text-sm",children:[i," - : ",s.jsx("span",{className:"text-white font-bold",children:e})]})]}),f&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-3 flex items-center gap-4 min-w-[250px]",children:[s.jsx("div",{className:`w-12 h-12 rounded-full bg-white flex items-center justify-center ${f.color}`,children:s.jsx(f.icon,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-bold",children:" "}),s.jsx("p",{className:"text-lg font-bold",children:f.profileType})]})]})]})]}),s.jsxs("div",{className:"p-6 md:p-8 grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(fa,{size:20,className:"text-blue-600"}),"  (  )"]}),s.jsxs("div",{className:"space-y-5",children:[d.subjectScores.map((m,x)=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsxs("span",{className:"font-bold text-gray-700 flex items-center gap-2",children:[m.subject.includes("")?s.jsx(Vt,{size:14,className:"text-green-500"}):m.subject.includes("")?s.jsx(bn,{size:14,className:"text-purple-500"}):s.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-slate-400"}),m.subject]}),s.jsxs("span",{className:`font-bold ${m.pct>75?"text-emerald-600":m.pct<50?"text-red-500":"text-slate-600"}`,children:[m.pct.toFixed(1),"%"]})]}),s.jsxs("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 bottom-0 left-[25%] w-px bg-white/50"}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[50%] w-px bg-white/50"}),s.jsx("div",{className:"absolute top-0 bottom-0 left-[75%] w-px bg-white/50"}),s.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${m.pct>75?"bg-gradient-to-r from-emerald-400 to-emerald-600":m.pct<50?"bg-gradient-to-r from-red-400 to-red-600":"bg-gradient-to-r from-blue-400 to-blue-600"}`,style:{width:`${m.pct}%`}})]}),m.pct<50&&s.jsx("p",{className:"text-[10px] text-red-500 mt-1 font-bold animate-pulse",children:"     "})]},x)),d.subjectScores.length===1&&s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl text-xs text-yellow-800 flex items-start gap-2",children:[s.jsx(I1,{size:16,className:"shrink-0 mt-0.5"}),s.jsx("p",{children:"           (  ...)   ."})]})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-2xl border border-slate-200 p-6 relative",children:[s.jsx("div",{className:"absolute top-4 left-4 text-slate-200",children:s.jsx($r,{size:80})}),s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 relative z-10",children:[s.jsx(bs,{size:18,className:"text-amber-500"}),"  (Expert Insights)"]}),f?s.jsxs("div",{className:"space-y-4 relative z-10",children:[f.insights.map((m,x)=>s.jsxs("div",{className:"flex gap-3 items-start bg-white p-3 rounded-xl shadow-sm border border-slate-100",children:[s.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-indigo-500 shrink-0"}),s.jsx("p",{className:"text-sm text-slate-700 leading-relaxed font-medium text-justify",children:m})]},x)),!a&&s.jsx("div",{className:"p-4 bg-indigo-50 border border-indigo-100 rounded-xl text-center cursor-pointer hover:bg-indigo-100 transition-colors",onClick:()=>o(!0),children:s.jsxs("span",{className:"text-xs font-bold text-indigo-700 flex items-center justify-center gap-2",children:["    ",s.jsx(Pg,{size:14})]})}),a&&s.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2",children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mt-4",children:" :"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{className:"text-xs text-slate-600 bg-white p-2 rounded border border-slate-100",children:"         ."}),s.jsx("li",{className:"text-xs text-slate-600 bg-white p-2 rounded border border-slate-100",children:"           ."}),s.jsx("li",{className:"text-xs text-slate-600 bg-white p-2 rounded border border-slate-100",children:'    " "       .'})]})]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400 relative z-10",children:[s.jsx("p",{className:"mb-2",children:"    ."}),s.jsx("p",{className:"text-xs",children:"      ."})]})]})]})]}))},vk=({title:n,formula:e,application:i,description:a})=>s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-64 opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-[9999] transform translate-y-2 group-hover:translate-y-0",children:s.jsxs("div",{className:"bg-slate-900 text-white text-xs rounded-xl shadow-2xl border border-slate-600 overflow-hidden",children:[s.jsxs("div",{className:"bg-slate-800 px-3 py-2 border-b border-slate-700 font-bold text-yellow-400 flex items-center gap-2",children:[s.jsx(bn,{size:14})," "]}),s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 block mb-0.5 text-[10px]",children:":"}),s.jsx("code",{className:"bg-black/30 px-1.5 py-0.5 rounded text-emerald-300 font-mono block text-center",dir:"ltr",children:e})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 block mb-0.5 text-[10px]",children:":"}),s.jsx("code",{className:"bg-black/30 px-1.5 py-0.5 rounded text-blue-300 font-mono block text-center",dir:"ltr",children:i})]}),s.jsx("div",{className:"pt-2 border-t border-slate-700 text-slate-300 leading-tight",children:a})]}),s.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-slate-900 rotate-45 border-r border-b border-slate-600"})]})}),Pn=({icon:n,title:e,value:i,subValue:a,color:o,tooltipData:d})=>{const f={blue:"bg-blue-50 text-blue-700 border-blue-200 hover:border-blue-400",emerald:"bg-emerald-50 text-emerald-700 border-emerald-200 hover:border-emerald-400",orange:"bg-orange-50 text-orange-700 border-orange-200 hover:border-orange-400",red:"bg-red-50 text-red-700 border-red-200 hover:border-red-400",purple:"bg-purple-50 text-purple-700 border-purple-200 hover:border-purple-400",indigo:"bg-indigo-50 text-indigo-700 border-indigo-200 hover:border-indigo-400"},m={blue:"bg-blue-100",emerald:"bg-emerald-100",orange:"bg-orange-100",red:"bg-red-100",purple:"bg-purple-100",indigo:"bg-indigo-100"};return s.jsxs("div",{className:`relative group p-4 rounded-2xl border transition-all duration-300 ${f[o]} hover:shadow-lg cursor-help`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl ${m[o]}`,children:s.jsx(n,{size:24})}),s.jsx(qg,{size:16,className:"opacity-40 group-hover:opacity-100 transition-opacity"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold opacity-70 uppercase tracking-wider mb-1",children:e}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl font-bold font-mono",children:i}),a&&s.jsx("span",{className:"text-sm font-bold opacity-60",children:a})]})]}),s.jsx(vk,{title:e,formula:d.formula,application:d.application,description:d.description})]})},Nk=({records:n,scope:e,contextName:i,onClose:a})=>{const o=P.useMemo(()=>{let d=0,f=0,m=0,x=0,p=0;n.forEach(F=>{F.students.forEach(ae=>{Object.values(ae.results).forEach(de=>{Object.values(de).forEach(T=>{T&&(d++,T==="A"?f++:T==="B"?m++:T==="C"?x++:T==="D"&&p++)})})})});const b=d||1,v=f,N=f/b*100,w=(f+m)/b*100,j=x+p,E=(x+p)/b*100,U=w-N,J=N,q=m/b*100,B=p/b*100;return{raw:{totalCriteria:d,countA:f,countB:m,countC:x,countD:p},indicators:{soc_GeneralSatisfaction:v,soc_SpecificSatisfaction:N,soc_Efficiency:w,tea_RemediationLoad:j,tea_RemediationRate:E,tea_PedagogicalGap:U,sub_Mastery:J,sub_Partial:q,sub_Failure:B}}},[n]);return s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/90 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-white w-full max-w-7xl h-[95vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden border border-slate-700",children:[s.jsxs("div",{className:"bg-slate-50 p-6 border-b flex justify-between items-center shrink-0 z-20 relative",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-serif text-slate-900",children:"   "}),s.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"font-bold text-slate-700 bg-slate-200 px-2 py-0.5 rounded",children:i}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),s.jsxs("span",{children:["  : ",o.raw.totalCriteria]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>window.print(),className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-xl font-bold text-sm hover:bg-slate-50 flex items-center gap-2 shadow-sm print:hidden",children:[s.jsx(Wl,{size:16})," "]}),s.jsx("button",{onClick:a,className:"bg-slate-100 text-slate-500 p-2 rounded-full hover:bg-red-100 hover:text-red-600 transition-colors print:hidden",children:s.jsx(On,{size:20})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50/50 print:p-0 print:bg-white custom-scrollbar z-10 relative",children:[s.jsxs("section",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-2 border-b border-indigo-200",children:[s.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg shadow-lg shadow-indigo-200",children:s.jsx(da,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl text-slate-800",children:"1.    ( )"}),s.jsx("p",{className:"text-xs text-slate-500",children:"           ."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Pn,{icon:LN,title:"   ",value:o.raw.countA,subValue:"",color:"blue",tooltipData:{formula:" ()",application:`Count(A) = ${o.raw.countA}`,description:"       .     ."}}),s.jsx(Pn,{icon:no,title:"   ",value:o.indicators.soc_SpecificSatisfaction.toFixed(2),subValue:"%",color:"indigo",tooltipData:{formula:"(  /  )  100",application:`(${o.raw.countA} / ${o.raw.totalCriteria})  100`,description:"  .    100%   ."}}),s.jsx(Pn,{icon:ys,title:"  ",value:o.indicators.soc_Efficiency.toFixed(2),subValue:"%",color:"emerald",tooltipData:{formula:"(( + ) /  )  100",application:`((${o.raw.countA} + ${o.raw.countB}) / ${o.raw.totalCriteria})  100`,description:"   ( ).     ."}})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-2 border-b border-orange-200",children:[s.jsx("div",{className:"bg-orange-500 text-white p-2 rounded-lg shadow-lg shadow-orange-200",children:s.jsx(un,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl text-slate-800",children:"2.    (  )"}),s.jsx("p",{className:"text-xs text-slate-500",children:"         ."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Pn,{icon:qr,title:"  ",value:o.indicators.tea_RemediationLoad,subValue:"",color:"orange",tooltipData:{formula:" () +  ()",application:`${o.raw.countC} + ${o.raw.countD} = ${o.indicators.tea_RemediationLoad}`,description:"        (   )."}}),s.jsx(Pn,{icon:oa,title:"  ()",value:o.indicators.tea_RemediationRate.toFixed(2),subValue:"%",color:"red",tooltipData:{formula:"(( + ) /  )  100",application:`((${o.raw.countC} + ${o.raw.countD}) / ${o.raw.totalCriteria})  100`,description:"   .   50%        ."}}),s.jsx(Pn,{icon:fa,title:"  ",value:o.indicators.tea_PedagogicalGap.toFixed(2),subValue:"%",color:"purple",tooltipData:{formula:"  -   ",application:`${o.indicators.soc_Efficiency.toFixed(2)} - ${o.indicators.soc_SpecificSatisfaction.toFixed(2)}`,description:"     ().         ."}})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-2 border-b border-teal-200",children:[s.jsx("div",{className:"bg-teal-600 text-white p-2 rounded-lg shadow-lg shadow-teal-200",children:s.jsx(Vt,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl text-slate-800",children:"3.    ( )"}),s.jsx("p",{className:"text-xs text-slate-500",children:"        ."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Pn,{icon:to,title:"   ()",value:o.indicators.sub_Mastery.toFixed(2),subValue:"%",color:"emerald",tooltipData:{formula:"(  /  )  100",application:`(${o.raw.countA} / ${o.raw.totalCriteria})  100`,description:"          ."}}),s.jsx(Pn,{icon:CN,title:"   ()",value:o.indicators.sub_Partial.toFixed(2),subValue:"%",color:"blue",tooltipData:{formula:"(  /  )  100",application:`(${o.raw.countB} / ${o.raw.totalCriteria})  100`,description:"         ."}}),s.jsx(Pn,{icon:ON,title:"   ()",value:o.indicators.sub_Failure.toFixed(2),subValue:"%",color:"red",tooltipData:{formula:"(  /  )  100",application:`(${o.raw.countD} / ${o.raw.totalCriteria})  100`,description:"     .          ."}})]})]})]})]})})},_k=({records:n,filters:e})=>{const{scope:i,selectedSchool:a,selectedLevel:o,selectedClass:d,selectedSubject:f}=e,[m,x]=P.useState(!1),p=P.useMemo(()=>n.filter(w=>o&&w.level!==o||f&&w.subject!==f?!1:i==="district"?!0:!((i==="school"||i==="class")&&w.schoolName!==a||i==="class"&&w.className!==d)),[n,i,a,o,d,f]),b=P.useMemo(()=>i!=="class"||!a||!d||!o?[]:n.filter(w=>w.schoolName===a&&w.className===d&&w.level===o),[n,i,a,d,o]),v=P.useMemo(()=>i==="district"&&!o?n:p,[i,o,n,p]),N=P.useMemo(()=>!(!o||!f||i==="school"&&!a||i==="class"&&(!a||!d)),[i,a,o,d,f]);return s.jsxs("div",{className:"flex flex-col h-full bg-slate-50/50",children:[s.jsxs("div",{className:"bg-white p-4 border-b flex justify-between items-center shadow-sm shrink-0",children:[s.jsxs("div",{className:"text-sm text-slate-500",children:[s.jsx("span",{className:"font-bold text-slate-700",children:" :"})," ",i==="district"?"":i==="school"?a:`${a} / ${d}`]}),s.jsxs("button",{onClick:()=>x(!0),className:"bg-indigo-600 text-white px-5 py-2 rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all flex items-center gap-2 font-bold text-sm animate-in slide-in-from-top-2",children:[s.jsx(Kl,{size:18}),"   ()"]})]}),m&&s.jsx(Nk,{records:v,scope:i,contextName:i==="district"?"":i==="school"?a:`${a} - ${d}`,onClose:()=>x(!1)}),s.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-y-auto",children:N?s.jsxs("div",{className:"max-w-[1600px] mx-auto animate-in zoom-in-95 duration-500",children:[i==="class"&&s.jsx(yk,{records:b,className:d,schoolName:a}),o==="2AP"&&f.includes("")?s.jsx(xk,{records:p,scope:i,contextName:i==="district"?"":i==="school"?a:`${a} - ${d}`}):o==="2AP"&&f.includes("")?s.jsx(bk,{records:p,scope:i,contextName:i==="district"?"":i==="school"?a:`${a} - ${d}`}):s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden min-h-[400px] flex flex-col",children:[s.jsx("div",{className:"bg-slate-900 text-white p-6 flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-serif mb-1",children:` : ${f}`}),s.jsx("div",{className:"flex items-center gap-3 text-slate-400 text-sm",children:s.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-white font-bold",children:o})})]})}),s.jsxs("div",{className:"flex-1 p-8 flex flex-col items-center justify-center text-center bg-slate-50/50",children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-full shadow-lg flex items-center justify-center mb-6",children:s.jsx(fu,{size:48,className:"text-gray-400"})}),s.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:" "}),s.jsxs("p",{className:"text-slate-500",children:["    ",s.jsxs("b",{children:[f," - ",o]}),"  .",s.jsx("br",{}),"      ",s.jsx("b",{children:"  ( )"}),"  ",s.jsx("b",{children:" ( )"}),"."]})]})]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 pb-20",children:[s.jsx("div",{className:"w-32 h-32 bg-slate-200 rounded-full flex items-center justify-center mb-6 opacity-50 animate-pulse",children:s.jsx(Gr,{size:64,className:"text-slate-400"})}),s.jsx("h3",{className:"text-xl font-bold text-slate-600 mb-2",children:"   "}),s.jsxs("p",{className:"text-slate-400 max-w-sm text-center mb-6",children:["  ",s.jsx("b",{children:" "}),"       ."]}),s.jsxs("button",{onClick:()=>x(!0),className:"bg-white border border-indigo-200 text-indigo-600 px-6 py-3 rounded-xl hover:bg-indigo-50 transition-colors font-bold text-sm shadow-sm flex items-center gap-2",children:[s.jsx(Kl,{size:18}),"     "]})]})})]})},wk={"2AP":[" ",""],"4AP":[" ",""],"5AP":[" ",""," "," "," ","",""," "," "," "," "," "]},Sk=({availableSchools:n,onDataUpdated:e,externalFilters:i})=>{const[a,o]=P.useState("stats"),[d,f]=P.useState("list"),[m,x]=P.useState(xs().records),[p,b]=P.useState(""),[v,N]=P.useState(""),[w,j]=P.useState(""),[E,U]=P.useState(""),[J,q]=P.useState([]),[B,F]=P.useState(""),ae=P.useRef(null),de=P.useRef(null),T=P.useMemo(()=>v?wk[v]||[]:[],[v]),O=Z=>{var C;const L=(C=Z.target.files)==null?void 0:C[0];if(!L)return;if(!v||!w){alert("           ."),ae.current&&(ae.current.value="");return}F(L.name);const K=new FileReader;K.onload=$=>{var le;const G=(le=$.target)==null?void 0:le.result;try{const ie=mk(G,v,w);ie.length===0&&alert("    .         (   )."),q(ie)}catch(ie){console.error(ie),alert("    .    Excel .")}},K.readAsArrayBuffer(L)},I=()=>{if(!p||!v||!w||!E||J.length===0){alert("        .");return}const Z={id:Math.random().toString(36).substr(2,9),schoolName:p,className:E,level:v,subject:w,academicYear:`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,uploadDate:new Date().toISOString().split("T")[0],students:J};pk(Z),x(xs().records),f("list"),e&&e(),U(""),q([]),F("")},k=Z=>{confirm("       ")&&(gk(Z),x(xs().records),e&&e())},R=()=>{const Z=xs(),L=JSON.stringify(Z,null,2),K=new Blob([L],{type:"application/json"}),C=URL.createObjectURL(K),$=document.createElement("a");$.href=C,$.download=`Acq_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild($),$.click(),document.body.removeChild($)},ee=Z=>{var C;const L=(C=Z.target.files)==null?void 0:C[0];if(!L)return;if(!confirm(":          .   ")){de.current&&(de.current.value="");return}const K=new FileReader;K.onload=$=>{var G;try{const le=JSON.parse((G=$.target)==null?void 0:G.result);le.records&&Array.isArray(le.records)?(localStorage.setItem("mufattish_acq_db",JSON.stringify(le)),x(le.records),e&&e(),alert("     .")):alert("  .       .")}catch(le){console.error(le),alert("      .")}de.current&&(de.current.value="")},K.readAsText(L)};return s.jsxs("div",{className:"h-full flex flex-col bg-slate-50/50 w-full animate-in fade-in",children:[s.jsx("div",{className:"bg-white border-b px-6 py-3 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("h1",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 font-serif",children:[s.jsx(fu,{className:"text-teal-600",size:24}),"  "]}),s.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>o("data"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${a==="data"?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[s.jsx(Br,{size:16})," "]}),s.jsxs("button",{onClick:()=>o("stats"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition-all flex items-center gap-2 ${a==="stats"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[s.jsx(Gr,{size:16})," "]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[a==="stats"&&s.jsx(_k,{records:m,availableSchools:n,filters:i}),a==="data"&&s.jsx("div",{className:"h-full overflow-y-auto p-6 md:p-8",children:d==="list"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-slate-700",children:"  "}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"      "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:R,className:"bg-white border border-slate-300 text-slate-600 px-4 py-2.5 rounded-xl hover:bg-slate-50 transition-all flex items-center gap-2 font-bold text-xs",title:"      ",children:[s.jsx(gu,{size:16})," "]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",ref:de,accept:".json",onChange:ee,className:"hidden"}),s.jsxs("button",{onClick:()=>{var Z;return(Z=de.current)==null?void 0:Z.click()},className:"bg-white border border-slate-300 text-slate-600 px-4 py-2.5 rounded-xl hover:bg-slate-50 transition-all flex items-center gap-2 font-bold text-xs",title:"     ",children:[s.jsx(ra,{size:16}),""]})]}),s.jsxs("button",{onClick:()=>f("upload"),className:"bg-teal-600 text-white px-5 py-2.5 rounded-xl shadow-lg shadow-teal-600/20 hover:bg-teal-700 transition-all flex items-center gap-2 font-bold text-sm mr-2",children:[s.jsx(ca,{size:18}),"   (Excel)"]})]})]}),m.length===0?s.jsxs("div",{className:"text-center py-24 bg-white rounded-3xl border-2 border-dashed border-slate-200 cursor-pointer hover:border-teal-200 transition-all",onClick:()=>f("upload"),children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 text-slate-300 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Fd,{size:32})}),s.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"   "}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"    (Excel)   ."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(Z=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-all group overflow-hidden",children:[s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:Z.level}),s.jsx("span",{className:"font-bold text-teal-700 text-sm",children:Z.subject})]}),s.jsx("button",{onClick:()=>k(Z.id),className:"text-slate-300 hover:text-red-500 transition-colors",children:s.jsx(Xg,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-500",children:s.jsx(un,{size:16})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-xs line-clamp-1",children:Z.schoolName}),s.jsxs("p",{className:"text-[10px] text-slate-500",children:[": ",s.jsx("span",{className:"font-bold text-slate-700",children:Z.className})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-slate-50 flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs font-medium text-slate-500",children:[Z.students.length," "]}),s.jsx("div",{className:"text-[10px] text-slate-300",children:Z.uploadDate})]})]}),s.jsx("div",{className:`h-1 w-full ${Z.level==="5AP"?"bg-purple-500":Z.level==="4AP"?"bg-blue-500":"bg-emerald-500"}`})]},Z.id))})]}):s.jsxs("div",{className:"w-full max-w-5xl mx-auto animate-in slide-in-from-right-4",children:[s.jsxs("button",{onClick:()=>f("list"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 font-bold text-xs mb-6 transition-colors",children:[s.jsx(vv,{size:14}),"  "]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-slate-900 text-white p-6 border-b border-slate-800",children:[s.jsx("h2",{className:"text-xl font-bold font-serif",children:"   "}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"        "})]}),s.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-1",children:[s.jsx(un,{size:14})," "]}),s.jsxs("select",{value:p,onChange:Z=>b(Z.target.value),className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-teal-500 outline-none font-bold text-slate-700",children:[s.jsx("option",{value:"",children:"--   --"}),n.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-1",children:[s.jsx(Gg,{size:14})," "]}),s.jsxs("select",{value:v,onChange:Z=>{N(Z.target.value),j(""),q([]),F("")},className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-teal-500 outline-none font-bold text-slate-700",children:[s.jsx("option",{value:"",children:"--   --"}),s.jsx("option",{value:"2AP",children:"  (2AP)"}),s.jsx("option",{value:"4AP",children:"  (4AP)"}),s.jsx("option",{value:"5AP",children:"  (5AP)"})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-1",children:[s.jsx(Vt,{size:14})," "]}),s.jsxs("select",{value:w,onChange:Z=>{j(Z.target.value),q([]),F("")},disabled:!v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-teal-500 outline-none font-bold text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"--   --"}),T.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-1",children:[s.jsx(da,{size:14})," "]}),s.jsx("input",{type:"text",value:E,onChange:Z=>U(Z.target.value),placeholder:": 2",className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-teal-500 outline-none font-bold text-slate-700"})]})]}),s.jsxs("div",{onClick:()=>{var Z;w?(Z=ae.current)==null||Z.click():alert("   ")},className:`border-2 border-dashed rounded-2xl p-8 text-center transition-all cursor-pointer relative
                                                ${w?B?"border-teal-400 bg-teal-50":"border-slate-300 hover:border-teal-400 hover:bg-slate-50":"opacity-50 border-slate-200 bg-slate-50"}
                                            `,children:[s.jsx("input",{type:"file",ref:ae,accept:".xls,.xlsx",onChange:O,className:"hidden",disabled:!w}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3
                                                    ${B?"bg-teal-100 text-teal-600":"bg-slate-200 text-slate-400"}
                                                `,children:s.jsx(Fd,{size:24})}),B?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-bold text-teal-800 text-sm",children:B}),s.jsx("p",{className:"text-teal-600 text-xs mt-1",children:"   "})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-bold text-slate-700 text-sm",children:"    Excel"}),s.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["   : ",v||"..."," - ",w||"..."]})]})]})]}),J.length>0&&s.jsxs("div",{className:"animate-in slide-in-from-bottom-4",children:[s.jsx("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-slate-100",children:s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm",children:[s.jsx(Vl,{className:"bg-green-500 text-white rounded-full p-0.5",size:14}),"   ",J.length," "]})}),s.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-xl max-h-[400px] custom-scrollbar"}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{q([]),F("")},className:"px-6 py-2.5 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition-colors text-sm",children:""}),s.jsxs("button",{onClick:I,className:"bg-slate-900 text-white px-8 py-2.5 rounded-xl shadow-lg hover:bg-slate-800 transition-all font-bold flex items-center gap-2",children:[s.jsx(Fg,{size:18})," "]})]})]})]})]})]})})]})]})},jk=({records:n,availableSchools:e,filters:i,onUpdateFilters:a})=>{const o=P.useMemo(()=>{const m=new Set;return n.forEach(x=>{(i.scope==="district"||x.schoolName===i.selectedSchool)&&m.add(x.level)}),Array.from(m).sort()},[n,i.scope,i.selectedSchool]),d=P.useMemo(()=>{if(i.scope!=="class"||!i.selectedSchool||!i.selectedLevel)return[];const m=new Set;return n.forEach(x=>{x.schoolName===i.selectedSchool&&x.level===i.selectedLevel&&m.add(x.className)}),Array.from(m).sort()},[n,i.scope,i.selectedSchool,i.selectedLevel]),f=P.useMemo(()=>{if(!i.selectedLevel)return[];const m=new Set;return n.forEach(x=>{x.level===i.selectedLevel&&(i.scope==="district"||i.selectedSchool&&x.schoolName===i.selectedSchool)&&m.add(x.subject)}),Array.from(m).sort()},[n,i.scope,i.selectedSchool,i.selectedLevel]);return s.jsxs("div",{className:"h-full flex flex-col p-3 animate-in slide-in-from-left-4 bg-white/50",children:[s.jsxs("div",{className:"bg-slate-100 p-1 rounded-xl flex mb-4 shadow-inner",children:[s.jsxs("button",{onClick:()=>a({scope:"district",selectedSchool:"",selectedClass:"",selectedSubject:""}),className:`flex-1 py-2 rounded-lg text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all ${i.scope==="district"?"bg-white text-indigo-700 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:bg-slate-200/50"}`,children:[s.jsx(K1,{size:14}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"w-px bg-slate-200 my-1 mx-1"}),s.jsxs("button",{onClick:()=>a({scope:"school",selectedClass:"",selectedSubject:""}),className:`flex-1 py-2 rounded-lg text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all ${i.scope==="school"?"bg-white text-blue-700 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:bg-slate-200/50"}`,children:[s.jsx(un,{size:14}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"w-px bg-slate-200 my-1 mx-1"}),s.jsxs("button",{onClick:()=>a({scope:"class",selectedSubject:""}),className:`flex-1 py-2 rounded-lg text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all ${i.scope==="class"?"bg-white text-teal-700 shadow-sm ring-1 ring-black/5":"text-slate-500 hover:bg-slate-200/50"}`,children:[s.jsx(da,{size:14}),s.jsx("span",{children:""})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:`relative ${i.scope==="district"?"opacity-50 pointer-events-none grayscale":""}`,children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:i.selectedSchool,onChange:m=>a({selectedSchool:m.target.value,selectedLevel:"",selectedSubject:"",selectedClass:""}),className:"w-full p-2.5 pl-8 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",children:[s.jsx("option",{value:"",children:i.scope==="district"?"  ":"--   --"}),e.map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(un,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:i.selectedLevel,onChange:m=>a({selectedLevel:m.target.value,selectedSubject:""}),className:"w-full p-2.5 pl-8 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",children:[s.jsx("option",{value:"",children:"--   --"}),o.map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(Gg,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})}),i.scope==="class"&&s.jsx("div",{className:"relative animate-in fade-in slide-in-from-top-1",children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:i.selectedClass,onChange:m=>a({selectedClass:m.target.value,selectedSubject:""}),className:"w-full p-2.5 pl-8 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",children:[s.jsx("option",{value:"",children:"--   --"}),d.map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(da,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})}),s.jsx("div",{className:`relative ${i.selectedLevel?"":"opacity-50 pointer-events-none"}`,children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:i.selectedSubject,onChange:m=>a({selectedSubject:m.target.value}),className:"w-full p-2.5 pl-8 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-700 focus:ring-2 focus:ring-blue-500 outline-none shadow-sm",children:[s.jsx("option",{value:"",children:"--  /  --"}),f.map(m=>s.jsx("option",{value:m,children:m},m))]}),s.jsx(Vt,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})})]}),s.jsx("div",{className:"mt-auto pt-4 border-t border-slate-200 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold ${i.selectedSubject?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${i.selectedSubject?"bg-green-500 animate-pulse":"bg-slate-400"}`}),i.selectedSubject?"  ":" ..."]})})]})},Tk=()=>{const[n,e]=P.useState(!1),[i,a]=P.useState(""),[o,d]=P.useState(""),[f,m]=P.useState(""),[x,p]=P.useState(""),[b,v]=P.useState(!0),[N,w]=P.useState(""),[j,E]=P.useState(""),U=()=>{w(""),E(""),d(""),p(""),b||m("")},J=async q=>{if(q.preventDefault(),!Xr()||!Ht){w("   Supabase  .");return}if(!b){if(o!==x){w("    .");return}if(f.trim().length<3){w("     .");return}}e(!0),w(""),E("");try{if(b){const{error:B}=await Ht.auth.signInWithPassword({email:i,password:o});if(B)throw B}else{const{error:B}=await Ht.auth.signUp({email:i,password:o,options:{data:{full_name:f}}});if(B)throw B;E("   !       ."),v(!0),d(""),p("")}}catch(B){console.error(B),B.message.includes("Invalid login")?w("      ."):B.message.includes("Email not confirmed")?w("       ."):B.message.includes("User already registered")?w("      ."):B.message.includes("Password should be")?w("     6   ."):w(" : "+B.message)}finally{e(!1)}};return Xr()?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"bg-white p-8 pb-0 text-center relative z-10",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl rotate-3 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30",children:s.jsx(Dd,{className:"text-white -rotate-3",size:40})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 font-serif",children:" "}),s.jsx("p",{className:"text-gray-500 mt-2 text-sm font-medium",children:"  "})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-6",children:[s.jsx("button",{onClick:()=>{v(!0),U()},className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${b?"bg-white text-blue-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),s.jsx("button",{onClick:()=>{v(!1),U()},className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${b?"text-gray-500 hover:text-gray-700":"bg-white text-blue-800 shadow-sm"}`,children:" "})]}),N&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-xl text-xs border border-red-100 flex items-start gap-3 animate-in slide-in-from-top-2",children:[s.jsx(Zr,{size:18,className:"shrink-0"}),s.jsx("span",{className:"leading-snug",children:N})]}),j&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 text-green-700 rounded-xl text-xs border border-green-100 flex items-start gap-3 animate-in slide-in-from-top-2",children:[s.jsx(ys,{size:18,className:"shrink-0"}),s.jsx("span",{className:"leading-snug",children:j})]}),s.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!b&&s.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"text",required:!b,value:f,onChange:q=>m(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:" "}),s.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:s.jsx(Bs,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"email",required:!0,value:i,onChange:q=>a(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:"name@education.dz"}),s.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:s.jsx(F1,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"password",required:!0,value:o,onChange:q=>d(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:"",minLength:6}),s.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:s.jsx(Dd,{size:20})})]})]}),!b&&s.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:"  "}),s.jsxs("div",{className:"relative group",children:[s.jsx("input",{type:"password",required:!b,value:x,onChange:q=>p(q.target.value),className:`w-full pl-4 pr-11 py-3 border-2 rounded-xl focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700 ${x&&o!==x?"border-red-200 focus:border-red-500":"border-gray-100 focus:border-blue-500"}`,placeholder:"",minLength:6}),s.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:s.jsx(Dd,{size:20})})]}),x&&o!==x&&s.jsx("p",{className:"text-[10px] text-red-500 mt-1 mr-1 font-bold",children:"   "})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-800 text-white font-bold py-3.5 rounded-xl hover:bg-blue-900 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none mt-4",children:n?s.jsx(xu,{className:"animate-spin",size:20}):b?s.jsxs(s.Fragment,{children:[s.jsx(G1,{size:20})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(FN,{size:20})," "]})})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 text-[11px] text-gray-500 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-bold mb-1",children:[s.jsx(TN,{size:14}),s.jsx("span",{children:"  "})]}),s.jsxs("p",{className:"leading-relaxed opacity-80",children:["   ",s.jsx("b",{children:" "})," ( ).   ( )     Google Sheets        ."]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg p-8 text-center border border-orange-100",children:[s.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(j1,{size:40,className:"text-orange-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),s.jsxs("div",{className:"text-gray-600 mb-8 text-sm leading-relaxed space-y-4 text-right",children:[s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-500 font-bold",children:""}),s.jsxs("span",{children:["      ",s.jsx("b",{children:"Supabase"}),"      ."]})]}),s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-500 font-bold",children:""}),s.jsxs("span",{children:["    ",s.jsx("b",{children:" "}),"     Supabase."]})]})]}),s.jsxs("div",{className:"bg-gray-900 text-gray-300 p-4 rounded-lg text-left text-xs font-mono mb-6 overflow-x-auto shadow-inner",children:[s.jsx("span",{className:"text-green-400",children:"# In services/supabaseService.ts or .env file:"}),s.jsx("br",{}),'const SUPABASE_URL = "YOUR_PROJECT_URL";',s.jsx("br",{}),'const SUPABASE_ANON_KEY = "YOUR_ANON_KEY";']}),s.jsxs("p",{className:"text-xs text-gray-400 border-t pt-4",children:["    : ",s.jsx("code",{children:"npm install @supabase/supabase-js"})]})]})})};var je=(n=>(n.DASHBOARD="DASHBOARD",n.EDITOR="EDITOR",n.LEGACY_EDITOR="LEGACY_EDITOR",n.PRINT="PRINT",n.DATABASE="DATABASE",n.PROMOTIONS="PROMOTIONS",n.TENURE_EDITOR="TENURE_EDITOR",n.QUARTERLY_REPORT="QUARTERLY_REPORT",n.ACQUISITIONS="ACQUISITIONS",n))(je||{});const Bd=()=>Math.random().toString(36).substr(2,9),Ek=()=>{var xt,ba,ya,va;const[n,e]=P.useState(null),[i,a]=P.useState(!0),[o,d]=P.useState(je.DASHBOARD),[f,m]=P.useState(R_),[x,p]=P.useState(""),[b,v]=P.useState(null),[N,w]=P.useState(""),[j,E]=P.useState(!1),[U,J]=P.useState(void 0),[q,B]=P.useState(Ql),[F,ae]=P.useState({}),[de,T]=P.useState($p),[O,I]=P.useState({}),[k,R]=P.useState(D_),[ee,Z]=P.useState(!1),[L,K]=P.useState(!1),[C,$]=P.useState({scope:"district",selectedSchool:"",selectedLevel:"",selectedClass:"",selectedSubject:""}),[G,le]=P.useState(0),[ie,A]=P.useState(!1),[Q,ce]=P.useState("idle"),[fe,me]=P.useState(""),[ye,Te]=P.useState(()=>localStorage.getItem("mufattish_auto_sync")==="true"),Qe=P.useRef(!0),[De,_t]=P.useState(""),[wt,Vn]=P.useState(""),Ns=P.useMemo(()=>{const ue=new Set;return Object.values(F).forEach(pe=>{pe.school&&ue.add(pe.school.trim())}),Array.from(ue).sort()},[F]),Rt=P.useMemo(()=>{const ue=xs(),pe=new Set;return ue.records.forEach(Ne=>pe.add(Ne.schoolName)),Array.from(pe).sort()},[G,o]),W=P.useMemo(()=>{const ue=new Set;return Object.values(F).forEach(pe=>{pe.level&&ue.add(pe.level.trim())}),Array.from(ue).sort()},[F]),pt=P.useMemo(()=>f.filter(ue=>{const pe=F[ue.id];return!(De&&(!pe||pe.school.trim()!==De)||wt&&(!pe||pe.level.trim()!==wt))}),[f,F,De,wt]);P.useEffect(()=>{if(Xr()&&Ht){Ht.auth.getSession().then(({data:{session:pe}})=>{e(pe),a(!1),pe!=null&&pe.user&&typeof zr=="function"&&zr().then(Ne=>{Ne&&(localStorage.setItem("mufattish_script_url",Ne),A(!0))})}).catch(pe=>{console.error("Session check failed:",pe),a(!1)});const{data:{subscription:ue}}=Ht.auth.onAuthStateChange((pe,Ne)=>{e(Ne),a(!1),Ne!=null&&Ne.user&&typeof zr=="function"&&zr().then(Xe=>{Xe&&(localStorage.setItem("mufattish_script_url",Xe),A(!0))})});return()=>ue.unsubscribe()}else a(!1)},[]),P.useEffect(()=>{const ue=localStorage.getItem("mufattish_teachers"),pe=localStorage.getItem("mufattish_reports_map"),Ne=localStorage.getItem("mufattish_tenure_reports_map"),Xe=localStorage.getItem("mufattish_quarterly_report"),Dt=localStorage.getItem("mufattish_is_gold"),sn=localStorage.getItem("mufattish_inspector_name"),Xs=localStorage.getItem("mufattish_signature");if(ue)try{m(JSON.parse(ue))}catch{}if(pe)try{ae(JSON.parse(pe))}catch{}if(Ne)try{I(JSON.parse(Ne))}catch{}if(Xe)try{R(JSON.parse(Xe))}catch{}Dt==="true"&&Z(!0),sn&&w(sn),Xs&&J(Xs),localStorage.getItem("mufattish_script_url")&&A(!0)},[]),P.useEffect(()=>{localStorage.setItem("mufattish_teachers",JSON.stringify(f))},[f]),P.useEffect(()=>{localStorage.setItem("mufattish_reports_map",JSON.stringify(F))},[F]),P.useEffect(()=>{localStorage.setItem("mufattish_tenure_reports_map",JSON.stringify(O))},[O]),P.useEffect(()=>{localStorage.setItem("mufattish_quarterly_report",JSON.stringify(k))},[k]),P.useEffect(()=>{localStorage.setItem("mufattish_is_gold",ee.toString())},[ee]),P.useEffect(()=>{localStorage.setItem("mufattish_inspector_name",N)},[N]),P.useEffect(()=>{if(Qe.current){Qe.current=!1;return}if(!ye||!ie)return;const ue=localStorage.getItem("mufattish_script_url");if(!ue)return;ce("syncing");const pe=setTimeout(async()=>{try{const Ne=yu(f,q,F);await Rx(ue,Ne),ce("success"),me("   Google Sheets"),setTimeout(()=>ce("idle"),3e3)}catch(Ne){console.error("Sync Error:",Ne),ce("error"),me(" ")}},4e3);return()=>clearTimeout(pe)},[f,F,O,ye,ie]);const ma=ue=>{v(ue)},pa=async()=>{Ht&&(await Ht.auth.signOut(),e(null))},Js=(ue,pe)=>{if(v(null),p(ue.id),F[ue.id]){const Ne=F[ue.id];B({...Ne,reportModel:pe,inspectorName:Ne.inspectorName||N})}else{const Ne={...Ql,id:Bd(),teacherId:ue.id,reportModel:pe,wilaya:q.wilaya||"",school:q.school||"",inspectorName:N};B(Ne),ae(Xe=>({...Xe,[ue.id]:Ne}))}},li=ue=>{Js(ue,"modern"),d(je.EDITOR)},ii=ue=>{Js(ue,"legacy"),d(je.LEGACY_EDITOR)},co=ue=>{if(v(null),p(ue.id),O[ue.id]){const pe=O[ue.id];T({...pe,inspectorName:pe.inspectorName||N})}else{const pe={...$p,id:Bd(),teacherId:ue.id,wilaya:q.wilaya||"",school:q.school||"",inspectorName:N};T(pe),I(Ne=>({...Ne,[ue.id]:pe}))}d(je.TENURE_EDITOR)},uo=()=>{R(ue=>({...ue,inspectorName:ue.inspectorName||N,wilaya:ue.wilaya||q.wilaya||"",district:ue.district||q.district||"",teachersTotal:f.length,teachersTrainee:f.filter(pe=>pe.status==="stagiere").length})),d(je.QUARTERLY_REPORT)},gt=ue=>{B(ue),ae(pe=>({...pe,[ue.teacherId]:ue}))},fo=ue=>{T(ue),I(pe=>({...pe,[ue.teacherId]:ue}))},ga=ue=>{R(ue)},Ys=ue=>{m(pe=>pe.map(Ne=>Ne.id===ue.id?ue:Ne)),b&&b.id===ue.id&&v(ue)},Ks=async ue=>{if(window.confirm("      ")){m(Ne=>Ne.filter(Xe=>Xe.id!==ue));const pe={...F};delete pe[ue],ae(pe),x===ue&&(p(""),o!==je.DATABASE&&o!==je.PROMOTIONS&&o!==je.QUARTERLY_REPORT&&d(je.DASHBOARD))}},Qs=()=>{if(x){const ue=f.find(pe=>pe.id===x);ue&&(document.title=`_${ue.fullName.replace(/\s/g,"_")}`)}window.print()},xa=()=>{const ue=prompt("   :");if(ue){const pe={id:Bd(),fullName:ue,birthDate:"",birthPlace:"",degree:"",recruitmentDate:new Date().toISOString().split("T")[0],rank:"  ",lastInspectionDate:"",lastMark:10,status:"titulaire"};m([...f,pe]),ma(pe)}},ho=(ue,pe)=>{const Ne=[...f],Xe={...F};ue.forEach(Dt=>{const sn=Ne.findIndex(Xs=>Xs.id===Dt.id);sn>=0?Ne[sn]=Dt:Ne.push(Dt)}),Object.assign(Xe,pe),m(Ne),ae(Xe),alert(`  ${ue.length}  .`)},mo=(ue,pe,Ne)=>{m(ue),ae(pe),I(Ne),alert("    .")},yn=ue=>{var Ne;const pe=(Ne=ue.target.files)==null?void 0:Ne[0];if(pe){const Xe=new FileReader;Xe.onloadend=()=>{const Dt=Xe.result;J(Dt),localStorage.setItem("mufattish_signature",Dt)},Xe.readAsDataURL(pe)}};if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"text-center animate-pulse",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("div",{className:"text-blue-400 font-bold font-serif text-xl",children:" "}),s.jsx("div",{className:"text-slate-500 text-sm mt-2",children:"  ..."})]})});if(!n)return s.jsx(Tk,{});const $e=f.find(ue=>ue.id===x),nn=((ba=(xt=n.user)==null?void 0:xt.user_metadata)==null?void 0:ba.full_name)||((va=(ya=n.user)==null?void 0:ya.email)==null?void 0:va.split("@")[0])||"";return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-gray-900 font-sans p-3 lg:p-4 overflow-hidden h-screen",children:[s.jsx(wC,{isOpen:L,onClose:()=>K(!1),onUpgrade:()=>{Z(!0),K(!1),alert("!     .")}}),s.jsx(hk,{teacher:b,isOpen:!!b,onClose:()=>v(null),onStartInspection:li,onStartLegacyInspection:ii,onStartTenure:co,onUpdateTeacher:Ys}),s.jsxs("div",{className:"hidden print:block",children:[$e&&o===je.EDITOR&&s.jsx(yC,{report:q,teacher:$e,signature:U}),$e&&o===je.LEGACY_EDITOR&&s.jsx(NC,{report:q,teacher:$e,signature:U}),$e&&o===je.TENURE_EDITOR&&s.jsx(vC,{report:de,teacher:$e,signature:U}),o===je.PROMOTIONS&&s.jsx(Dg,{teachers:pt,reportsMap:F}),o===je.QUARTERLY_REPORT&&s.jsx(Mx,{report:k})]}),s.jsxs("div",{className:"flex h-full gap-4 print:hidden",children:[s.jsxs("aside",{className:"w-96 bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl flex flex-col border border-white/20 overflow-hidden transition-all hover:shadow-blue-900/20 duration-500 shrink-0",children:[s.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-700 to-indigo-800 text-white relative overflow-hidden shrink-0",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>d(je.DASHBOARD),children:[s.jsx(v1,{className:"text-blue-300 group-hover:rotate-180 transition-transform duration-700",size:28,strokeWidth:1.5}),s.jsx("h1",{className:"text-xl font-bold font-serif tracking-wide",children:" "})]})}),s.jsxs("div",{className:"flex gap-2 mb-4 bg-white/10 p-1.5 rounded-xl backdrop-blur-sm border border-white/10 overflow-x-auto no-scrollbar",children:[s.jsx("button",{onClick:()=>d(je.DASHBOARD),className:`flex-1 min-w-[40px] p-2 rounded-lg transition-all flex justify-center items-center ${o===je.DASHBOARD?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:"",children:s.jsx(C1,{size:18})}),s.jsx("button",{onClick:()=>d(je.ACQUISITIONS),className:`flex-1 min-w-[40px] p-2 rounded-lg transition-all flex justify-center items-center ${o===je.ACQUISITIONS?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:s.jsx(fu,{size:18})}),s.jsx("button",{onClick:()=>d(je.DATABASE),className:`flex-1 min-w-[40px] p-2 rounded-lg transition-all flex justify-center items-center ${o===je.DATABASE?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:s.jsx(Br,{size:18})}),s.jsx("button",{onClick:()=>d(je.PROMOTIONS),className:`flex-1 min-w-[40px] p-2 rounded-lg transition-all flex justify-center items-center ${o===je.PROMOTIONS?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:s.jsx(Vr,{size:18})}),s.jsx("button",{onClick:uo,className:`flex-1 min-w-[40px] p-2 rounded-lg transition-all flex justify-center items-center ${o===je.QUARTERLY_REPORT?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:s.jsx(Gr,{size:18})})]}),ie&&s.jsxs("div",{className:`mb-4 px-3 py-2 rounded-xl flex items-center justify-between backdrop-blur-md border transition-all duration-300 ${Q==="error"?"bg-red-500/20 border-red-400/30":"bg-white/10 border-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Q==="syncing"?s.jsx(ra,{size:14,className:"animate-spin text-blue-200"}):Q==="error"?s.jsx(Zr,{size:14,className:"text-red-300"}):s.jsx(pu,{size:14,className:"text-green-300"}),s.jsx("span",{className:"text-[10px] font-bold text-blue-50",children:Q==="syncing"?" ...":Q==="error"?" ":" "})]}),s.jsx("div",{className:`w-2 h-2 rounded-full ${Q==="error"?"bg-red-50":"bg-green-400"} animate-pulse`})]}),s.jsxs("div",{className:"bg-blue-900/40 p-3 rounded-xl border border-blue-400/30 backdrop-blur-md",children:[s.jsx("label",{className:"text-[10px] text-blue-200 font-bold block mb-1 uppercase tracking-wider",children:"  ()"}),s.jsx("div",{className:"flex items-center gap-2",children:j?s.jsx("input",{type:"text",value:N,onChange:ue=>w(ue.target.value),onBlur:()=>E(!1),autoFocus:!0,className:"w-full bg-blue-950/50 border border-blue-400 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-300",placeholder:"  ..."}):s.jsxs("div",{onClick:()=>E(!0),className:"flex-1 flex items-center justify-between cursor-pointer hover:bg-white/5 rounded px-2 py-1 transition-colors group",children:[s.jsx("span",{className:"text-sm font-bold truncate",children:N||"  "}),s.jsx(aN,{size:12,className:"text-blue-300 group-hover:text-white"})]})})]})]}),s.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-500 rounded-full blur-3xl opacity-30"}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 rounded-full blur-3xl opacity-20"})]}),s.jsx("div",{className:"flex-1 overflow-hidden bg-white/50 relative",children:o===je.DASHBOARD||o===je.EDITOR||o===je.LEGACY_EDITOR||o===je.TENURE_EDITOR?s.jsx(O_,{teachers:pt,reportsMap:F,currentReport:q,onSelect:ma,selectedId:x,onAddNew:xa,onImport:ho,onDelete:Ks,availableSchools:Ns,availableLevels:W,filterSchool:De,filterLevel:wt,onSetFilterSchool:_t,onSetFilterLevel:Vn}):o===je.ACQUISITIONS?s.jsx(jk,{records:xs().records,availableSchools:Rt,filters:C,onUpdateFilters:ue=>$(pe=>({...pe,...ue}))}):o===je.QUARTERLY_REPORT?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[s.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Gr,{size:32,className:"text-purple-400"})}),s.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),s.jsx("p",{className:"text-xs",children:"   "})]}):o===je.DATABASE?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[s.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Br,{size:32,className:"text-slate-300"})}),s.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),s.jsx("p",{className:"text-xs",children:"    "})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[s.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Vr,{size:32,className:"text-slate-300"})}),s.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),s.jsx("p",{className:"text-xs",children:"   "})]})}),s.jsx("div",{className:"p-4 border-t border-slate-100 bg-white/80 backdrop-blur-sm shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 border border-blue-200 flex items-center justify-center text-blue-700 shrink-0 shadow-sm",children:s.jsx(Hv,{size:20})}),s.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[120px]",children:[" ",s.jsx("br",{}),s.jsx("span",{className:"font-bold text-slate-800 text-sm truncate block",title:nn,children:nn})]})]}),s.jsx("button",{onClick:pa,className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all shadow-sm border border-transparent hover:border-red-100",title:" ",children:s.jsx(B1,{size:18})})]})})]}),s.jsxs("main",{className:"flex-1 bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl flex flex-col relative overflow-hidden border border-white/20 min-w-0",children:[o===je.DASHBOARD&&s.jsx(fk,{teachers:pt,reportsMap:F,onNavigateToPromotions:()=>d(je.PROMOTIONS),fullTeacherCount:f.length,selectedSchool:De}),o===je.DATABASE&&s.jsx(uk,{teachers:f,reportsMap:F,tenureReportsMap:O,onRestore:mo,currentReport:q,onConnectionChange:A,isConnected:ie,onAutoSyncChange:Te,isAutoSync:ye}),o===je.ACQUISITIONS&&s.jsx(Sk,{availableSchools:Rt,onDataUpdated:()=>le(ue=>ue+1),externalFilters:C}),o===je.PROMOTIONS&&s.jsx(Dg,{teachers:pt,reportsMap:F}),o===je.EDITOR&&$e&&s.jsx(gC,{report:q,teacher:$e,onChange:gt,onTeacherChange:Ys,onPrint:Qs,isGoldMember:ee,onUpgradeClick:()=>K(!0),onUploadSignature:yn}),o===je.LEGACY_EDITOR&&$e&&s.jsx(bC,{report:q,teacher:$e,onChange:gt,onTeacherChange:Ys,onPrint:Qs,isGoldMember:ee,onUpgradeClick:()=>K(!0),onUploadSignature:yn}),o===je.TENURE_EDITOR&&$e&&s.jsx(xC,{report:de,teacher:$e,onChange:fo,onPrint:Qs,isGoldMember:ee,onUploadSignature:yn}),o===je.QUARTERLY_REPORT&&s.jsx(_C,{report:k,onChange:ga,onPrint:Qs,teachers:f,reportsMap:F,tenureReportsMap:O})]})]})]})},Bx=document.getElementById("root");if(!Bx)throw new Error("Could not find root element to mount to");const Ck=fv.createRoot(Bx);Ck.render(s.jsx(aa.StrictMode,{children:s.jsx(Ek,{})}));export{Ug as g};
