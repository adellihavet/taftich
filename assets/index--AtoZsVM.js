(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function p0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var au={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function Uv(){if(cp)return Hl;cp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,r,u){var f=null;if(u!==void 0&&(f=""+u),r.key!==void 0&&(f=""+r.key),"key"in r){u={};for(var p in r)p!=="key"&&(u[p]=r[p])}else u=r;return r=u.ref,{$$typeof:n,type:l,key:f,ref:r!==void 0?r:null,props:u}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var up;function Lv(){return up||(up=1,au.exports=Uv()),au.exports}var a=Lv(),ou={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function Pv(){if(dp)return _e;dp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function J(j,$,te){this.props=j,this.context=$,this.refs=O,this.updater=te||w}J.prototype.isReactComponent={},J.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")},J.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=J.prototype;function G(j,$,te){this.props=j,this.context=$,this.refs=O,this.updater=te||w}var H=G.prototype=new q;H.constructor=G,C(H,J.prototype),H.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var Z={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function oe(j,$,te){var fe=te.ref;return{$$typeof:n,type:j,key:$,ref:fe!==void 0?fe:null,props:te}}function se(j,$){return oe(j.type,$,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function ie(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(te){return $[te]})}var pe=/\/+/g;function I(j,$){return typeof j=="object"&&j!==null&&j.key!=null?ie(""+j.key):$.toString(36)}function D(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(re,re):(j.status="pending",j.then(function($){j.status==="pending"&&(j.status="fulfilled",j.value=$)},function($){j.status==="pending"&&(j.status="rejected",j.reason=$)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function E(j,$,te,fe,xe){var be=typeof j;(be==="undefined"||be==="boolean")&&(j=null);var Te=!1;if(j===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(j.$$typeof){case n:case e:Te=!0;break;case v:return Te=j._init,E(Te(j._payload),$,te,fe,xe)}}if(Te)return xe=xe(j),Te=fe===""?"."+I(j,0):fe,ee(xe)?(te="",Te!=null&&(te=Te.replace(pe,"$&/")+"/"),E(xe,$,te,"",function(yt){return yt})):xe!=null&&(P(xe)&&(xe=se(xe,te+(xe.key==null||j&&j.key===xe.key?"":(""+xe.key).replace(pe,"$&/")+"/")+Te)),$.push(xe)),1;Te=0;var Qe=fe===""?".":fe+":";if(ee(j))for(var ze=0;ze<j.length;ze++)fe=j[ze],be=Qe+I(fe,ze),Te+=E(fe,$,te,be,xe);else if(ze=S(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(fe=j.next()).done;)fe=fe.value,be=Qe+I(fe,ze++),Te+=E(fe,$,te,be,xe);else if(be==="object"){if(typeof j.then=="function")return E(D(j),$,te,fe,xe);throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Te}function M(j,$,te){if(j==null)return j;var fe=[],xe=0;return E(j,fe,"","",function(be){return $.call(te,be,xe++)}),fe}function B(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(te){(j._status===0||j._status===-1)&&(j._status=1,j._result=te)},function(te){(j._status===0||j._status===-1)&&(j._status=2,j._result=te)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var W=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},de={map:M,forEach:function(j,$,te){M(j,function(){$.apply(this,arguments)},te)},count:function(j){var $=0;return M(j,function(){$++}),$},toArray:function(j){return M(j,function($){return $})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return _e.Activity=b,_e.Children=de,_e.Component=J,_e.Fragment=i,_e.Profiler=r,_e.PureComponent=G,_e.StrictMode=l,_e.Suspense=x,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,_e.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Z.H.useMemoCache(j)}},_e.cache=function(j){return function(){return j.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(j,$,te){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var fe=C({},j.props),xe=j.key;if($!=null)for(be in $.key!==void 0&&(xe=""+$.key),$)!ue.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(fe[be]=$[be]);var be=arguments.length-2;if(be===1)fe.children=te;else if(1<be){for(var Te=Array(be),Qe=0;Qe<be;Qe++)Te[Qe]=arguments[Qe+2];fe.children=Te}return oe(j.type,xe,fe)},_e.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},_e.createElement=function(j,$,te){var fe,xe={},be=null;if($!=null)for(fe in $.key!==void 0&&(be=""+$.key),$)ue.call($,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=$[fe]);var Te=arguments.length-2;if(Te===1)xe.children=te;else if(1<Te){for(var Qe=Array(Te),ze=0;ze<Te;ze++)Qe[ze]=arguments[ze+2];xe.children=Qe}if(j&&j.defaultProps)for(fe in Te=j.defaultProps,Te)xe[fe]===void 0&&(xe[fe]=Te[fe]);return oe(j,be,xe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(j){return{$$typeof:p,render:j}},_e.isValidElement=P,_e.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:B}},_e.memo=function(j,$){return{$$typeof:g,type:j,compare:$===void 0?null:$}},_e.startTransition=function(j){var $=Z.T,te={};Z.T=te;try{var fe=j(),xe=Z.S;xe!==null&&xe(te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(re,W)}catch(be){W(be)}finally{$!==null&&te.types!==null&&($.types=te.types),Z.T=$}},_e.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},_e.use=function(j){return Z.H.use(j)},_e.useActionState=function(j,$,te){return Z.H.useActionState(j,$,te)},_e.useCallback=function(j,$){return Z.H.useCallback(j,$)},_e.useContext=function(j){return Z.H.useContext(j)},_e.useDebugValue=function(){},_e.useDeferredValue=function(j,$){return Z.H.useDeferredValue(j,$)},_e.useEffect=function(j,$){return Z.H.useEffect(j,$)},_e.useEffectEvent=function(j){return Z.H.useEffectEvent(j)},_e.useId=function(){return Z.H.useId()},_e.useImperativeHandle=function(j,$,te){return Z.H.useImperativeHandle(j,$,te)},_e.useInsertionEffect=function(j,$){return Z.H.useInsertionEffect(j,$)},_e.useLayoutEffect=function(j,$){return Z.H.useLayoutEffect(j,$)},_e.useMemo=function(j,$){return Z.H.useMemo(j,$)},_e.useOptimistic=function(j,$){return Z.H.useOptimistic(j,$)},_e.useReducer=function(j,$,te){return Z.H.useReducer(j,$,te)},_e.useRef=function(j){return Z.H.useRef(j)},_e.useState=function(j){return Z.H.useState(j)},_e.useSyncExternalStore=function(j,$,te){return Z.H.useSyncExternalStore(j,$,te)},_e.useTransition=function(){return Z.H.useTransition()},_e.version="19.2.0",_e}var fp;function Bu(){return fp||(fp=1,ou.exports=Pv()),ou.exports}var K=Bu();const wu=p0(K);var ru={exports:{}},Vl={},cu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function zv(){return hp||(hp=1,(function(n){function e(E,M){var B=E.length;E.push(M);e:for(;0<B;){var W=B-1>>>1,de=E[W];if(0<r(de,M))E[W]=M,E[B]=de,B=W;else break e}}function i(E){return E.length===0?null:E[0]}function l(E){if(E.length===0)return null;var M=E[0],B=E.pop();if(B!==M){E[0]=B;e:for(var W=0,de=E.length,j=de>>>1;W<j;){var $=2*(W+1)-1,te=E[$],fe=$+1,xe=E[fe];if(0>r(te,B))fe<de&&0>r(xe,te)?(E[W]=xe,E[fe]=B,W=fe):(E[W]=te,E[$]=B,W=$);else if(fe<de&&0>r(xe,B))E[W]=xe,E[fe]=B,W=fe;else break e}}return M}function r(E,M){var B=E.sortIndex-M.sortIndex;return B!==0?B:E.id-M.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var x=[],g=[],v=1,b=null,_=3,S=!1,w=!1,C=!1,O=!1,J=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function H(E){for(var M=i(g);M!==null;){if(M.callback===null)l(g);else if(M.startTime<=E)l(g),M.sortIndex=M.expirationTime,e(x,M);else break;M=i(g)}}function ee(E){if(C=!1,H(E),!w)if(i(x)!==null)w=!0,re||(re=!0,ie());else{var M=i(g);M!==null&&D(ee,M.startTime-E)}}var re=!1,Z=-1,ue=5,oe=-1;function se(){return O?!0:!(n.unstable_now()-oe<ue)}function P(){if(O=!1,re){var E=n.unstable_now();oe=E;var M=!0;try{e:{w=!1,C&&(C=!1,q(Z),Z=-1),S=!0;var B=_;try{t:{for(H(E),b=i(x);b!==null&&!(b.expirationTime>E&&se());){var W=b.callback;if(typeof W=="function"){b.callback=null,_=b.priorityLevel;var de=W(b.expirationTime<=E);if(E=n.unstable_now(),typeof de=="function"){b.callback=de,H(E),M=!0;break t}b===i(x)&&l(x),H(E)}else l(x);b=i(x)}if(b!==null)M=!0;else{var j=i(g);j!==null&&D(ee,j.startTime-E),M=!1}}break e}finally{b=null,_=B,S=!1}M=void 0}}finally{M?ie():re=!1}}}var ie;if(typeof G=="function")ie=function(){G(P)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,I=pe.port2;pe.port1.onmessage=P,ie=function(){I.postMessage(null)}}else ie=function(){J(P,0)};function D(E,M){Z=J(function(){E(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(E){switch(_){case 1:case 2:case 3:var M=3;break;default:M=_}var B=_;_=M;try{return E()}finally{_=B}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var B=_;_=E;try{return M()}finally{_=B}},n.unstable_scheduleCallback=function(E,M,B){var W=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,E){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=B+de,E={id:v++,callback:M,priorityLevel:E,startTime:B,expirationTime:de,sortIndex:-1},B>W?(E.sortIndex=B,e(g,E),i(x)===null&&E===i(g)&&(C?(q(Z),Z=-1):C=!0,D(ee,B-W))):(E.sortIndex=de,e(x,E),w||S||(w=!0,re||(re=!0,ie()))),E},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(E){var M=_;return function(){var B=_;_=M;try{return E.apply(this,arguments)}finally{_=B}}}})(uu)),uu}var mp;function Ov(){return mp||(mp=1,cu.exports=zv()),cu.exports}var du={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function qv(){if(pp)return pt;pp=1;var n=Bu();function e(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(x,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:x,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(x,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(x,g,null,v)},pt.flushSync=function(x){var g=f.T,v=l.p;try{if(f.T=null,l.p=2,x)return x()}finally{f.T=g,l.p=v,l.d.f()}},pt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(x,g))},pt.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},pt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&l.d.X(x,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);l.d.M(x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(x)},pt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin);l.d.L(x,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pt.preloadModule=function(x,g){if(typeof x=="string")if(g){var v=p(g.as,g.crossOrigin);l.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(x)},pt.requestFormReset=function(x){l.d.r(x)},pt.unstable_batchedUpdates=function(x,g){return x(g)},pt.useFormState=function(x,g,v){return f.H.useFormState(x,g,v)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var gp;function g0(){if(gp)return du.exports;gp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),du.exports=qv(),du.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Gv(){if(xp)return Vl;xp=1;var n=Ov(),e=Bu(),i=g0();function l(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(l(188))}function g(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(l(188));return s!==t?null:t}for(var o=t,c=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return x(m),t;if(y===c)return x(m),s;y=y.sibling}throw Error(l(188))}if(o.return!==c.return)o=m,c=y;else{for(var N=!1,T=m.child;T;){if(T===o){N=!0,o=m,c=y;break}if(T===c){N=!0,c=m,o=y;break}T=T.sibling}if(!N){for(T=y.child;T;){if(T===o){N=!0,o=y,c=m;break}if(T===c){N=!0,c=y,o=m;break}T=T.sibling}if(!N)throw Error(l(189))}}if(o.alternate!==c)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case J:return"Profiler";case O:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case oe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case G:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case H:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return s=t.displayName||null,s!==null?s:I(t.type)||"Memo";case ue:s=t._payload,t=t._init;try{return I(t(s))}catch{}}return null}var D=Array.isArray,E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},W=[],de=-1;function j(t){return{current:t}}function $(t){0>de||(t.current=W[de],W[de]=null,de--)}function te(t,s){de++,W[de]=t.current,t.current=s}var fe=j(null),xe=j(null),be=j(null),Te=j(null);function Qe(t,s){switch(te(be,s),te(xe,t),te(fe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?km(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=km(s),t=Dm(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(fe),te(fe,t)}function ze(){$(fe),$(xe),$(be)}function yt(t){t.memoizedState!==null&&te(Te,t);var s=fe.current,o=Dm(s,t.type);s!==o&&(te(xe,t),te(fe,o))}function vt(t){xe.current===t&&($(fe),$(xe)),Te.current===t&&($(Te),zl._currentValue=B)}var pn,ps;function Rt(t){if(pn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);pn=s&&s[1]||"",ps=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pn+t+ps}var F=!1;function Mt(t,s){if(!t||F)return"";F=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(V){var z=V}Reflect.construct(t,[],X)}else{try{X.call()}catch(V){z=V}t.call(X.prototype)}}else{try{throw Error()}catch(V){z=V}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(V){if(V&&z&&typeof V.stack=="string")return[V.stack,z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],T=y[1];if(N&&T){var A=N.split(`
`),L=T.split(`
`);for(m=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(c===A.length||m===L.length)for(c=A.length-1,m=L.length-1;1<=c&&0<=m&&A[c]!==L[m];)m--;for(;1<=c&&0<=m;c--,m--)if(A[c]!==L[m]){if(c!==1||m!==1)do if(c--,m--,0>m||A[c]!==L[m]){var Y=`
`+A[c].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=c&&0<=m);break}}}finally{F=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Rt(o):""}function Fo(t,s){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==s&&s!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return Mt(t.type,!1);case 11:return Mt(t.type.render,!1);case 1:return Mt(t.type,!0);case 31:return Rt("Activity");default:return""}}function ea(t){try{var s="",o=null;do s+=Fo(t,o),o=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Gs=Object.prototype.hasOwnProperty,Ji=n.unstable_scheduleCallback,Yi=n.unstable_cancelCallback,Ki=n.unstable_shouldYield,$o=n.unstable_requestPaint,at=n.unstable_now,Jo=n.unstable_getCurrentPriorityLevel,ta=n.unstable_ImmediatePriority,na=n.unstable_UserBlockingPriority,On=n.unstable_NormalPriority,Nt=n.unstable_LowPriority,Qi=n.unstable_IdlePriority,sa=n.log,ia=n.unstable_setDisableYieldValue,qn=null,mt=null;function le(t){if(typeof sa=="function"&&ia(t),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(qn,t)}catch{}}var he=Math.clz32?Math.clz32:on,De=Math.log,bt=Math.LN2;function on(t){return t>>>=0,t===0?32:31-(De(t)/bt|0)|0}var rn=256,gn=262144,gs=4194304;function cn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qt(t,s,o){var c=t.pendingLanes;if(c===0)return 0;var m=0,y=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~y,c!==0?m=cn(c):(N&=T,N!==0?m=cn(N):o||(o=T&~t,o!==0&&(m=cn(o))))):(T=c&~y,T!==0?m=cn(T):N!==0?m=cn(N):o||(o=c&~t,o!==0&&(m=cn(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function Xi(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Nx(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fd(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Yo(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Zi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sx(t,s,o,c,m,y){var N=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var T=t.entanglements,A=t.expirationTimes,L=t.hiddenUpdates;for(o=N&~o;0<o;){var Y=31-he(o),X=1<<Y;T[Y]=0,A[Y]=-1;var z=L[Y];if(z!==null)for(L[Y]=null,Y=0;Y<z.length;Y++){var V=z[Y];V!==null&&(V.lane&=-536870913)}o&=~X}c!==0&&hd(t,c,0),y!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=y&~(N&~s))}function hd(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-he(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function md(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var c=31-he(o),m=1<<c;m&s|t[c]&s&&(t[c]|=s),o&=~m}}function pd(t,s){var o=s&-s;return o=(o&42)!==0?1:Ko(o),(o&(t.suspendedLanes|s))!==0?0:o}function Ko(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gd(){var t=M.p;return t!==0?t:(t=window.event,t===void 0?32:np(t.type))}function xd(t,s){var o=M.p;try{return M.p=t,s()}finally{M.p=o}}var Gn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Gn,St="__reactProps$"+Gn,Hs="__reactContainer$"+Gn,Xo="__reactEvents$"+Gn,Tx="__reactListeners$"+Gn,wx="__reactHandles$"+Gn,yd="__reactResources$"+Gn,Wi="__reactMarker$"+Gn;function Zo(t){delete t[ct],delete t[St],delete t[Xo],delete t[Tx],delete t[wx]}function Vs(t){var s=t[ct];if(s)return s;for(var o=t.parentNode;o;){if(s=o[Hs]||o[ct]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=qm(t);t!==null;){if(o=t[ct])return o;t=qm(t)}return s}t=o,o=t.parentNode}return null}function Bs(t){if(t=t[ct]||t[Hs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function el(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(l(33))}function Fs(t){var s=t[yd];return s||(s=t[yd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(t){t[Wi]=!0}var vd=new Set,bd={};function xs(t,s){$s(t,s),$s(t+"Capture",s)}function $s(t,s){for(bd[t]=s,t=0;t<s.length;t++)vd.add(s[t])}var Ex=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},Nd={};function Cx(t){return Gs.call(Nd,t)?!0:Gs.call(_d,t)?!1:Ex.test(t)?Nd[t]=!0:(_d[t]=!0,!1)}function la(t,s,o){if(Cx(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function aa(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function xn(t,s,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+c)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ax(t,s,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return m.call(this)},set:function(N){o=""+N,y.call(this,N)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Wo(t){if(!t._valueTracker){var s=Sd(t)?"checked":"value";t._valueTracker=Ax(t,s,""+t[s])}}function Td(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return t&&(c=Sd(t)?t.checked?"true":"false":t.value),t=c,t!==o?(s.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jx=/[\n"\\]/g;function Ht(t){return t.replace(jx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function er(t,s,o,c,m,y,N,T){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),s!=null?N==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Gt(s)):t.value!==""+Gt(s)&&(t.value=""+Gt(s)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),s!=null?tr(t,N,Gt(s)):o!=null?tr(t,N,Gt(o)):c!=null&&t.removeAttribute("value"),m==null&&y!=null&&(t.defaultChecked=!!y),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Gt(T):t.removeAttribute("name")}function wd(t,s,o,c,m,y,N,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Wo(t);return}o=o!=null?""+Gt(o):"",s=s!=null?""+Gt(s):o,T||s===t.value||(t.value=s),t.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),Wo(t)}function tr(t,s,o){s==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Js(t,s,o,c){if(t=t.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=s.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Gt(o),s=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}s!==null||t[m].disabled||(s=t[m])}s!==null&&(s.selected=!0)}}function Ed(t,s,o){if(s!=null&&(s=""+Gt(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+Gt(o):""}function Cd(t,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(l(92));if(D(c)){if(1<c.length)throw Error(l(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Gt(s),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Wo(t)}function Ys(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Rx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(t,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,o):typeof o!="number"||o===0||Rx.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function jd(t,s,o){if(s!=null&&typeof s!="object")throw Error(l(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Ad(t,m,c)}else for(var y in s)s.hasOwnProperty(y)&&Ad(t,y,s[y])}function nr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return kx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var sr=null;function ir(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Qs=null;function Rd(t){var s=Bs(t);if(s&&(t=s.stateNode)){var o=t[St]||null;e:switch(t=s.stateNode,s.type){case"input":if(er(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==t&&c.form===t.form){var m=c[St]||null;if(!m)throw Error(l(90));er(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===t.form&&Td(c)}break e;case"textarea":Ed(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Js(t,!!o.multiple,s,!1)}}}var lr=!1;function Md(t,s,o){if(lr)return t(s,o);lr=!0;try{var c=t(s);return c}finally{if(lr=!1,(Ks!==null||Qs!==null)&&(Ka(),Ks&&(s=Ks,t=Qs,Qs=Ks=null,Rd(s),t)))for(s=0;s<t.length;s++)Rd(t[s])}}function tl(t,s){var o=t.stateNode;if(o===null)return null;var c=o[St]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(l(231,s,typeof o));return o}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(vn)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){ar=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{ar=!1}var Hn=null,or=null,ca=null;function kd(){if(ca)return ca;var t,s=or,o=s.length,c,m="value"in Hn?Hn.value:Hn.textContent,y=m.length;for(t=0;t<o&&s[t]===m[t];t++);var N=o-t;for(c=1;c<=N&&s[o-c]===m[y-c];c++);return ca=m.slice(t,1<c?1-c:void 0)}function ua(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function da(){return!0}function Dd(){return!1}function Tt(t){function s(o,c,m,y,N){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?da:Dd,this.isPropagationStopped=Dd,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),s}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Tt(ys),sl=b({},ys,{view:0,detail:0}),Dx=Tt(sl),rr,cr,il,ha=b({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==il&&(il&&t.type==="mousemove"?(rr=t.screenX-il.screenX,cr=t.screenY-il.screenY):cr=rr=0,il=t),rr)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),Id=Tt(ha),Ix=b({},ha,{dataTransfer:0}),Ux=Tt(Ix),Lx=b({},sl,{relatedTarget:0}),ur=Tt(Lx),Px=b({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=Tt(Px),Ox=b({},ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qx=Tt(Ox),Gx=b({},ys,{data:0}),Ud=Tt(Gx),Hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Bx[t])?!!s[t]:!1}function dr(){return Fx}var $x=b({},sl,{key:function(t){if(t.key){var s=Hx[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jx=Tt($x),Yx=b({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=Tt(Yx),Kx=b({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),Qx=Tt(Kx),Xx=b({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=Tt(Xx),Wx=b({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ey=Tt(Wx),ty=b({},ys,{newState:0,oldState:0}),ny=Tt(ty),sy=[9,13,27,32],fr=vn&&"CompositionEvent"in window,ll=null;vn&&"documentMode"in document&&(ll=document.documentMode);var iy=vn&&"TextEvent"in window&&!ll,Pd=vn&&(!fr||ll&&8<ll&&11>=ll),zd=" ",Od=!1;function qd(t,s){switch(t){case"keyup":return sy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function ly(t,s){switch(t){case"compositionend":return Gd(s);case"keypress":return s.which!==32?null:(Od=!0,zd);case"textInput":return t=s.data,t===zd&&Od?null:t;default:return null}}function ay(t,s){if(Xs)return t==="compositionend"||!fr&&qd(t,s)?(t=kd(),ca=or=Hn=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pd&&s.locale!=="ko"?null:s.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!oy[t.type]:s==="textarea"}function Vd(t,s,o,c){Ks?Qs?Qs.push(c):Qs=[c]:Ks=c,s=no(s,"onChange"),0<s.length&&(o=new fa("onChange","change",null,o,c),t.push({event:o,listeners:s}))}var al=null,ol=null;function ry(t){Em(t,0)}function ma(t){var s=el(t);if(Td(s))return t}function Bd(t,s){if(t==="change")return s}var Fd=!1;if(vn){var hr;if(vn){var mr="oninput"in document;if(!mr){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),mr=typeof $d.oninput=="function"}hr=mr}else hr=!1;Fd=hr&&(!document.documentMode||9<document.documentMode)}function Jd(){al&&(al.detachEvent("onpropertychange",Yd),ol=al=null)}function Yd(t){if(t.propertyName==="value"&&ma(ol)){var s=[];Vd(s,ol,t,ir(t)),Md(ry,s)}}function cy(t,s,o){t==="focusin"?(Jd(),al=s,ol=o,al.attachEvent("onpropertychange",Yd)):t==="focusout"&&Jd()}function uy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ma(ol)}function dy(t,s){if(t==="click")return ma(s)}function fy(t,s){if(t==="input"||t==="change")return ma(s)}function hy(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var kt=typeof Object.is=="function"?Object.is:hy;function rl(t,s){if(kt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Gs.call(s,m)||!kt(t[m],s[m]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,s){var o=Kd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=s&&c>=s)return{node:o,offset:s-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kd(o)}}function Xd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Xd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=oa(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=oa(t.document)}return s}function pr(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var my=vn&&"documentMode"in document&&11>=document.documentMode,Zs=null,gr=null,cl=null,xr=!1;function Wd(t,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xr||Zs==null||Zs!==oa(c)||(c=Zs,"selectionStart"in c&&pr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cl&&rl(cl,c)||(cl=c,c=no(gr,"onSelect"),0<c.length&&(s=new fa("onSelect","select",null,s,o),t.push({event:s,listeners:c}),s.target=Zs)))}function vs(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Ws={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},yr={},ef={};vn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function bs(t){if(yr[t])return yr[t];if(!Ws[t])return t;var s=Ws[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in ef)return yr[t]=s[o];return t}var tf=bs("animationend"),nf=bs("animationiteration"),sf=bs("animationstart"),py=bs("transitionrun"),gy=bs("transitionstart"),xy=bs("transitioncancel"),lf=bs("transitionend"),af=new Map,vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vr.push("scrollEnd");function Wt(t,s){af.set(t,s),xs(s,[t])}var pa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vt=[],ei=0,br=0;function ga(){for(var t=ei,s=br=ei=0;s<t;){var o=Vt[s];Vt[s++]=null;var c=Vt[s];Vt[s++]=null;var m=Vt[s];Vt[s++]=null;var y=Vt[s];if(Vt[s++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}y!==0&&of(o,m,y)}}function xa(t,s,o,c){Vt[ei++]=t,Vt[ei++]=s,Vt[ei++]=o,Vt[ei++]=c,br|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function _r(t,s,o,c){return xa(t,s,o,c),ya(t)}function _s(t,s){return xa(t,null,null,s),ya(t)}function of(t,s,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=t.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(m=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,m&&s!==null&&(m=31-he(o),t=y.hiddenUpdates,c=t[m],c===null?t[m]=[s]:c.push(s),s.lane=o|536870912),y):null}function ya(t){if(50<Ml)throw Ml=0,Rc=null,Error(l(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ti={};function yy(t,s,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,s,o,c){return new yy(t,s,o,c)}function Nr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bn(t,s){var o=t.alternate;return o===null?(o=Dt(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function rf(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function va(t,s,o,c,m,y){var N=0;if(c=t,typeof t=="function")Nr(t)&&(N=1);else if(typeof t=="string")N=Sv(t,o,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case oe:return t=Dt(31,o,s,m),t.elementType=oe,t.lanes=y,t;case C:return Ns(o.children,m,y,s);case O:N=8,m|=24;break;case J:return t=Dt(12,o,s,m|2),t.elementType=J,t.lanes=y,t;case ee:return t=Dt(13,o,s,m),t.elementType=ee,t.lanes=y,t;case re:return t=Dt(19,o,s,m),t.elementType=re,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:N=10;break e;case q:N=9;break e;case H:N=11;break e;case Z:N=14;break e;case ue:N=16,c=null;break e}N=29,o=Error(l(130,t===null?"null":typeof t,"")),c=null}return s=Dt(N,o,s,m),s.elementType=t,s.type=c,s.lanes=y,s}function Ns(t,s,o,c){return t=Dt(7,t,c,s),t.lanes=o,t}function Sr(t,s,o){return t=Dt(6,t,null,s),t.lanes=o,t}function cf(t){var s=Dt(18,null,null,0);return s.stateNode=t,s}function Tr(t,s,o){return s=Dt(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var uf=new WeakMap;function Bt(t,s){if(typeof t=="object"&&t!==null){var o=uf.get(t);return o!==void 0?o:(s={value:t,source:s,stack:ea(s)},uf.set(t,s),s)}return{value:t,source:s,stack:ea(s)}}var ni=[],si=0,ba=null,ul=0,Ft=[],$t=0,Vn=null,un=1,dn="";function _n(t,s){ni[si++]=ul,ni[si++]=ba,ba=t,ul=s}function df(t,s,o){Ft[$t++]=un,Ft[$t++]=dn,Ft[$t++]=Vn,Vn=t;var c=un;t=dn;var m=32-he(c)-1;c&=~(1<<m),o+=1;var y=32-he(s)+m;if(30<y){var N=m-m%5;y=(c&(1<<N)-1).toString(32),c>>=N,m-=N,un=1<<32-he(s)+m|o<<m|c,dn=y+t}else un=1<<y|o<<m|c,dn=t}function wr(t){t.return!==null&&(_n(t,1),df(t,1,0))}function Er(t){for(;t===ba;)ba=ni[--si],ni[si]=null,ul=ni[--si],ni[si]=null;for(;t===Vn;)Vn=Ft[--$t],Ft[$t]=null,dn=Ft[--$t],Ft[$t]=null,un=Ft[--$t],Ft[$t]=null}function ff(t,s){Ft[$t++]=un,Ft[$t++]=dn,Ft[$t++]=Vn,un=s.id,dn=s.overflow,Vn=t}var ut=null,$e=null,Me=!1,Bn=null,Jt=!1,Cr=Error(l(519));function Fn(t){var s=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Bt(s,t)),Cr}function hf(t){var s=t.stateNode,o=t.type,c=t.memoizedProps;switch(s[ct]=t,s[St]=c,o){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(o=0;o<Dl.length;o++)Ee(Dl[o],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),wd(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),Cd(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Rm(s.textContent,o)?(c.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),c.onScroll!=null&&Ee("scroll",s),c.onScrollEnd!=null&&Ee("scrollend",s),c.onClick!=null&&(s.onclick=yn),s=!0):s=!1,s||Fn(t,!0)}function mf(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ut=ut.return}}function ii(t){if(t!==ut)return!1;if(!Me)return mf(t),Me=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Fc(t.type,t.memoizedProps)),o=!o),o&&$e&&Fn(t),mf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));$e=Om(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));$e=Om(t)}else s===27?(s=$e,ls(t.type)?(t=Qc,Qc=null,$e=t):$e=s):$e=ut?Kt(t.stateNode.nextSibling):null;return!0}function Ss(){$e=ut=null,Me=!1}function Ar(){var t=Bn;return t!==null&&(At===null?At=t:At.push.apply(At,t),Bn=null),t}function dl(t){Bn===null?Bn=[t]:Bn.push(t)}var jr=j(null),Ts=null,Nn=null;function $n(t,s,o){te(jr,s._currentValue),s._currentValue=o}function Sn(t){t._currentValue=jr.current,$(jr)}function Rr(t,s,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===o)break;t=t.return}}function Mr(t,s,o,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var y=m.dependencies;if(y!==null){var N=m.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=m;for(var A=0;A<s.length;A++)if(T.context===s[A]){y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),Rr(y.return,o,t),c||(N=null);break e}y=T.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(l(341));N.lanes|=o,y=N.alternate,y!==null&&(y.lanes|=o),Rr(N,o,t),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===t){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function li(t,s,o,c){t=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var T=m.type;kt(m.pendingProps.value,N.value)||(t!==null?t.push(T):t=[T])}}else if(m===Te.current){if(N=m.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}m=m.return}t!==null&&Mr(s,t,o,c),s.flags|=262144}function _a(t){for(t=t.firstContext;t!==null;){if(!kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){Ts=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return pf(Ts,t)}function Na(t,s){return Ts===null&&ws(t),pf(t,s)}function pf(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Nn===null){if(t===null)throw Error(l(308));Nn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Nn=Nn.next=s;return o}var vy=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},by=n.unstable_scheduleCallback,_y=n.unstable_NormalPriority,tt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kr(){return{controller:new vy,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&by(_y,function(){t.controller.abort()})}var hl=null,Dr=0,ai=0,oi=null;function Ny(t,s){if(hl===null){var o=hl=[];Dr=0,ai=Lc(),oi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Dr++,s.then(gf,gf),s}function gf(){if(--Dr===0&&hl!==null){oi!==null&&(oi.status="fulfilled");var t=hl;hl=null,ai=0,oi=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Sy(t,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var xf=E.S;E.S=function(t,s){em=at(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ny(t,s),xf!==null&&xf(t,s)};var Es=j(null);function Ir(){var t=Es.current;return t!==null?t:Be.pooledCache}function Sa(t,s){s===null?te(Es,Es.current):te(Es,s.pool)}function yf(){var t=Ir();return t===null?null:{parent:tt._currentValue,pool:t}}var ri=Error(l(460)),Ur=Error(l(474)),Ta=Error(l(542)),wa={then:function(){}};function vf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bf(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(yn,yn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Nf(t),t;default:if(typeof s.status=="string")s.then(yn,yn);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Nf(t),t}throw As=s,ri}}function Cs(t){try{var s=t._init;return s(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(As=o,ri):o}}var As=null;function _f(){if(As===null)throw Error(l(459));var t=As;return As=null,t}function Nf(t){if(t===ri||t===Ta)throw Error(l(483))}var ci=null,ml=0;function Ea(t){var s=ml;return ml+=1,ci===null&&(ci=[]),bf(ci,t,s)}function pl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ca(t,s){throw s.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Sf(t){function s(k,R){if(t){var U=k.deletions;U===null?(k.deletions=[R],k.flags|=16):U.push(R)}}function o(k,R){if(!t)return null;for(;R!==null;)s(k,R),R=R.sibling;return null}function c(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function m(k,R){return k=bn(k,R),k.index=0,k.sibling=null,k}function y(k,R,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<R?(k.flags|=67108866,R):U):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function N(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,R,U,Q){return R===null||R.tag!==6?(R=Sr(U,k.mode,Q),R.return=k,R):(R=m(R,U),R.return=k,R)}function A(k,R,U,Q){var ye=U.type;return ye===C?Y(k,R,U.props.children,Q,U.key):R!==null&&(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ue&&Cs(ye)===R.type)?(R=m(R,U.props),pl(R,U),R.return=k,R):(R=va(U.type,U.key,U.props,null,k.mode,Q),pl(R,U),R.return=k,R)}function L(k,R,U,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Tr(U,k.mode,Q),R.return=k,R):(R=m(R,U.children||[]),R.return=k,R)}function Y(k,R,U,Q,ye){return R===null||R.tag!==7?(R=Ns(U,k.mode,Q,ye),R.return=k,R):(R=m(R,U),R.return=k,R)}function X(k,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Sr(""+R,k.mode,U),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return U=va(R.type,R.key,R.props,null,k.mode,U),pl(U,R),U.return=k,U;case w:return R=Tr(R,k.mode,U),R.return=k,R;case ue:return R=Cs(R),X(k,R,U)}if(D(R)||ie(R))return R=Ns(R,k.mode,U,null),R.return=k,R;if(typeof R.then=="function")return X(k,Ea(R),U);if(R.$$typeof===G)return X(k,Na(k,R),U);Ca(k,R)}return null}function z(k,R,U,Q){var ye=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:T(k,R,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===ye?A(k,R,U,Q):null;case w:return U.key===ye?L(k,R,U,Q):null;case ue:return U=Cs(U),z(k,R,U,Q)}if(D(U)||ie(U))return ye!==null?null:Y(k,R,U,Q,null);if(typeof U.then=="function")return z(k,R,Ea(U),Q);if(U.$$typeof===G)return z(k,R,Na(k,U),Q);Ca(k,U)}return null}function V(k,R,U,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,T(R,k,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return k=k.get(Q.key===null?U:Q.key)||null,A(R,k,Q,ye);case w:return k=k.get(Q.key===null?U:Q.key)||null,L(R,k,Q,ye);case ue:return Q=Cs(Q),V(k,R,U,Q,ye)}if(D(Q)||ie(Q))return k=k.get(U)||null,Y(R,k,Q,ye,null);if(typeof Q.then=="function")return V(k,R,U,Ea(Q),ye);if(Q.$$typeof===G)return V(k,R,U,Na(R,Q),ye);Ca(R,Q)}return null}function me(k,R,U,Q){for(var ye=null,Ie=null,ge=R,Se=R=0,je=null;ge!==null&&Se<U.length;Se++){ge.index>Se?(je=ge,ge=null):je=ge.sibling;var Ue=z(k,ge,U[Se],Q);if(Ue===null){ge===null&&(ge=je);break}t&&ge&&Ue.alternate===null&&s(k,ge),R=y(Ue,R,Se),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue,ge=je}if(Se===U.length)return o(k,ge),Me&&_n(k,Se),ye;if(ge===null){for(;Se<U.length;Se++)ge=X(k,U[Se],Q),ge!==null&&(R=y(ge,R,Se),Ie===null?ye=ge:Ie.sibling=ge,Ie=ge);return Me&&_n(k,Se),ye}for(ge=c(ge);Se<U.length;Se++)je=V(ge,k,Se,U[Se],Q),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?Se:je.key),R=y(je,R,Se),Ie===null?ye=je:Ie.sibling=je,Ie=je);return t&&ge.forEach(function(us){return s(k,us)}),Me&&_n(k,Se),ye}function ve(k,R,U,Q){if(U==null)throw Error(l(151));for(var ye=null,Ie=null,ge=R,Se=R=0,je=null,Ue=U.next();ge!==null&&!Ue.done;Se++,Ue=U.next()){ge.index>Se?(je=ge,ge=null):je=ge.sibling;var us=z(k,ge,Ue.value,Q);if(us===null){ge===null&&(ge=je);break}t&&ge&&us.alternate===null&&s(k,ge),R=y(us,R,Se),Ie===null?ye=us:Ie.sibling=us,Ie=us,ge=je}if(Ue.done)return o(k,ge),Me&&_n(k,Se),ye;if(ge===null){for(;!Ue.done;Se++,Ue=U.next())Ue=X(k,Ue.value,Q),Ue!==null&&(R=y(Ue,R,Se),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue);return Me&&_n(k,Se),ye}for(ge=c(ge);!Ue.done;Se++,Ue=U.next())Ue=V(ge,k,Se,Ue.value,Q),Ue!==null&&(t&&Ue.alternate!==null&&ge.delete(Ue.key===null?Se:Ue.key),R=y(Ue,R,Se),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue);return t&&ge.forEach(function(Iv){return s(k,Iv)}),Me&&_n(k,Se),ye}function Ve(k,R,U,Q){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var ye=U.key;R!==null;){if(R.key===ye){if(ye=U.type,ye===C){if(R.tag===7){o(k,R.sibling),Q=m(R,U.props.children),Q.return=k,k=Q;break e}}else if(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ue&&Cs(ye)===R.type){o(k,R.sibling),Q=m(R,U.props),pl(Q,U),Q.return=k,k=Q;break e}o(k,R);break}else s(k,R);R=R.sibling}U.type===C?(Q=Ns(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=va(U.type,U.key,U.props,null,k.mode,Q),pl(Q,U),Q.return=k,k=Q)}return N(k);case w:e:{for(ye=U.key;R!==null;){if(R.key===ye)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){o(k,R.sibling),Q=m(R,U.children||[]),Q.return=k,k=Q;break e}else{o(k,R);break}else s(k,R);R=R.sibling}Q=Tr(U,k.mode,Q),Q.return=k,k=Q}return N(k);case ue:return U=Cs(U),Ve(k,R,U,Q)}if(D(U))return me(k,R,U,Q);if(ie(U)){if(ye=ie(U),typeof ye!="function")throw Error(l(150));return U=ye.call(U),ve(k,R,U,Q)}if(typeof U.then=="function")return Ve(k,R,Ea(U),Q);if(U.$$typeof===G)return Ve(k,R,Na(k,U),Q);Ca(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(o(k,R.sibling),Q=m(R,U),Q.return=k,k=Q):(o(k,R),Q=Sr(U,k.mode,Q),Q.return=k,k=Q),N(k)):o(k,R)}return function(k,R,U,Q){try{ml=0;var ye=Ve(k,R,U,Q);return ci=null,ye}catch(ge){if(ge===ri||ge===Ta)throw ge;var Ie=Dt(29,ge,null,k.mode);return Ie.lanes=Q,Ie.return=k,Ie}finally{}}}var js=Sf(!0),Tf=Sf(!1),Jn=!1;function Lr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=ya(t),of(t,null,o),s}return xa(t,c,s,o),ya(t)}function gl(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,md(t,o)}}function zr(t,s){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=N:y=y.next=N,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var Or=!1;function xl(){if(Or){var t=oi;if(t!==null)throw t}}function yl(t,s,o,c){Or=!1;var m=t.updateQueue;Jn=!1;var y=m.firstBaseUpdate,N=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var A=T,L=A.next;A.next=null,N===null?y=L:N.next=L,N=A;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==N&&(T===null?Y.firstBaseUpdate=L:T.next=L,Y.lastBaseUpdate=A))}if(y!==null){var X=m.baseState;N=0,Y=L=A=null,T=y;do{var z=T.lane&-536870913,V=z!==T.lane;if(V?(Ae&z)===z:(c&z)===z){z!==0&&z===ai&&(Or=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,ve=T;z=s;var Ve=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){X=me.call(Ve,X,z);break e}X=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,z=typeof me=="function"?me.call(Ve,X,z):me,z==null)break e;X=b({},X,z);break e;case 2:Jn=!0}}z=T.callback,z!==null&&(t.flags|=64,V&&(t.flags|=8192),V=m.callbacks,V===null?m.callbacks=[z]:V.push(z))}else V={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(L=Y=V,A=X):Y=Y.next=V,N|=z;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;V=T,T=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);Y===null&&(A=X),m.baseState=A,m.firstBaseUpdate=L,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),es|=N,t.lanes=N,t.memoizedState=X}}function wf(t,s){if(typeof t!="function")throw Error(l(191,t));t.call(s)}function Ef(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)wf(o[t],s)}var ui=j(null),Aa=j(0);function Cf(t,s){t=kn,te(Aa,t),te(ui,s),kn=t|s.baseLanes}function qr(){te(Aa,kn),te(ui,ui.current)}function Gr(){kn=Aa.current,$(ui),$(Aa)}var It=j(null),Yt=null;function Qn(t){var s=t.alternate;te(We,We.current&1),te(It,t),Yt===null&&(s===null||ui.current!==null||s.memoizedState!==null)&&(Yt=t)}function Hr(t){te(We,We.current),te(It,t),Yt===null&&(Yt=t)}function Af(t){t.tag===22?(te(We,We.current),te(It,t),Yt===null&&(Yt=t)):Xn()}function Xn(){te(We,We.current),te(It,It.current)}function Ut(t){$(It),Yt===t&&(Yt=null),$(We)}var We=j(0);function ja(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yc(o)||Kc(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tn=0,Ne=null,Ge=null,nt=null,Ra=!1,di=!1,Rs=!1,Ma=0,vl=0,fi=null,Ty=0;function Xe(){throw Error(l(321))}function Vr(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!kt(t[o],s[o]))return!1;return!0}function Br(t,s,o,c,m,y){return Tn=y,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,E.H=t===null||t.memoizedState===null?dh:lc,Rs=!1,y=o(c,m),Rs=!1,di&&(y=Rf(s,o,c,m)),jf(t),y}function jf(t){E.H=Nl;var s=Ge!==null&&Ge.next!==null;if(Tn=0,nt=Ge=Ne=null,Ra=!1,vl=0,fi=null,s)throw Error(l(300));t===null||st||(t=t.dependencies,t!==null&&_a(t)&&(st=!0))}function Rf(t,s,o,c){Ne=t;var m=0;do{if(di&&(fi=null),vl=0,di=!1,25<=m)throw Error(l(301));if(m+=1,nt=Ge=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}E.H=fh,y=s(o,c)}while(di);return y}function wy(){var t=E.H,s=t.useState()[0];return s=typeof s.then=="function"?bl(s):s,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ne.flags|=1024),s}function Fr(){var t=Ma!==0;return Ma=0,t}function $r(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function Jr(t){if(Ra){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ra=!1}Tn=0,nt=Ge=Ne=null,di=!1,vl=Ma=0,fi=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=t:nt=nt.next=t,nt}function et(){if(Ge===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var s=nt===null?Ne.memoizedState:nt.next;if(s!==null)nt=s,Ge=t;else{if(t===null)throw Ne.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},nt===null?Ne.memoizedState=nt=t:nt=nt.next=t}return nt}function ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var s=vl;return vl+=1,fi===null&&(fi=[]),t=bf(fi,t,s),s=Ne,(nt===null?s.memoizedState:nt.next)===null&&(s=s.alternate,E.H=s===null||s.memoizedState===null?dh:lc),t}function Da(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===G)return dt(t)}throw Error(l(438,String(t)))}function Yr(t){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ka(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),c=0;c<t;c++)o[c]=se;return s.index++,o}function wn(t,s){return typeof s=="function"?s(t):s}function Ia(t){var s=et();return Kr(s,Ge,t)}function Kr(t,s,o){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=o;var m=t.baseQueue,y=c.pending;if(y!==null){if(m!==null){var N=m.next;m.next=y.next,y.next=N}s.baseQueue=m=y,c.pending=null}if(y=t.baseState,m===null)t.memoizedState=y;else{s=m.next;var T=N=null,A=null,L=s,Y=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(Ae&X)===X:(Tn&X)===X){var z=L.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===ai&&(Y=!0);else if((Tn&z)===z){L=L.next,z===ai&&(Y=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=X,N=y):A=A.next=X,Ne.lanes|=z,es|=z;X=L.action,Rs&&o(y,X),y=L.hasEagerState?L.eagerState:o(y,X)}else z={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=z,N=y):A=A.next=z,Ne.lanes|=X,es|=X;L=L.next}while(L!==null&&L!==s);if(A===null?N=y:A.next=T,!kt(y,t.memoizedState)&&(st=!0,Y&&(o=oi,o!==null)))throw o;t.memoizedState=y,t.baseState=N,t.baseQueue=A,c.lastRenderedState=y}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Qr(t){var s=et(),o=s.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=t;var c=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var N=m=m.next;do y=t(y,N.action),N=N.next;while(N!==m);kt(y,s.memoizedState)||(st=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function Mf(t,s,o){var c=Ne,m=et(),y=Me;if(y){if(o===void 0)throw Error(l(407));o=o()}else o=s();var N=!kt((Ge||m).memoizedState,o);if(N&&(m.memoizedState=o,st=!0),m=m.queue,Wr(If.bind(null,c,m,t),[t]),m.getSnapshot!==s||N||nt!==null&&nt.memoizedState.tag&1){if(c.flags|=2048,hi(9,{destroy:void 0},Df.bind(null,c,m,o,s),null),Be===null)throw Error(l(349));y||(Tn&127)!==0||kf(c,s,o)}return o}function kf(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=ka(),Ne.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Df(t,s,o,c){s.value=o,s.getSnapshot=c,Uf(s)&&Lf(t)}function If(t,s,o){return o(function(){Uf(s)&&Lf(t)})}function Uf(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!kt(t,o)}catch{return!0}}function Lf(t){var s=_s(t,2);s!==null&&jt(s,t,2)}function Xr(t){var s=_t();if(typeof t=="function"){var o=t;if(t=o(),Rs){le(!0);try{o()}finally{le(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},s}function Pf(t,s,o,c){return t.baseState=o,Kr(t,Ge,typeof c=="function"?c:wn)}function Ey(t,s,o,c,m){if(Pa(t))throw Error(l(485));if(t=s.action,t!==null){var y={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};E.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,zf(s,y)):(y.next=o.next,s.pending=o.next=y)}}function zf(t,s){var o=s.action,c=s.payload,m=t.state;if(s.isTransition){var y=E.T,N={};E.T=N;try{var T=o(m,c),A=E.S;A!==null&&A(N,T),Of(t,s,T)}catch(L){Zr(t,s,L)}finally{y!==null&&N.types!==null&&(y.types=N.types),E.T=y}}else try{y=o(m,c),Of(t,s,y)}catch(L){Zr(t,s,L)}}function Of(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){qf(t,s,c)},function(c){return Zr(t,s,c)}):qf(t,s,o)}function qf(t,s,o){s.status="fulfilled",s.value=o,Gf(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,zf(t,o)))}function Zr(t,s,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Gf(s),s=s.next;while(s!==c)}t.action=null}function Gf(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Hf(t,s){return s}function Vf(t,s){if(Me){var o=Be.formState;if(o!==null){e:{var c=Ne;if(Me){if($e){t:{for(var m=$e,y=Jt;m.nodeType!==8;){if(!y){m=null;break t}if(m=Kt(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){$e=Kt(m.nextSibling),c=m.data==="F!";break e}}Fn(c)}c=!1}c&&(s=o[0])}}return o=_t(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:s},o.queue=c,o=rh.bind(null,Ne,c),c.dispatch=o,c=Xr(!1),y=ic.bind(null,Ne,!1,c.queue),c=_t(),m={state:s,dispatch:null,action:t,pending:null},c.queue=m,o=Ey.bind(null,Ne,m,y,o),m.dispatch=o,c.memoizedState=t,[s,o,!1]}function Bf(t){var s=et();return Ff(s,Ge,t)}function Ff(t,s,o){if(s=Kr(t,s,Hf)[0],t=Ia(wn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=bl(s)}catch(N){throw N===ri?Ta:N}else c=s;s=et();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,hi(9,{destroy:void 0},Cy.bind(null,m,o),null)),[c,y,t]}function Cy(t,s){t.action=s}function $f(t){var s=et(),o=Ge;if(o!==null)return Ff(s,o,t);et(),s=s.memoizedState,o=et();var c=o.queue.dispatch;return o.memoizedState=t,[s,c,!1]}function hi(t,s,o,c){return t={tag:t,create:o,deps:c,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=ka(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,s.lastEffect=t),t}function Jf(){return et().memoizedState}function Ua(t,s,o,c){var m=_t();Ne.flags|=t,m.memoizedState=hi(1|s,{destroy:void 0},o,c===void 0?null:c)}function La(t,s,o,c){var m=et();c=c===void 0?null:c;var y=m.memoizedState.inst;Ge!==null&&c!==null&&Vr(c,Ge.memoizedState.deps)?m.memoizedState=hi(s,y,o,c):(Ne.flags|=t,m.memoizedState=hi(1|s,y,o,c))}function Yf(t,s){Ua(8390656,8,t,s)}function Wr(t,s){La(2048,8,t,s)}function Ay(t){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=ka(),Ne.updateQueue=s,s.events=[t];else{var o=s.events;o===null?s.events=[t]:o.push(t)}}function Kf(t){var s=et().memoizedState;return Ay({ref:s,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}function Qf(t,s){return La(4,2,t,s)}function Xf(t,s){return La(4,4,t,s)}function Zf(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wf(t,s,o){o=o!=null?o.concat([t]):null,La(4,4,Zf.bind(null,s,t),o)}function ec(){}function eh(t,s){var o=et();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Vr(s,c[1])?c[0]:(o.memoizedState=[t,s],t)}function th(t,s){var o=et();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Vr(s,c[1]))return c[0];if(c=t(),Rs){le(!0);try{t()}finally{le(!1)}}return o.memoizedState=[c,s],c}function tc(t,s,o){return o===void 0||(Tn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=s:(t.memoizedState=o,t=nm(),Ne.lanes|=t,es|=t,o)}function nh(t,s,o,c){return kt(o,s)?o:ui.current!==null?(t=tc(t,o,c),kt(t,s)||(st=!0),t):(Tn&42)===0||(Tn&1073741824)!==0&&(Ae&261930)===0?(st=!0,t.memoizedState=o):(t=nm(),Ne.lanes|=t,es|=t,s)}function sh(t,s,o,c,m){var y=M.p;M.p=y!==0&&8>y?y:8;var N=E.T,T={};E.T=T,ic(t,!1,s,o);try{var A=m(),L=E.S;if(L!==null&&L(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Y=Sy(A,c);_l(t,s,Y,zt(t))}else _l(t,s,c,zt(t))}catch(X){_l(t,s,{then:function(){},status:"rejected",reason:X},zt())}finally{M.p=y,N!==null&&T.types!==null&&(N.types=T.types),E.T=N}}function jy(){}function nc(t,s,o,c){if(t.tag!==5)throw Error(l(476));var m=ih(t).queue;sh(t,m,s,B,o===null?jy:function(){return lh(t),o(c)})}function ih(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:B},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function lh(t){var s=ih(t);s.next===null&&(s=t.alternate.memoizedState),_l(t,s.next.queue,{},zt())}function sc(){return dt(zl)}function ah(){return et().memoizedState}function oh(){return et().memoizedState}function Ry(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=zt();t=Yn(o);var c=Kn(s,t,o);c!==null&&(jt(c,s,o),gl(c,s,o)),s={cache:kr()},t.payload=s;return}s=s.return}}function My(t,s,o){var c=zt();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pa(t)?ch(s,o):(o=_r(t,s,o,c),o!==null&&(jt(o,t,c),uh(o,s,c)))}function rh(t,s,o){var c=zt();_l(t,s,o,c)}function _l(t,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pa(t))ch(s,m);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var N=s.lastRenderedState,T=y(N,o);if(m.hasEagerState=!0,m.eagerState=T,kt(T,N))return xa(t,s,m,0),Be===null&&ga(),!1}catch{}finally{}if(o=_r(t,s,m,c),o!==null)return jt(o,t,c),uh(o,s,c),!0}return!1}function ic(t,s,o,c){if(c={lane:2,revertLane:Lc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Pa(t)){if(s)throw Error(l(479))}else s=_r(t,o,c,2),s!==null&&jt(s,t,2)}function Pa(t){var s=t.alternate;return t===Ne||s!==null&&s===Ne}function ch(t,s){di=Ra=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function uh(t,s,o){if((o&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,md(t,o)}}var Nl={readContext:dt,use:Da,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Nl.useEffectEvent=Xe;var dh={readContext:dt,use:Da,useCallback:function(t,s){return _t().memoizedState=[t,s===void 0?null:s],t},useContext:dt,useEffect:Yf,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,Ua(4194308,4,Zf.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Ua(4194308,4,t,s)},useInsertionEffect:function(t,s){Ua(4,2,t,s)},useMemo:function(t,s){var o=_t();s=s===void 0?null:s;var c=t();if(Rs){le(!0);try{t()}finally{le(!1)}}return o.memoizedState=[c,s],c},useReducer:function(t,s,o){var c=_t();if(o!==void 0){var m=o(s);if(Rs){le(!0);try{o(s)}finally{le(!1)}}}else m=s;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=My.bind(null,Ne,t),[c.memoizedState,t]},useRef:function(t){var s=_t();return t={current:t},s.memoizedState=t},useState:function(t){t=Xr(t);var s=t.queue,o=rh.bind(null,Ne,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:ec,useDeferredValue:function(t,s){var o=_t();return tc(o,t,s)},useTransition:function(){var t=Xr(!1);return t=sh.bind(null,Ne,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var c=Ne,m=_t();if(Me){if(o===void 0)throw Error(l(407));o=o()}else{if(o=s(),Be===null)throw Error(l(349));(Ae&127)!==0||kf(c,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,Yf(If.bind(null,c,y,t),[t]),c.flags|=2048,hi(9,{destroy:void 0},Df.bind(null,c,y,o,s),null),o},useId:function(){var t=_t(),s=Be.identifierPrefix;if(Me){var o=dn,c=un;o=(c&~(1<<32-he(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ma++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Ty++,s="_"+s+"r_"+o.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:sc,useFormState:Vf,useActionState:Vf,useOptimistic:function(t){var s=_t();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ic.bind(null,Ne,!0,o),o.dispatch=s,[t,s]},useMemoCache:Yr,useCacheRefresh:function(){return _t().memoizedState=Ry.bind(null,Ne)},useEffectEvent:function(t){var s=_t(),o={impl:t};return s.memoizedState=o,function(){if((Pe&2)!==0)throw Error(l(440));return o.impl.apply(void 0,arguments)}}},lc={readContext:dt,use:Da,useCallback:eh,useContext:dt,useEffect:Wr,useImperativeHandle:Wf,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:th,useReducer:Ia,useRef:Jf,useState:function(){return Ia(wn)},useDebugValue:ec,useDeferredValue:function(t,s){var o=et();return nh(o,Ge.memoizedState,t,s)},useTransition:function(){var t=Ia(wn)[0],s=et().memoizedState;return[typeof t=="boolean"?t:bl(t),s]},useSyncExternalStore:Mf,useId:ah,useHostTransitionStatus:sc,useFormState:Bf,useActionState:Bf,useOptimistic:function(t,s){var o=et();return Pf(o,Ge,t,s)},useMemoCache:Yr,useCacheRefresh:oh};lc.useEffectEvent=Kf;var fh={readContext:dt,use:Da,useCallback:eh,useContext:dt,useEffect:Wr,useImperativeHandle:Wf,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:th,useReducer:Qr,useRef:Jf,useState:function(){return Qr(wn)},useDebugValue:ec,useDeferredValue:function(t,s){var o=et();return Ge===null?tc(o,t,s):nh(o,Ge.memoizedState,t,s)},useTransition:function(){var t=Qr(wn)[0],s=et().memoizedState;return[typeof t=="boolean"?t:bl(t),s]},useSyncExternalStore:Mf,useId:ah,useHostTransitionStatus:sc,useFormState:$f,useActionState:$f,useOptimistic:function(t,s){var o=et();return Ge!==null?Pf(o,Ge,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Yr,useCacheRefresh:oh};fh.useEffectEvent=Kf;function ac(t,s,o,c){s=t.memoizedState,o=o(c,s),o=o==null?s:b({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var oc={enqueueSetState:function(t,s,o){t=t._reactInternals;var c=zt(),m=Yn(c);m.payload=s,o!=null&&(m.callback=o),s=Kn(t,m,c),s!==null&&(jt(s,t,c),gl(s,t,c))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var c=zt(),m=Yn(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Kn(t,m,c),s!==null&&(jt(s,t,c),gl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=zt(),c=Yn(o);c.tag=2,s!=null&&(c.callback=s),s=Kn(t,c,o),s!==null&&(jt(s,t,o),gl(s,t,o))}};function hh(t,s,o,c,m,y,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,N):s.prototype&&s.prototype.isPureReactComponent?!rl(o,c)||!rl(m,y):!0}function mh(t,s,o,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==t&&oc.enqueueReplaceState(s,s.state,null)}function Ms(t,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(t=t.defaultProps){o===s&&(o=b({},o));for(var m in t)o[m]===void 0&&(o[m]=t[m])}return o}function ph(t){pa(t)}function gh(t){console.error(t)}function xh(t){pa(t)}function za(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function yh(t,s,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rc(t,s,o){return o=Yn(o),o.tag=3,o.payload={element:null},o.callback=function(){za(t,s)},o}function vh(t){return t=Yn(t),t.tag=3,t}function bh(t,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;t.payload=function(){return m(y)},t.callback=function(){yh(s,o,c)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){yh(s,o,c),typeof m!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function ky(t,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&li(s,o,m,!0),o=It.current,o!==null){switch(o.tag){case 31:case 13:return Yt===null?Qa():o.alternate===null&&Ze===0&&(Ze=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===wa?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Dc(t,c,m)),!1;case 22:return o.flags|=65536,c===wa?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Dc(t,c,m)),!1}throw Error(l(435,o.tag))}return Dc(t,c,m),Qa(),!1}if(Me)return s=It.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Cr&&(t=Error(l(422),{cause:c}),dl(Bt(t,o)))):(c!==Cr&&(s=Error(l(423),{cause:c}),dl(Bt(s,o))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=Bt(c,o),m=rc(t.stateNode,c,m),zr(t,m),Ze!==4&&(Ze=2)),!1;var y=Error(l(520),{cause:c});if(y=Bt(y,o),Rl===null?Rl=[y]:Rl.push(y),Ze!==4&&(Ze=2),s===null)return!0;c=Bt(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=m&-m,o.lanes|=t,t=rc(o.stateNode,c,t),zr(o,t),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ts===null||!ts.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=vh(m),bh(m,t,o,c),zr(o,m),!1}o=o.return}while(o!==null);return!1}var cc=Error(l(461)),st=!1;function ft(t,s,o,c){s.child=t===null?Tf(s,null,o,c):js(s,t.child,o,c)}function _h(t,s,o,c,m){o=o.render;var y=s.ref;if("ref"in c){var N={};for(var T in c)T!=="ref"&&(N[T]=c[T])}else N=c;return ws(s),c=Br(t,s,o,N,y,m),T=Fr(),t!==null&&!st?($r(t,s,m),En(t,s,m)):(Me&&T&&wr(s),s.flags|=1,ft(t,s,c,m),s.child)}function Nh(t,s,o,c,m){if(t===null){var y=o.type;return typeof y=="function"&&!Nr(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Sh(t,s,y,c,m)):(t=va(o.type,null,c,s,s.mode,m),t.ref=s.ref,t.return=s,s.child=t)}if(y=t.child,!xc(t,m)){var N=y.memoizedProps;if(o=o.compare,o=o!==null?o:rl,o(N,c)&&t.ref===s.ref)return En(t,s,m)}return s.flags|=1,t=bn(y,c),t.ref=s.ref,t.return=s,s.child=t}function Sh(t,s,o,c,m){if(t!==null){var y=t.memoizedProps;if(rl(y,c)&&t.ref===s.ref)if(st=!1,s.pendingProps=c=y,xc(t,m))(t.flags&131072)!==0&&(st=!0);else return s.lanes=t.lanes,En(t,s,m)}return uc(t,s,o,c,m)}function Th(t,s,o,c){var m=c.children,y=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,t!==null){for(c=s.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,s.child=null;return wh(t,s,y,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sa(s,y!==null?y.cachePool:null),y!==null?Cf(s,y):qr(),Af(s);else return c=s.lanes=536870912,wh(t,s,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Sa(s,y.cachePool),Cf(s,y),Xn(),s.memoizedState=null):(t!==null&&Sa(s,null),qr(),Xn());return ft(t,s,m,o),s.child}function Sl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wh(t,s,o,c,m){var y=Ir();return y=y===null?null:{parent:tt._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},t!==null&&Sa(s,null),qr(),Af(s),t!==null&&li(t,s,c,!0),s.childLanes=m,null}function Oa(t,s){return s=Ga({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Eh(t,s,o){return js(s,t.child,null,o),t=Oa(s,s.pendingProps),t.flags|=2,Ut(s),s.memoizedState=null,t}function Dy(t,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Me){if(c.mode==="hidden")return t=Oa(s,c),s.lanes=536870912,Sl(null,t);if(Hr(s),(t=$e)?(t=zm(t,Jt),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vn!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=cf(t),o.return=s,s.child=o,ut=s,$e=null)):t=null,t===null)throw Fn(s);return s.lanes=536870912,null}return Oa(s,c)}var y=t.memoizedState;if(y!==null){var N=y.dehydrated;if(Hr(s),m)if(s.flags&256)s.flags&=-257,s=Eh(t,s,o);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(l(558));else if(st||li(t,s,o,!1),m=(o&t.childLanes)!==0,st||m){if(c=Be,c!==null&&(N=pd(c,o),N!==0&&N!==y.retryLane))throw y.retryLane=N,_s(t,N),jt(c,t,N),cc;Qa(),s=Eh(t,s,o)}else t=y.treeContext,$e=Kt(N.nextSibling),ut=s,Me=!0,Bn=null,Jt=!1,t!==null&&ff(s,t),s=Oa(s,c),s.flags|=4096;return s}return t=bn(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function qa(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function uc(t,s,o,c,m){return ws(s),o=Br(t,s,o,c,void 0,m),c=Fr(),t!==null&&!st?($r(t,s,m),En(t,s,m)):(Me&&c&&wr(s),s.flags|=1,ft(t,s,o,m),s.child)}function Ch(t,s,o,c,m,y){return ws(s),s.updateQueue=null,o=Rf(s,c,o,m),jf(t),c=Fr(),t!==null&&!st?($r(t,s,y),En(t,s,y)):(Me&&c&&wr(s),s.flags|=1,ft(t,s,o,y),s.child)}function Ah(t,s,o,c,m){if(ws(s),s.stateNode===null){var y=ti,N=o.contextType;typeof N=="object"&&N!==null&&(y=dt(N)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=oc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Lr(s),N=o.contextType,y.context=typeof N=="object"&&N!==null?dt(N):ti,y.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(ac(s,o,N,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&oc.enqueueReplaceState(y,y.state,null),yl(s,c,y,m),xl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){y=s.stateNode;var T=s.memoizedProps,A=Ms(o,T);y.props=A;var L=y.context,Y=o.contextType;N=ti,typeof Y=="object"&&Y!==null&&(N=dt(Y));var X=o.getDerivedStateFromProps;Y=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||L!==N)&&mh(s,y,c,N),Jn=!1;var z=s.memoizedState;y.state=z,yl(s,c,y,m),xl(),L=s.memoizedState,T||z!==L||Jn?(typeof X=="function"&&(ac(s,o,X,c),L=s.memoizedState),(A=Jn||hh(s,o,A,c,z,L,N))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=L),y.props=c,y.state=L,y.context=N,c=A):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Pr(t,s),N=s.memoizedProps,Y=Ms(o,N),y.props=Y,X=s.pendingProps,z=y.context,L=o.contextType,A=ti,typeof L=="object"&&L!==null&&(A=dt(L)),T=o.getDerivedStateFromProps,(L=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==X||z!==A)&&mh(s,y,c,A),Jn=!1,z=s.memoizedState,y.state=z,yl(s,c,y,m),xl();var V=s.memoizedState;N!==X||z!==V||Jn||t!==null&&t.dependencies!==null&&_a(t.dependencies)?(typeof T=="function"&&(ac(s,o,T,c),V=s.memoizedState),(Y=Jn||hh(s,o,Y,c,z,V,A)||t!==null&&t.dependencies!==null&&_a(t.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,V,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,V,A)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=V),y.props=c,y.state=V,y.context=A,c=Y):(typeof y.componentDidUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),c=!1)}return y=c,qa(t,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,t!==null&&c?(s.child=js(s,t.child,null,m),s.child=js(s,null,o,m)):ft(t,s,o,m),s.memoizedState=y.state,t=s.child):t=En(t,s,m),t}function jh(t,s,o,c){return Ss(),s.flags|=256,ft(t,s,o,c),s.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(t){return{baseLanes:t,cachePool:yf()}}function hc(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=Pt),t}function Rh(t,s,o){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,N;if((N=y)||(N=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),N&&(m=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,t===null){if(Me){if(m?Qn(s):Xn(),(t=$e)?(t=zm(t,Jt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vn!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=cf(t),o.return=s,s.child=o,ut=s,$e=null)):t=null,t===null)throw Fn(s);return Kc(t)?s.lanes=32:s.lanes=536870912,null}var T=c.children;return c=c.fallback,m?(Xn(),m=s.mode,T=Ga({mode:"hidden",children:T},m),c=Ns(c,m,o,null),T.return=s,c.return=s,T.sibling=c,s.child=T,c=s.child,c.memoizedState=fc(o),c.childLanes=hc(t,N,o),s.memoizedState=dc,Sl(null,c)):(Qn(s),mc(s,T))}var A=t.memoizedState;if(A!==null&&(T=A.dehydrated,T!==null)){if(y)s.flags&256?(Qn(s),s.flags&=-257,s=pc(t,s,o)):s.memoizedState!==null?(Xn(),s.child=t.child,s.flags|=128,s=null):(Xn(),T=c.fallback,m=s.mode,c=Ga({mode:"visible",children:c.children},m),T=Ns(T,m,o,null),T.flags|=2,c.return=s,T.return=s,c.sibling=T,s.child=c,js(s,t.child,null,o),c=s.child,c.memoizedState=fc(o),c.childLanes=hc(t,N,o),s.memoizedState=dc,s=Sl(null,c));else if(Qn(s),Kc(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var L=N.dgst;N=L,c=Error(l(419)),c.stack="",c.digest=N,dl({value:c,source:null,stack:null}),s=pc(t,s,o)}else if(st||li(t,s,o,!1),N=(o&t.childLanes)!==0,st||N){if(N=Be,N!==null&&(c=pd(N,o),c!==0&&c!==A.retryLane))throw A.retryLane=c,_s(t,c),jt(N,t,c),cc;Yc(T)||Qa(),s=pc(t,s,o)}else Yc(T)?(s.flags|=192,s.child=t.child,s=null):(t=A.treeContext,$e=Kt(T.nextSibling),ut=s,Me=!0,Bn=null,Jt=!1,t!==null&&ff(s,t),s=mc(s,c.children),s.flags|=4096);return s}return m?(Xn(),T=c.fallback,m=s.mode,A=t.child,L=A.sibling,c=bn(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,L!==null?T=bn(L,T):(T=Ns(T,m,o,null),T.flags|=2),T.return=s,c.return=s,c.sibling=T,s.child=c,Sl(null,c),c=s.child,T=t.child.memoizedState,T===null?T=fc(o):(m=T.cachePool,m!==null?(A=tt._currentValue,m=m.parent!==A?{parent:A,pool:A}:m):m=yf(),T={baseLanes:T.baseLanes|o,cachePool:m}),c.memoizedState=T,c.childLanes=hc(t,N,o),s.memoizedState=dc,Sl(t.child,c)):(Qn(s),o=t.child,t=o.sibling,o=bn(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,t!==null&&(N=s.deletions,N===null?(s.deletions=[t],s.flags|=16):N.push(t)),s.child=o,s.memoizedState=null,o)}function mc(t,s){return s=Ga({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ga(t,s){return t=Dt(22,t,null,s),t.lanes=0,t}function pc(t,s,o){return js(s,t.child,null,o),t=mc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Mh(t,s,o){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Rr(t.return,s,o)}function gc(t,s,o,c,m,y){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=o,N.tailMode=m,N.treeForkCount=y)}function kh(t,s,o){var c=s.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var N=We.current,T=(N&2)!==0;if(T?(N=N&1|2,s.flags|=128):N&=1,te(We,N),ft(t,s,c,o),c=Me?ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mh(t,o,s);else if(t.tag===19)Mh(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)t=o.alternate,t!==null&&ja(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),gc(s,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(t=m.alternate,t!==null&&ja(t)===null){s.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}gc(s,!0,o,null,y,c);break;case"together":gc(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function En(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),es|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(li(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,o=bn(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=bn(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function xc(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&_a(t)))}function Iy(t,s,o){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),$n(s,tt,t.memoizedState.cache),Ss();break;case 27:case 5:yt(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:$n(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hr(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Qn(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Rh(t,s,o):(Qn(s),t=En(t,s,o),t!==null?t.sibling:null);Qn(s);break;case 19:var m=(t.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(li(t,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return kh(t,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(We,We.current),c)break;return null;case 22:return s.lanes=0,Th(t,s,o,s.pendingProps);case 24:$n(s,tt,t.memoizedState.cache)}return En(t,s,o)}function Dh(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)st=!0;else{if(!xc(t,o)&&(s.flags&128)===0)return st=!1,Iy(t,s,o);st=(t.flags&131072)!==0}else st=!1,Me&&(s.flags&1048576)!==0&&df(s,ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=Cs(s.elementType),s.type=t,typeof t=="function")Nr(t)?(c=Ms(t,c),s.tag=1,s=Ah(null,s,t,c,o)):(s.tag=0,s=uc(null,s,t,c,o));else{if(t!=null){var m=t.$$typeof;if(m===H){s.tag=11,s=_h(null,s,t,c,o);break e}else if(m===Z){s.tag=14,s=Nh(null,s,t,c,o);break e}}throw s=I(t)||t,Error(l(306,s,""))}}return s;case 0:return uc(t,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ms(c,s.pendingProps),Ah(t,s,c,m,o);case 3:e:{if(Qe(s,s.stateNode.containerInfo),t===null)throw Error(l(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,Pr(t,s),yl(s,c,null,o);var N=s.memoizedState;if(c=N.cache,$n(s,tt,c),c!==y.cache&&Mr(s,[tt],o,!0),xl(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=jh(t,s,c,o);break e}else if(c!==m){m=Bt(Error(l(424)),s),dl(m),s=jh(t,s,c,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=Kt(t.firstChild),ut=s,Me=!0,Bn=null,Jt=!0,o=Tf(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ss(),c===m){s=En(t,s,o);break e}ft(t,s,c,o)}s=s.child}return s;case 26:return qa(t,s),t===null?(o=Bm(s.type,null,s.pendingProps,null))?s.memoizedState=o:Me||(o=s.type,t=s.pendingProps,c=so(be.current).createElement(o),c[ct]=s,c[St]=t,ht(c,o,t),ot(c),s.stateNode=c):s.memoizedState=Bm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return yt(s),t===null&&Me&&(c=s.stateNode=Gm(s.type,s.pendingProps,be.current),ut=s,Jt=!0,m=$e,ls(s.type)?(Qc=m,$e=Kt(c.firstChild)):$e=m),ft(t,s,s.pendingProps.children,o),qa(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Me&&((m=c=$e)&&(c=uv(c,s.type,s.pendingProps,Jt),c!==null?(s.stateNode=c,ut=s,$e=Kt(c.firstChild),Jt=!1,m=!0):m=!1),m||Fn(s)),yt(s),m=s.type,y=s.pendingProps,N=t!==null?t.memoizedProps:null,c=y.children,Fc(m,y)?c=null:N!==null&&Fc(m,N)&&(s.flags|=32),s.memoizedState!==null&&(m=Br(t,s,wy,null,null,o),zl._currentValue=m),qa(t,s),ft(t,s,c,o),s.child;case 6:return t===null&&Me&&((t=o=$e)&&(o=dv(o,s.pendingProps,Jt),o!==null?(s.stateNode=o,ut=s,$e=null,t=!0):t=!1),t||Fn(s)),null;case 13:return Rh(t,s,o);case 4:return Qe(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=js(s,null,c,o):ft(t,s,c,o),s.child;case 11:return _h(t,s,s.type,s.pendingProps,o);case 7:return ft(t,s,s.pendingProps,o),s.child;case 8:return ft(t,s,s.pendingProps.children,o),s.child;case 12:return ft(t,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,$n(s,s.type,c.value),ft(t,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,ws(s),m=dt(m),c=c(m),s.flags|=1,ft(t,s,c,o),s.child;case 14:return Nh(t,s,s.type,s.pendingProps,o);case 15:return Sh(t,s,s.type,s.pendingProps,o);case 19:return kh(t,s,o);case 31:return Dy(t,s,o);case 22:return Th(t,s,o,s.pendingProps);case 24:return ws(s),c=dt(tt),t===null?(m=Ir(),m===null&&(m=Be,y=kr(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:c,cache:m},Lr(s),$n(s,tt,m)):((t.lanes&o)!==0&&(Pr(t,s),yl(s,null,null,o),xl()),m=t.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),$n(s,tt,c)):(c=y.cache,$n(s,tt,c),c!==m.cache&&Mr(s,[tt],o,!0))),ft(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Cn(t){t.flags|=4}function yc(t,s,o,c,m){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(am())t.flags|=8192;else throw As=wa,Ur}else t.flags&=-16777217}function Ih(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(s))if(am())t.flags|=8192;else throw As=wa,Ur}function Ha(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?fd():536870912,t.lanes|=s,xi|=s)}function Tl(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Je(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(s)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=o,s}function Uy(t,s,o){var c=s.pendingProps;switch(Er(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(s),null;case 1:return Je(s),null;case 3:return o=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Sn(tt),ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ii(s)?Cn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar())),Je(s),null;case 26:var m=s.type,y=s.memoizedState;return t===null?(Cn(s),y!==null?(Je(s),Ih(s,y)):(Je(s),yc(s,m,null,c,o))):y?y!==t.memoizedState?(Cn(s),Je(s),Ih(s,y)):(Je(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Cn(s),Je(s),yc(s,m,t,c,o)),null;case 27:if(vt(s),o=be.current,m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Cn(s);else{if(!c){if(s.stateNode===null)throw Error(l(166));return Je(s),null}t=fe.current,ii(s)?hf(s):(t=Gm(m,c,o),s.stateNode=t,Cn(s))}return Je(s),null;case 5:if(vt(s),m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Cn(s);else{if(!c){if(s.stateNode===null)throw Error(l(166));return Je(s),null}if(y=fe.current,ii(s))hf(s);else{var N=so(be.current);switch(y){case 1:y=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=N.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?N.createElement(m,{is:c.is}):N.createElement(m)}}y[ct]=s,y[St]=c;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)y.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=y;e:switch(ht(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cn(s)}}return Je(s),yc(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,o),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Cn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(l(166));if(t=be.current,ii(s)){if(t=s.stateNode,o=s.memoizedProps,c=null,m=ut,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[ct]=s,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Rm(t.nodeValue,o)),t||Fn(s,!0)}else t=so(t).createTextNode(c),t[ct]=s,s.stateNode=t}return Je(s),null;case 31:if(o=s.memoizedState,t===null||t.memoizedState!==null){if(c=ii(s),o!==null){if(t===null){if(!c)throw Error(l(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ct]=s}else Ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Je(s),t=!1}else o=Ar(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return s.flags&256?(Ut(s),s):(Ut(s),null);if((s.flags&128)!==0)throw Error(l(558))}return Je(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=ii(s),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[ct]=s}else Ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Je(s),m=!1}else m=Ar(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ut(s),s):(Ut(s),null)}return Ut(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==t&&o&&(s.child.flags|=8192),Ha(s,s.updateQueue),Je(s),null);case 4:return ze(),t===null&&qc(s.stateNode.containerInfo),Je(s),null;case 10:return Sn(s.type),Je(s),null;case 19:if($(We),c=s.memoizedState,c===null)return Je(s),null;if(m=(s.flags&128)!==0,y=c.rendering,y===null)if(m)Tl(c,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(y=ja(t),y!==null){for(s.flags|=128,Tl(c,!1),t=y.updateQueue,s.updateQueue=t,Ha(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)rf(o,t),o=o.sibling;return te(We,We.current&1|2),Me&&_n(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&at()>Ja&&(s.flags|=128,m=!0,Tl(c,!1),s.lanes=4194304)}else{if(!m)if(t=ja(y),t!==null){if(s.flags|=128,m=!0,t=t.updateQueue,s.updateQueue=t,Ha(s,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Me)return Je(s),null}else 2*at()-c.renderingStartTime>Ja&&o!==536870912&&(s.flags|=128,m=!0,Tl(c,!1),s.lanes=4194304);c.isBackwards?(y.sibling=s.child,s.child=y):(t=c.last,t!==null?t.sibling=y:s.child=y,c.last=y)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=at(),t.sibling=null,o=We.current,te(We,m?o&1|2:o&1),Me&&_n(s,c.treeForkCount),t):(Je(s),null);case 22:case 23:return Ut(s),Gr(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Je(s),s.subtreeFlags&6&&(s.flags|=8192)):Je(s),o=s.updateQueue,o!==null&&Ha(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),t!==null&&$(Es),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Sn(tt),Je(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function Ly(t,s){switch(Er(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Sn(tt),ze(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 31:if(s.memoizedState!==null){if(Ut(s),s.alternate===null)throw Error(l(340));Ss()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ut(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));Ss()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return $(We),null;case 4:return ze(),null;case 10:return Sn(s.type),null;case 22:case 23:return Ut(s),Gr(),t!==null&&$(Es),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Sn(tt),null;case 25:return null;default:return null}}function Uh(t,s){switch(Er(s),s.tag){case 3:Sn(tt),ze();break;case 26:case 27:case 5:vt(s);break;case 4:ze();break;case 31:s.memoizedState!==null&&Ut(s);break;case 13:Ut(s);break;case 19:$(We);break;case 10:Sn(s.type);break;case 22:case 23:Ut(s),Gr(),t!==null&&$(Es);break;case 24:Sn(tt)}}function wl(t,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&t)===t){c=void 0;var y=o.create,N=o.inst;c=y(),N.destroy=c}o=o.next}while(o!==m)}}catch(T){qe(s,s.return,T)}}function Zn(t,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&t)===t){var N=c.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,m=s;var A=o,L=T;try{L()}catch(Y){qe(m,A,Y)}}}c=c.next}while(c!==y)}}catch(Y){qe(s,s.return,Y)}}function Lh(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{Ef(s,o)}catch(c){qe(t,t.return,c)}}}function Ph(t,s,o){o.props=Ms(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){qe(t,s,c)}}function El(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(m){qe(t,s,m)}}function fn(t,s){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){qe(t,s,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){qe(t,s,m)}else o.current=null}function zh(t){var s=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){qe(t,t.return,m)}}function vc(t,s,o){try{var c=t.stateNode;iv(c,t.type,o,s),c[St]=s}catch(m){qe(t,t.return,m)}}function Oh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ls(t.type)||t.tag===4}function bc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yn));else if(c!==4&&(c===27&&ls(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(_c(t,s,o),t=t.sibling;t!==null;)_c(t,s,o),t=t.sibling}function Va(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(c!==4&&(c===27&&ls(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Va(t,s,o),t=t.sibling;t!==null;)Va(t,s,o),t=t.sibling}function qh(t){var s=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);ht(s,c,o),s[ct]=t,s[St]=o}catch(y){qe(t,t.return,y)}}var An=!1,it=!1,Nc=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Py(t,s){if(t=t.containerInfo,Vc=uo,t=Zd(t),pr(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var N=0,T=-1,A=-1,L=0,Y=0,X=t,z=null;t:for(;;){for(var V;X!==o||m!==0&&X.nodeType!==3||(T=N+m),X!==y||c!==0&&X.nodeType!==3||(A=N+c),X.nodeType===3&&(N+=X.nodeValue.length),(V=X.firstChild)!==null;)z=X,X=V;for(;;){if(X===t)break t;if(z===o&&++L===m&&(T=N),z===y&&++Y===c&&(A=N),(V=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=V}o=T===-1||A===-1?null:{start:T,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bc={focusedElem:t,selectionRange:o},uo=!1,rt=s;rt!==null;)if(s=rt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,rt=t;else for(;rt!==null;){switch(s=rt,y=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)m=t[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var me=Ms(o.type,m);t=c.getSnapshotBeforeUpdate(me,y),c.__reactInternalSnapshotBeforeUpdate=t}catch(ve){qe(o,o.return,ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)Jc(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=s.sibling,t!==null){t.return=s.return,rt=t;break}rt=s.return}}function Hh(t,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rn(t,o),c&4&&wl(5,o);break;case 1:if(Rn(t,o),c&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(N){qe(o,o.return,N)}else{var m=Ms(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(m,s,t.__reactInternalSnapshotBeforeUpdate)}catch(N){qe(o,o.return,N)}}c&64&&Lh(o),c&512&&El(o,o.return);break;case 3:if(Rn(t,o),c&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Ef(t,s)}catch(N){qe(o,o.return,N)}}break;case 27:s===null&&c&4&&qh(o);case 26:case 5:Rn(t,o),s===null&&c&4&&zh(o),c&512&&El(o,o.return);break;case 12:Rn(t,o);break;case 31:Rn(t,o),c&4&&Fh(t,o);break;case 13:Rn(t,o),c&4&&$h(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=$y.bind(null,o),fv(t,o))));break;case 22:if(c=o.memoizedState!==null||An,!c){s=s!==null&&s.memoizedState!==null||it,m=An;var y=it;An=c,(it=s)&&!y?Mn(t,o,(o.subtreeFlags&8772)!==0):Rn(t,o),An=m,it=y}break;case 30:break;default:Rn(t,o)}}function Vh(t){var s=t.alternate;s!==null&&(t.alternate=null,Vh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Zo(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,wt=!1;function jn(t,s,o){for(o=o.child;o!==null;)Bh(t,s,o),o=o.sibling}function Bh(t,s,o){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(qn,o)}catch{}switch(o.tag){case 26:it||fn(o,s),jn(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:it||fn(o,s);var c=Ke,m=wt;ls(o.type)&&(Ke=o.stateNode,wt=!1),jn(t,s,o),Ul(o.stateNode),Ke=c,wt=m;break;case 5:it||fn(o,s);case 6:if(c=Ke,m=wt,Ke=null,jn(t,s,o),Ke=c,wt=m,Ke!==null)if(wt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(o.stateNode)}catch(y){qe(o,s,y)}else try{Ke.removeChild(o.stateNode)}catch(y){qe(o,s,y)}break;case 18:Ke!==null&&(wt?(t=Ke,Lm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),wi(t)):Lm(Ke,o.stateNode));break;case 4:c=Ke,m=wt,Ke=o.stateNode.containerInfo,wt=!0,jn(t,s,o),Ke=c,wt=m;break;case 0:case 11:case 14:case 15:Zn(2,o,s),it||Zn(4,o,s),jn(t,s,o);break;case 1:it||(fn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ph(o,s,c)),jn(t,s,o);break;case 21:jn(t,s,o);break;case 22:it=(c=it)||o.memoizedState!==null,jn(t,s,o),it=c;break;default:jn(t,s,o)}}function Fh(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wi(t)}catch(o){qe(s,s.return,o)}}}function $h(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wi(t)}catch(o){qe(s,s.return,o)}}function zy(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Gh),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Gh),s;default:throw Error(l(435,t.tag))}}function Ba(t,s){var o=zy(t);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=Jy.bind(null,t,c);c.then(m,m)}})}function Et(t,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=t,N=s,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(ls(T.type)){Ke=T.stateNode,wt=!1;break e}break;case 5:Ke=T.stateNode,wt=!1;break e;case 3:case 4:Ke=T.stateNode.containerInfo,wt=!0;break e}T=T.return}if(Ke===null)throw Error(l(160));Bh(y,N,m),Ke=null,wt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Jh(s,t),s=s.sibling}var en=null;function Jh(t,s){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Et(s,t),Ct(t),c&4&&(Zn(3,t,t.return),wl(3,t),Zn(5,t,t.return));break;case 1:Et(s,t),Ct(t),c&512&&(it||o===null||fn(o,o.return)),c&64&&An&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=en;if(Et(s,t),Ct(t),c&512&&(it||o===null||fn(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Wi]||y[ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),ht(y,c,o),y[ct]=t,ot(y),c=y;break e;case"link":var N=Jm("link","href",m).get(c+(o.href||""));if(N){for(var T=0;T<N.length;T++)if(y=N[T],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(T,1);break t}}y=m.createElement(c),ht(y,c,o),m.head.appendChild(y);break;case"meta":if(N=Jm("meta","content",m).get(c+(o.content||""))){for(T=0;T<N.length;T++)if(y=N[T],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(T,1);break t}}y=m.createElement(c),ht(y,c,o),m.head.appendChild(y);break;default:throw Error(l(468,c))}y[ct]=t,ot(y),c=y}t.stateNode=c}else Ym(m,t.type,t.stateNode);else t.stateNode=$m(m,c,t.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Ym(m,t.type,t.stateNode):$m(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&vc(t,t.memoizedProps,o.memoizedProps)}break;case 27:Et(s,t),Ct(t),c&512&&(it||o===null||fn(o,o.return)),o!==null&&c&4&&vc(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Et(s,t),Ct(t),c&512&&(it||o===null||fn(o,o.return)),t.flags&32){m=t.stateNode;try{Ys(m,"")}catch(me){qe(t,t.return,me)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,vc(t,m,o!==null?o.memoizedProps:m)),c&1024&&(Nc=!0);break;case 6:if(Et(s,t),Ct(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(me){qe(t,t.return,me)}}break;case 3:if(ao=null,m=en,en=io(s.containerInfo),Et(s,t),en=m,Ct(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{wi(s.containerInfo)}catch(me){qe(t,t.return,me)}Nc&&(Nc=!1,Yh(t));break;case 4:c=en,en=io(t.stateNode.containerInfo),Et(s,t),Ct(t),en=c;break;case 12:Et(s,t),Ct(t);break;case 31:Et(s,t),Ct(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ba(t,c)));break;case 13:Et(s,t),Ct(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($a=at()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ba(t,c)));break;case 22:m=t.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,L=An,Y=it;if(An=L||m,it=Y||A,Et(s,t),it=Y,An=L,Ct(t),c&8192)e:for(s=t.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||A||An||it||ks(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){A=o=s;try{if(y=A.stateNode,m)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=A.stateNode;var X=A.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(me){qe(A,A.return,me)}}}else if(s.tag===6){if(o===null){A=s;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(me){qe(A,A.return,me)}}}else if(s.tag===18){if(o===null){A=s;try{var V=A.stateNode;m?Pm(V,!0):Pm(A.stateNode,!1)}catch(me){qe(A,A.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ba(t,o))));break;case 19:Et(s,t),Ct(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ba(t,c)));break;case 30:break;case 21:break;default:Et(s,t),Ct(t)}}function Ct(t){var s=t.flags;if(s&2){try{for(var o,c=t.return;c!==null;){if(Oh(c)){o=c;break}c=c.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var m=o.stateNode,y=bc(t);Va(t,y,m);break;case 5:var N=o.stateNode;o.flags&32&&(Ys(N,""),o.flags&=-33);var T=bc(t);Va(t,T,N);break;case 3:case 4:var A=o.stateNode.containerInfo,L=bc(t);_c(t,L,A);break;default:throw Error(l(161))}}catch(Y){qe(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Yh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Yh(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Rn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hh(t,s.alternate,s),s=s.sibling}function ks(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Zn(4,s,s.return),ks(s);break;case 1:fn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Ph(s,s.return,o),ks(s);break;case 27:Ul(s.stateNode);case 26:case 5:fn(s,s.return),ks(s);break;case 22:s.memoizedState===null&&ks(s);break;case 30:ks(s);break;default:ks(s)}t=t.sibling}}function Mn(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=t,y=s,N=y.flags;switch(y.tag){case 0:case 11:case 15:Mn(m,y,o),wl(4,y);break;case 1:if(Mn(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){qe(c,c.return,L)}if(c=y,m=c.updateQueue,m!==null){var T=c.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)wf(A[m],T)}catch(L){qe(c,c.return,L)}}o&&N&64&&Lh(y),El(y,y.return);break;case 27:qh(y);case 26:case 5:Mn(m,y,o),o&&c===null&&N&4&&zh(y),El(y,y.return);break;case 12:Mn(m,y,o);break;case 31:Mn(m,y,o),o&&N&4&&Fh(m,y);break;case 13:Mn(m,y,o),o&&N&4&&$h(m,y);break;case 22:y.memoizedState===null&&Mn(m,y,o),El(y,y.return);break;case 30:break;default:Mn(m,y,o)}s=s.sibling}}function Sc(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&fl(o))}function Tc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fl(t))}function tn(t,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kh(t,s,o,c),s=s.sibling}function Kh(t,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:tn(t,s,o,c),m&2048&&wl(9,s);break;case 1:tn(t,s,o,c);break;case 3:tn(t,s,o,c),m&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fl(t)));break;case 12:if(m&2048){tn(t,s,o,c),t=s.stateNode;try{var y=s.memoizedProps,N=y.id,T=y.onPostCommit;typeof T=="function"&&T(N,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){qe(s,s.return,A)}}else tn(t,s,o,c);break;case 31:tn(t,s,o,c);break;case 13:tn(t,s,o,c);break;case 23:break;case 22:y=s.stateNode,N=s.alternate,s.memoizedState!==null?y._visibility&2?tn(t,s,o,c):Cl(t,s):y._visibility&2?tn(t,s,o,c):(y._visibility|=2,mi(t,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Sc(N,s);break;case 24:tn(t,s,o,c),m&2048&&Tc(s.alternate,s);break;default:tn(t,s,o,c)}}function mi(t,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=t,N=s,T=o,A=c,L=N.flags;switch(N.tag){case 0:case 11:case 15:mi(y,N,T,A,m),wl(8,N);break;case 23:break;case 22:var Y=N.stateNode;N.memoizedState!==null?Y._visibility&2?mi(y,N,T,A,m):Cl(y,N):(Y._visibility|=2,mi(y,N,T,A,m)),m&&L&2048&&Sc(N.alternate,N);break;case 24:mi(y,N,T,A,m),m&&L&2048&&Tc(N.alternate,N);break;default:mi(y,N,T,A,m)}s=s.sibling}}function Cl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,c=s,m=c.flags;switch(c.tag){case 22:Cl(o,c),m&2048&&Sc(c.alternate,c);break;case 24:Cl(o,c),m&2048&&Tc(c.alternate,c);break;default:Cl(o,c)}s=s.sibling}}var Al=8192;function pi(t,s,o){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Qh(t,s,o),t=t.sibling}function Qh(t,s,o){switch(t.tag){case 26:pi(t,s,o),t.flags&Al&&t.memoizedState!==null&&Tv(o,en,t.memoizedState,t.memoizedProps);break;case 5:pi(t,s,o);break;case 3:case 4:var c=en;en=io(t.stateNode.containerInfo),pi(t,s,o),en=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Al,Al=16777216,pi(t,s,o),Al=c):pi(t,s,o));break;default:pi(t,s,o)}}function Xh(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function jl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];rt=c,Wh(c,t)}Xh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zh(t),t=t.sibling}function Zh(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&Zn(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Fa(t)):jl(t);break;default:jl(t)}}function Fa(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];rt=c,Wh(c,t)}Xh(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Zn(8,s,s.return),Fa(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Fa(s));break;default:Fa(s)}t=t.sibling}}function Wh(t,s){for(;rt!==null;){var o=rt;switch(o.tag){case 0:case 11:case 15:Zn(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,rt=c;else e:for(o=t;rt!==null;){c=rt;var m=c.sibling,y=c.return;if(Vh(c),c===o){rt=null;break e}if(m!==null){m.return=y,rt=m;break e}rt=y}}}var Oy={getCacheForType:function(t){var s=dt(tt),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o},cacheSignal:function(){return dt(tt).controller.signal}},qy=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Be=null,we=null,Ae=0,Oe=0,Lt=null,Wn=!1,gi=!1,wc=!1,kn=0,Ze=0,es=0,Ds=0,Ec=0,Pt=0,xi=0,Rl=null,At=null,Cc=!1,$a=0,em=0,Ja=1/0,Ya=null,ts=null,lt=0,ns=null,yi=null,Dn=0,Ac=0,jc=null,tm=null,Ml=0,Rc=null;function zt(){return(Pe&2)!==0&&Ae!==0?Ae&-Ae:E.T!==null?Lc():gd()}function nm(){if(Pt===0)if((Ae&536870912)===0||Me){var t=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Pt=t}else Pt=536870912;return t=It.current,t!==null&&(t.flags|=32),Pt}function jt(t,s,o){(t===Be&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(vi(t,0),ss(t,Ae,Pt,!1)),Zi(t,o),((Pe&2)===0||t!==Be)&&(t===Be&&((Pe&2)===0&&(Ds|=o),Ze===4&&ss(t,Ae,Pt,!1)),hn(t))}function sm(t,s,o){if((Pe&6)!==0)throw Error(l(327));var c=!o&&(s&127)===0&&(s&t.expiredLanes)===0||Xi(t,s),m=c?Vy(t,s):kc(t,s,!0),y=c;do{if(m===0){gi&&!c&&ss(t,s,0,!1);break}else{if(o=t.current.alternate,y&&!Gy(o)){m=kc(t,s,!1),y=!1;continue}if(m===2){if(y=s,t.errorRecoveryDisabledLanes&y)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var T=t;m=Rl;var A=T.current.memoizedState.isDehydrated;if(A&&(vi(T,N).flags|=256),N=kc(T,N,!1),N!==2){if(wc&&!A){T.errorRecoveryDisabledLanes|=y,Ds|=y,m=4;break e}y=At,At=m,y!==null&&(At===null?At=y:At.push.apply(At,y))}m=N}if(y=!1,m!==2)continue}}if(m===1){vi(t,0),ss(t,s,0,!0);break}e:{switch(c=t,y=m,y){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:ss(c,s,Pt,!Wn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(m=$a+300-at(),10<m)){if(ss(c,s,Pt,!Wn),qt(c,0,!0)!==0)break e;Dn=s,c.timeoutHandle=Im(im.bind(null,c,o,At,Ya,Cc,s,Pt,Ds,xi,Wn,y,"Throttled",-0,0),m);break e}im(c,o,At,Ya,Cc,s,Pt,Ds,xi,Wn,y,null,-0,0)}}break}while(!0);hn(t)}function im(t,s,o,c,m,y,N,T,A,L,Y,X,z,V){if(t.timeoutHandle=-1,X=s.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Qh(s,y,X);var me=(y&62914560)===y?$a-at():(y&4194048)===y?em-at():0;if(me=wv(X,me),me!==null){Dn=y,t.cancelPendingCommit=me(fm.bind(null,t,s,y,o,c,m,N,T,A,Y,X,null,z,V)),ss(t,y,N,!L);return}}fm(t,s,y,o,c,m,N,T,A)}function Gy(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!kt(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(t,s,o,c){s&=~Ec,s&=~Ds,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var m=s;0<m;){var y=31-he(m),N=1<<y;c[y]=-1,m&=~N}o!==0&&hd(t,o,s)}function Ka(){return(Pe&6)===0?(kl(0),!1):!0}function Mc(){if(we!==null){if(Oe===0)var t=we.return;else t=we,Nn=Ts=null,Jr(t),ci=null,ml=0,t=we;for(;t!==null;)Uh(t.alternate,t),t=t.return;we=null}}function vi(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,ov(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Dn=0,Mc(),Be=t,we=o=bn(t.current,null),Ae=s,Oe=0,Lt=null,Wn=!1,gi=Xi(t,s),wc=!1,xi=Pt=Ec=Ds=es=Ze=0,At=Rl=null,Cc=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var m=31-he(c),y=1<<m;s|=t[m],c&=~y}return kn=s,ga(),o}function lm(t,s){Ne=null,E.H=Nl,s===ri||s===Ta?(s=_f(),Oe=3):s===Ur?(s=_f(),Oe=4):Oe=s===cc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,we===null&&(Ze=1,za(t,Bt(s,t.current)))}function am(){var t=It.current;return t===null?!0:(Ae&4194048)===Ae?Yt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===Yt:!1}function om(){var t=E.H;return E.H=Nl,t===null?Nl:t}function rm(){var t=E.A;return E.A=Oy,t}function Qa(){Ze=4,Wn||(Ae&4194048)!==Ae&&It.current!==null||(gi=!0),(es&134217727)===0&&(Ds&134217727)===0||Be===null||ss(Be,Ae,Pt,!1)}function kc(t,s,o){var c=Pe;Pe|=2;var m=om(),y=rm();(Be!==t||Ae!==s)&&(Ya=null,vi(t,s)),s=!1;var N=Ze;e:do try{if(Oe!==0&&we!==null){var T=we,A=Lt;switch(Oe){case 8:Mc(),N=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(s=!0);var L=Oe;if(Oe=0,Lt=null,bi(t,T,A,L),o&&gi){N=0;break e}break;default:L=Oe,Oe=0,Lt=null,bi(t,T,A,L)}}Hy(),N=Ze;break}catch(Y){lm(t,Y)}while(!0);return s&&t.shellSuspendCounter++,Nn=Ts=null,Pe=c,E.H=m,E.A=y,we===null&&(Be=null,Ae=0,ga()),N}function Hy(){for(;we!==null;)cm(we)}function Vy(t,s){var o=Pe;Pe|=2;var c=om(),m=rm();Be!==t||Ae!==s?(Ya=null,Ja=at()+500,vi(t,s)):gi=Xi(t,s);e:do try{if(Oe!==0&&we!==null){s=we;var y=Lt;t:switch(Oe){case 1:Oe=0,Lt=null,bi(t,s,y,1);break;case 2:case 9:if(vf(y)){Oe=0,Lt=null,um(s);break}s=function(){Oe!==2&&Oe!==9||Be!==t||(Oe=7),hn(t)},y.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:vf(y)?(Oe=0,Lt=null,um(s)):(Oe=0,Lt=null,bi(t,s,y,7));break;case 5:var N=null;switch(we.tag){case 26:N=we.memoizedState;case 5:case 27:var T=we;if(N?Km(N):T.stateNode.complete){Oe=0,Lt=null;var A=T.sibling;if(A!==null)we=A;else{var L=T.return;L!==null?(we=L,Xa(L)):we=null}break t}}Oe=0,Lt=null,bi(t,s,y,5);break;case 6:Oe=0,Lt=null,bi(t,s,y,6);break;case 8:Mc(),Ze=6;break e;default:throw Error(l(462))}}By();break}catch(Y){lm(t,Y)}while(!0);return Nn=Ts=null,E.H=c,E.A=m,Pe=o,we!==null?0:(Be=null,Ae=0,ga(),Ze)}function By(){for(;we!==null&&!Ki();)cm(we)}function cm(t){var s=Dh(t.alternate,t,kn);t.memoizedProps=t.pendingProps,s===null?Xa(t):we=s}function um(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=Ch(o,s,s.pendingProps,s.type,void 0,Ae);break;case 11:s=Ch(o,s,s.pendingProps,s.type.render,s.ref,Ae);break;case 5:Jr(s);default:Uh(o,s),s=we=rf(s,kn),s=Dh(o,s,kn)}t.memoizedProps=t.pendingProps,s===null?Xa(t):we=s}function bi(t,s,o,c){Nn=Ts=null,Jr(s),ci=null,ml=0;var m=s.return;try{if(ky(t,m,s,o,Ae)){Ze=1,za(t,Bt(o,t.current)),we=null;return}}catch(y){if(m!==null)throw we=m,y;Ze=1,za(t,Bt(o,t.current)),we=null;return}s.flags&32768?(Me||c===1?t=!0:gi||(Ae&536870912)!==0?t=!1:(Wn=t=!0,(c===2||c===9||c===3||c===6)&&(c=It.current,c!==null&&c.tag===13&&(c.flags|=16384))),dm(s,t)):Xa(s)}function Xa(t){var s=t;do{if((s.flags&32768)!==0){dm(s,Wn);return}t=s.return;var o=Uy(s.alternate,s,kn);if(o!==null){we=o;return}if(s=s.sibling,s!==null){we=s;return}we=s=t}while(s!==null);Ze===0&&(Ze=5)}function dm(t,s){do{var o=Ly(t.alternate,t);if(o!==null){o.flags&=32767,we=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){we=t;return}we=t=o}while(t!==null);Ze=6,we=null}function fm(t,s,o,c,m,y,N,T,A){t.cancelPendingCommit=null;do Za();while(lt!==0);if((Pe&6)!==0)throw Error(l(327));if(s!==null){if(s===t.current)throw Error(l(177));if(y=s.lanes|s.childLanes,y|=br,Sx(t,o,y,N,T,A),t===Be&&(we=Be=null,Ae=0),yi=s,ns=t,Dn=o,Ac=y,jc=m,tm=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Yy(On,function(){return xm(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=E.T,E.T=null,m=M.p,M.p=2,N=Pe,Pe|=4;try{Py(t,s,o)}finally{Pe=N,M.p=m,E.T=c}}lt=1,hm(),mm(),pm()}}function hm(){if(lt===1){lt=0;var t=ns,s=yi,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=E.T,E.T=null;var c=M.p;M.p=2;var m=Pe;Pe|=4;try{Jh(s,t);var y=Bc,N=Zd(t.containerInfo),T=y.focusedElem,A=y.selectionRange;if(N!==T&&T&&T.ownerDocument&&Xd(T.ownerDocument.documentElement,T)){if(A!==null&&pr(T)){var L=A.start,Y=A.end;if(Y===void 0&&(Y=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var V=z.getSelection(),me=T.textContent.length,ve=Math.min(A.start,me),Ve=A.end===void 0?ve:Math.min(A.end,me);!V.extend&&ve>Ve&&(N=Ve,Ve=ve,ve=N);var k=Qd(T,ve),R=Qd(T,Ve);if(k&&R&&(V.rangeCount!==1||V.anchorNode!==k.node||V.anchorOffset!==k.offset||V.focusNode!==R.node||V.focusOffset!==R.offset)){var U=X.createRange();U.setStart(k.node,k.offset),V.removeAllRanges(),ve>Ve?(V.addRange(U),V.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),V.addRange(U))}}}}for(X=[],V=T;V=V.parentNode;)V.nodeType===1&&X.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}uo=!!Vc,Bc=Vc=null}finally{Pe=m,M.p=c,E.T=o}}t.current=s,lt=2}}function mm(){if(lt===2){lt=0;var t=ns,s=yi,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=E.T,E.T=null;var c=M.p;M.p=2;var m=Pe;Pe|=4;try{Hh(t,s.alternate,s)}finally{Pe=m,M.p=c,E.T=o}}lt=3}}function pm(){if(lt===4||lt===3){lt=0,$o();var t=ns,s=yi,o=Dn,c=tm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?lt=5:(lt=0,yi=ns=null,gm(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ts=null),Qo(o),s=s.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(qn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=E.T,m=M.p,M.p=2,E.T=null;try{for(var y=t.onRecoverableError,N=0;N<c.length;N++){var T=c[N];y(T.value,{componentStack:T.stack})}}finally{E.T=s,M.p=m}}(Dn&3)!==0&&Za(),hn(t),m=t.pendingLanes,(o&261930)!==0&&(m&42)!==0?t===Rc?Ml++:(Ml=0,Rc=t):Ml=0,kl(0)}}function gm(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,fl(s)))}function Za(){return hm(),mm(),pm(),xm()}function xm(){if(lt!==5)return!1;var t=ns,s=Ac;Ac=0;var o=Qo(Dn),c=E.T,m=M.p;try{M.p=32>o?32:o,E.T=null,o=jc,jc=null;var y=ns,N=Dn;if(lt=0,yi=ns=null,Dn=0,(Pe&6)!==0)throw Error(l(331));var T=Pe;if(Pe|=4,Zh(y.current),Kh(y,y.current,N,o),Pe=T,kl(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(qn,y)}catch{}return!0}finally{M.p=m,E.T=c,gm(t,s)}}function ym(t,s,o){s=Bt(o,s),s=rc(t.stateNode,s,2),t=Kn(t,s,2),t!==null&&(Zi(t,2),hn(t))}function qe(t,s,o){if(t.tag===3)ym(t,t,o);else for(;s!==null;){if(s.tag===3){ym(s,t,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ts===null||!ts.has(c))){t=Bt(o,t),o=vh(2),c=Kn(s,o,2),c!==null&&(bh(o,c,s,t),Zi(c,2),hn(c));break}}s=s.return}}function Dc(t,s,o){var c=t.pingCache;if(c===null){c=t.pingCache=new qy;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(wc=!0,m.add(o),t=Fy.bind(null,t,s,o),s.then(t,t))}function Fy(t,s,o){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Be===t&&(Ae&o)===o&&(Ze===4||Ze===3&&(Ae&62914560)===Ae&&300>at()-$a?(Pe&2)===0&&vi(t,0):Ec|=o,xi===Ae&&(xi=0)),hn(t)}function vm(t,s){s===0&&(s=fd()),t=_s(t,s),t!==null&&(Zi(t,s),hn(t))}function $y(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),vm(t,o)}function Jy(t,s){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(s),vm(t,o)}function Yy(t,s){return Ji(t,s)}var Wa=null,_i=null,Ic=!1,eo=!1,Uc=!1,is=0;function hn(t){t!==_i&&t.next===null&&(_i===null?Wa=_i=t:_i=_i.next=t),eo=!0,Ic||(Ic=!0,Qy())}function kl(t,s){if(!Uc&&eo){Uc=!0;do for(var o=!1,c=Wa;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var N=c.suspendedLanes,T=c.pingedLanes;y=(1<<31-he(42|t)+1)-1,y&=m&~(N&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Sm(c,y))}else y=Ae,y=qt(c,c===Be?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Xi(c,y)||(o=!0,Sm(c,y));c=c.next}while(o);Uc=!1}}function Ky(){bm()}function bm(){eo=Ic=!1;var t=0;is!==0&&av()&&(t=is);for(var s=at(),o=null,c=Wa;c!==null;){var m=c.next,y=_m(c,s);y===0?(c.next=null,o===null?Wa=m:o.next=m,m===null&&(_i=o)):(o=c,(t!==0||(y&3)!==0)&&(eo=!0)),c=m}lt!==0&&lt!==5||kl(t),is!==0&&(is=0)}function _m(t,s){for(var o=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var N=31-he(y),T=1<<N,A=m[N];A===-1?((T&o)===0||(T&c)!==0)&&(m[N]=Nx(T,s)):A<=s&&(t.expiredLanes|=T),y&=~T}if(s=Be,o=Ae,o=qt(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===s&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Yi(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Xi(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(c!==null&&Yi(c),Qo(o)){case 2:case 8:o=na;break;case 32:o=On;break;case 268435456:o=Qi;break;default:o=On}return c=Nm.bind(null,t),o=Ji(o,c),t.callbackPriority=s,t.callbackNode=o,s}return c!==null&&c!==null&&Yi(c),t.callbackPriority=2,t.callbackNode=null,2}function Nm(t,s){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Za()&&t.callbackNode!==o)return null;var c=Ae;return c=qt(t,t===Be?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(sm(t,c,s),_m(t,at()),t.callbackNode!=null&&t.callbackNode===o?Nm.bind(null,t):null)}function Sm(t,s){if(Za())return null;sm(t,s,!0)}function Qy(){rv(function(){(Pe&6)!==0?Ji(ta,Ky):bm()})}function Lc(){if(is===0){var t=ai;t===0&&(t=rn,rn<<=1,(rn&261888)===0&&(rn=256)),is=t}return is}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function wm(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function Xy(t,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var y=Tm((m[St]||null).action),N=c.submitter;N&&(s=(s=N[St]||null)?Tm(s.formAction):N.getAttribute("formAction"),s!==null&&(y=s,N=null));var T=new fa("action","action",null,c,m);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(is!==0){var A=N?wm(m,N):new FormData(m);nc(o,{pending:!0,data:A,method:m.method,action:y},null,A)}}else typeof y=="function"&&(T.preventDefault(),A=N?wm(m,N):new FormData(m),nc(o,{pending:!0,data:A,method:m.method,action:y},y,A))},currentTarget:m}]})}}for(var Pc=0;Pc<vr.length;Pc++){var zc=vr[Pc],Zy=zc.toLowerCase(),Wy=zc[0].toUpperCase()+zc.slice(1);Wt(Zy,"on"+Wy)}Wt(tf,"onAnimationEnd"),Wt(nf,"onAnimationIteration"),Wt(sf,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(py,"onTransitionRun"),Wt(gy,"onTransitionStart"),Wt(xy,"onTransitionCancel"),Wt(lf,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Em(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var N=c.length-1;0<=N;N--){var T=c[N],A=T.instance,L=T.currentTarget;if(T=T.listener,A!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=L;try{y(m)}catch(Y){pa(Y)}m.currentTarget=null,y=A}else for(N=0;N<c.length;N++){if(T=c[N],A=T.instance,L=T.currentTarget,T=T.listener,A!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=L;try{y(m)}catch(Y){pa(Y)}m.currentTarget=null,y=A}}}}function Ee(t,s){var o=s[Xo];o===void 0&&(o=s[Xo]=new Set);var c=t+"__bubble";o.has(c)||(Cm(s,t,2,!1),o.add(c))}function Oc(t,s,o){var c=0;s&&(c|=4),Cm(o,t,c,s)}var to="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[to]){t[to]=!0,vd.forEach(function(o){o!=="selectionchange"&&(ev.has(o)||Oc(o,!1,t),Oc(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[to]||(s[to]=!0,Oc("selectionchange",!1,s))}}function Cm(t,s,o,c){switch(np(s)){case 2:var m=Av;break;case 8:m=jv;break;default:m=tu}o=m.bind(null,s,o,t),m=void 0,!ar||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(s,o,{capture:!0,passive:m}):t.addEventListener(s,o,!0):m!==void 0?t.addEventListener(s,o,{passive:m}):t.addEventListener(s,o,!1)}function Gc(t,s,o,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var T=c.stateNode.containerInfo;if(T===m)break;if(N===4)for(N=c.return;N!==null;){var A=N.tag;if((A===3||A===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;T!==null;){if(N=Vs(T),N===null)return;if(A=N.tag,A===5||A===6||A===26||A===27){c=y=N;continue e}T=T.parentNode}}c=c.return}Md(function(){var L=y,Y=ir(o),X=[];e:{var z=af.get(t);if(z!==void 0){var V=fa,me=t;switch(t){case"keypress":if(ua(o)===0)break e;case"keydown":case"keyup":V=Jx;break;case"focusin":me="focus",V=ur;break;case"focusout":me="blur",V=ur;break;case"beforeblur":case"afterblur":V=ur;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Qx;break;case tf:case nf:case sf:V=zx;break;case lf:V=Zx;break;case"scroll":case"scrollend":V=Dx;break;case"wheel":V=ey;break;case"copy":case"cut":case"paste":V=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ld;break;case"toggle":case"beforetoggle":V=ny}var ve=(s&4)!==0,Ve=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var R=L,U;R!==null;){var Q=R;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=tl(R,k),Q!=null&&ve.push(Il(R,Q,U))),Ve)break;R=R.return}0<ve.length&&(z=new V(z,me,null,o,Y),X.push({event:z,listeners:ve}))}}if((s&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",z&&o!==sr&&(me=o.relatedTarget||o.fromElement)&&(Vs(me)||me[Hs]))break e;if((V||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,V?(me=o.relatedTarget||o.toElement,V=L,me=me?Vs(me):null,me!==null&&(Ve=u(me),ve=me.tag,me!==Ve||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(V=null,me=L),V!==me)){if(ve=Id,Q="onMouseLeave",k="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ld,Q="onPointerLeave",k="onPointerEnter",R="pointer"),Ve=V==null?z:el(V),U=me==null?z:el(me),z=new ve(Q,R+"leave",V,o,Y),z.target=Ve,z.relatedTarget=U,Q=null,Vs(Y)===L&&(ve=new ve(k,R+"enter",me,o,Y),ve.target=U,ve.relatedTarget=Ve,Q=ve),Ve=Q,V&&me)t:{for(ve=tv,k=V,R=me,U=0,Q=k;Q;Q=ve(Q))U++;Q=0;for(var ye=R;ye;ye=ve(ye))Q++;for(;0<U-Q;)k=ve(k),U--;for(;0<Q-U;)R=ve(R),Q--;for(;U--;){if(k===R||R!==null&&k===R.alternate){ve=k;break t}k=ve(k),R=ve(R)}ve=null}else ve=null;V!==null&&Am(X,z,V,ve,!1),me!==null&&Ve!==null&&Am(X,Ve,me,ve,!0)}}e:{if(z=L?el(L):window,V=z.nodeName&&z.nodeName.toLowerCase(),V==="select"||V==="input"&&z.type==="file")var Ie=Bd;else if(Hd(z))if(Fd)Ie=fy;else{Ie=uy;var ge=cy}else V=z.nodeName,!V||V.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&nr(L.elementType)&&(Ie=Bd):Ie=dy;if(Ie&&(Ie=Ie(t,L))){Vd(X,Ie,o,Y);break e}ge&&ge(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&tr(z,"number",z.value)}switch(ge=L?el(L):window,t){case"focusin":(Hd(ge)||ge.contentEditable==="true")&&(Zs=ge,gr=L,cl=null);break;case"focusout":cl=gr=Zs=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Wd(X,o,Y);break;case"selectionchange":if(my)break;case"keydown":case"keyup":Wd(X,o,Y)}var Se;if(fr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xs?qd(t,o)&&(je="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Pd&&o.locale!=="ko"&&(Xs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xs&&(Se=kd()):(Hn=Y,or="value"in Hn?Hn.value:Hn.textContent,Xs=!0)),ge=no(L,je),0<ge.length&&(je=new Ud(je,t,null,o,Y),X.push({event:je,listeners:ge}),Se?je.data=Se:(Se=Gd(o),Se!==null&&(je.data=Se)))),(Se=iy?ly(t,o):ay(t,o))&&(je=no(L,"onBeforeInput"),0<je.length&&(ge=new Ud("onBeforeInput","beforeinput",null,o,Y),X.push({event:ge,listeners:je}),ge.data=Se)),Xy(X,t,L,o,Y)}Em(X,s)})}function Il(t,s,o){return{instance:t,listener:s,currentTarget:o}}function no(t,s){for(var o=s+"Capture",c=[];t!==null;){var m=t,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=tl(t,o),m!=null&&c.unshift(Il(t,m,y)),m=tl(t,s),m!=null&&c.push(Il(t,m,y))),t.tag===3)return c;t=t.return}return[]}function tv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Am(t,s,o,c,m){for(var y=s._reactName,N=[];o!==null&&o!==c;){var T=o,A=T.alternate,L=T.stateNode;if(T=T.tag,A!==null&&A===c)break;T!==5&&T!==26&&T!==27||L===null||(A=L,m?(L=tl(o,y),L!=null&&N.unshift(Il(o,L,A))):m||(L=tl(o,y),L!=null&&N.push(Il(o,L,A)))),o=o.return}N.length!==0&&t.push({event:s,listeners:N})}var nv=/\r\n?/g,sv=/\u0000|\uFFFD/g;function jm(t){return(typeof t=="string"?t:""+t).replace(nv,`
`).replace(sv,"")}function Rm(t,s){return s=jm(s),jm(t)===s}function He(t,s,o,c,m,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ys(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ys(t,""+c);break;case"className":aa(t,"class",c);break;case"tabIndex":aa(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(t,o,c);break;case"style":jd(t,c,y);break;case"data":if(s!=="object"){aa(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=ra(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&He(t,s,"name",m.name,m,null),He(t,s,"formEncType",m.formEncType,m,null),He(t,s,"formMethod",m.formMethod,m,null),He(t,s,"formTarget",m.formTarget,m,null)):(He(t,s,"encType",m.encType,m,null),He(t,s,"method",m.method,m,null),He(t,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=ra(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=yn);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=ra(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),la(t,"popover",c);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":la(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mx.get(o)||o,la(t,o,c))}}function Hc(t,s,o,c,m,y){switch(o){case"style":jd(t,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=o}}break;case"children":typeof c=="string"?Ys(t,c):(typeof c=="number"||typeof c=="bigint")&&Ys(t,""+c);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"onClick":c!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=t[St]||null,y=y!=null?y[o]:null,typeof y=="function"&&t.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,c,m);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):la(t,o,c)}}}function ht(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var N=o[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:He(t,s,y,N,o,null)}}m&&He(t,s,"srcSet",o.srcSet,o,null),c&&He(t,s,"src",o.src,o,null);return;case"input":Ee("invalid",t);var T=y=N=m=null,A=null,L=null;for(c in o)if(o.hasOwnProperty(c)){var Y=o[c];if(Y!=null)switch(c){case"name":m=Y;break;case"type":N=Y;break;case"checked":A=Y;break;case"defaultChecked":L=Y;break;case"value":y=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,s));break;default:He(t,s,c,Y,o,null)}}wd(t,y,T,A,L,N,m,!1);return;case"select":Ee("invalid",t),c=N=y=null;for(m in o)if(o.hasOwnProperty(m)&&(T=o[m],T!=null))switch(m){case"value":y=T;break;case"defaultValue":N=T;break;case"multiple":c=T;default:He(t,s,m,T,o,null)}s=y,o=N,t.multiple=!!c,s!=null?Js(t,!!c,s,!1):o!=null&&Js(t,!!c,o,!0);return;case"textarea":Ee("invalid",t),y=m=c=null;for(N in o)if(o.hasOwnProperty(N)&&(T=o[N],T!=null))switch(N){case"value":c=T;break;case"defaultValue":m=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:He(t,s,N,T,o,null)}Cd(t,c,m,y);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(c=o[A],c!=null))switch(A){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:He(t,s,A,c,o,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(c=0;c<Dl.length;c++)Ee(Dl[c],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:He(t,s,L,c,o,null)}return;default:if(nr(s)){for(Y in o)o.hasOwnProperty(Y)&&(c=o[Y],c!==void 0&&Hc(t,s,Y,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&He(t,s,T,c,o,null))}function iv(t,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,N=null,T=null,A=null,L=null,Y=null;for(V in o){var X=o[V];if(o.hasOwnProperty(V)&&X!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=X;default:c.hasOwnProperty(V)||He(t,s,V,null,c,X)}}for(var z in c){var V=c[z];if(X=o[z],c.hasOwnProperty(z)&&(V!=null||X!=null))switch(z){case"type":y=V;break;case"name":m=V;break;case"checked":L=V;break;case"defaultChecked":Y=V;break;case"value":N=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,s));break;default:V!==X&&He(t,s,z,V,c,X)}}er(t,N,T,A,L,Y,y,m);return;case"select":V=N=T=z=null;for(y in o)if(A=o[y],o.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":V=A;default:c.hasOwnProperty(y)||He(t,s,y,null,c,A)}for(m in c)if(y=c[m],A=o[m],c.hasOwnProperty(m)&&(y!=null||A!=null))switch(m){case"value":z=y;break;case"defaultValue":T=y;break;case"multiple":N=y;default:y!==A&&He(t,s,m,y,c,A)}s=T,o=N,c=V,z!=null?Js(t,!!o,z,!1):!!c!=!!o&&(s!=null?Js(t,!!o,s,!0):Js(t,!!o,o?[]:"",!1));return;case"textarea":V=z=null;for(T in o)if(m=o[T],o.hasOwnProperty(T)&&m!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:He(t,s,T,null,c,m)}for(N in c)if(m=c[N],y=o[N],c.hasOwnProperty(N)&&(m!=null||y!=null))switch(N){case"value":z=m;break;case"defaultValue":V=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==y&&He(t,s,N,m,c,y)}Ed(t,z,V);return;case"option":for(var me in o)if(z=o[me],o.hasOwnProperty(me)&&z!=null&&!c.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:He(t,s,me,null,c,z)}for(A in c)if(z=c[A],V=o[A],c.hasOwnProperty(A)&&z!==V&&(z!=null||V!=null))switch(A){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:He(t,s,A,z,c,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)z=o[ve],o.hasOwnProperty(ve)&&z!=null&&!c.hasOwnProperty(ve)&&He(t,s,ve,null,c,z);for(L in c)if(z=c[L],V=o[L],c.hasOwnProperty(L)&&z!==V&&(z!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,s));break;default:He(t,s,L,z,c,V)}return;default:if(nr(s)){for(var Ve in o)z=o[Ve],o.hasOwnProperty(Ve)&&z!==void 0&&!c.hasOwnProperty(Ve)&&Hc(t,s,Ve,void 0,c,z);for(Y in c)z=c[Y],V=o[Y],!c.hasOwnProperty(Y)||z===V||z===void 0&&V===void 0||Hc(t,s,Y,z,c,V);return}}for(var k in o)z=o[k],o.hasOwnProperty(k)&&z!=null&&!c.hasOwnProperty(k)&&He(t,s,k,null,c,z);for(X in c)z=c[X],V=o[X],!c.hasOwnProperty(X)||z===V||z==null&&V==null||He(t,s,X,z,c,V)}function Mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,N=m.initiatorType,T=m.duration;if(y&&T&&Mm(N)){for(N=0,T=m.responseEnd,c+=1;c<o.length;c++){var A=o[c],L=A.startTime;if(L>T)break;var Y=A.transferSize,X=A.initiatorType;Y&&Mm(X)&&(A=A.responseEnd,N+=Y*(A<T?1:(T-L)/(A-L)))}if(--c,s+=8*(y+N)/(m.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vc=null,Bc=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function km(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Fc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $c=null;function av(){var t=window.event;return t&&t.type==="popstate"?t===$c?!1:($c=t,!0):($c=null,!1)}var Im=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(cv)}:Im;function cv(t){setTimeout(function(){throw t})}function ls(t){return t==="head"}function Lm(t,s){var o=s,c=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(m),wi(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ul(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Ul(o);for(var y=o.firstChild;y;){var N=y.nextSibling,T=y.nodeName;y[Wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=N}}else o==="body"&&Ul(t.ownerDocument.body);o=m}while(o);wi(s)}function Pm(t,s){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function Jc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jc(o),Zo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function uv(t,s,o,c){for(;t.nodeType===1;){var m=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Wi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Kt(t.nextSibling),t===null)break}return null}function dv(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Kt(t.nextSibling),t===null))return null;return t}function zm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Kt(t.nextSibling),t===null))return null;return t}function Yc(t){return t.data==="$?"||t.data==="$~"}function Kc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fv(t,s){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Kt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Qc=null;function Om(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(s===0)return Kt(t.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}t=t.nextSibling}return null}function qm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return t;s--}else o!=="/$"&&o!=="/&"||s++}t=t.previousSibling}return null}function Gm(t,s,o){switch(s=so(o),t){case"html":if(t=s.documentElement,!t)throw Error(l(452));return t;case"head":if(t=s.head,!t)throw Error(l(453));return t;case"body":if(t=s.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Ul(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Zo(t)}var Qt=new Map,Hm=new Set;function io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var In=M.d;M.d={f:hv,r:mv,D:pv,C:gv,L:xv,m:yv,X:bv,S:vv,M:_v};function hv(){var t=In.f(),s=Ka();return t||s}function mv(t){var s=Bs(t);s!==null&&s.tag===5&&s.type==="form"?lh(s):In.r(t)}var Ni=typeof document>"u"?null:document;function Vm(t,s,o){var c=Ni;if(c&&typeof s=="string"&&s){var m=Ht(s);m='link[rel="'+t+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Hm.has(m)||(Hm.add(m),t={rel:t,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),ht(s,"link",t),ot(s),c.head.appendChild(s)))}}function pv(t){In.D(t),Vm("dns-prefetch",t,null)}function gv(t,s){In.C(t,s),Vm("preconnect",t,s)}function xv(t,s,o){In.L(t,s,o);var c=Ni;if(c&&t&&s){var m='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ht(o.imageSizes)+'"]')):m+='[href="'+Ht(t)+'"]';var y=m;switch(s){case"style":y=Si(t);break;case"script":y=Ti(t)}Qt.has(y)||(t=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),Qt.set(y,t),c.querySelector(m)!==null||s==="style"&&c.querySelector(Ll(y))||s==="script"&&c.querySelector(Pl(y))||(s=c.createElement("link"),ht(s,"link",t),ot(s),c.head.appendChild(s)))}}function yv(t,s){In.m(t,s);var o=Ni;if(o&&t){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(t)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ti(t)}if(!Qt.has(y)&&(t=b({rel:"modulepreload",href:t},s),Qt.set(y,t),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(y)))return}c=o.createElement("link"),ht(c,"link",t),ot(c),o.head.appendChild(c)}}}function vv(t,s,o){In.S(t,s,o);var c=Ni;if(c&&t){var m=Fs(c).hoistableStyles,y=Si(t);s=s||"default";var N=m.get(y);if(!N){var T={loading:0,preload:null};if(N=c.querySelector(Ll(y)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},o),(o=Qt.get(y))&&Xc(t,o);var A=N=c.createElement("link");ot(A),ht(A,"link",t),A._p=new Promise(function(L,Y){A.onload=L,A.onerror=Y}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lo(N,s,c)}N={type:"stylesheet",instance:N,count:1,state:T},m.set(y,N)}}}function bv(t,s){In.X(t,s);var o=Ni;if(o&&t){var c=Fs(o).hoistableScripts,m=Ti(t),y=c.get(m);y||(y=o.querySelector(Pl(m)),y||(t=b({src:t,async:!0},s),(s=Qt.get(m))&&Zc(t,s),y=o.createElement("script"),ot(y),ht(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function _v(t,s){In.M(t,s);var o=Ni;if(o&&t){var c=Fs(o).hoistableScripts,m=Ti(t),y=c.get(m);y||(y=o.querySelector(Pl(m)),y||(t=b({src:t,async:!0,type:"module"},s),(s=Qt.get(m))&&Zc(t,s),y=o.createElement("script"),ot(y),ht(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Bm(t,s,o,c){var m=(m=be.current)?io(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Si(o.href),o=Fs(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Si(o.href);var y=Fs(m).hoistableStyles,N=y.get(t);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,N),(y=m.querySelector(Ll(t)))&&!y._p&&(N.instance=y,N.state.loading=5),Qt.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qt.set(t,o),y||Nv(m,t,o,N.state))),s&&c===null)throw Error(l(528,""));return N}if(s&&c!==null)throw Error(l(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ti(o),o=Fs(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Si(t){return'href="'+Ht(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Fm(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Nv(t,s,o,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ht(s,"link",o),ot(s),t.head.appendChild(s))}function Ti(t){return'[src="'+Ht(t)+'"]'}function Pl(t){return"script[async]"+t}function $m(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(c)return s.instance=c,ot(c),c;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ot(c),ht(c,"style",m),lo(c,o.precedence,t),s.instance=c;case"stylesheet":m=Si(o.href);var y=t.querySelector(Ll(m));if(y)return s.state.loading|=4,s.instance=y,ot(y),y;c=Fm(o),(m=Qt.get(m))&&Xc(c,m),y=(t.ownerDocument||t).createElement("link"),ot(y);var N=y;return N._p=new Promise(function(T,A){N.onload=T,N.onerror=A}),ht(y,"link",c),s.state.loading|=4,lo(y,o.precedence,t),s.instance=y;case"script":return y=Ti(o.src),(m=t.querySelector(Pl(y)))?(s.instance=m,ot(m),m):(c=o,(m=Qt.get(y))&&(c=b({},o),Zc(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),ot(m),ht(m,"link",c),t.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,lo(c,o.precedence,t));return s.instance}function lo(t,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,N=0;N<c.length;N++){var T=c[N];if(T.dataset.precedence===s)y=T;else if(y!==m)break}y?y.parentNode.insertBefore(t,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function Xc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Zc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ao=null;function Jm(t,s,o){if(ao===null){var c=new Map,m=ao=new Map;m.set(o,c)}else m=ao,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),m=0;m<o.length;m++){var y=o[m];if(!(y[Wi]||y[ct]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(s)||"";N=t+N;var T=c.get(N);T?T.push(y):c.set(N,[y])}}return c}function Ym(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function Sv(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tv(t,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Si(c.href),y=s.querySelector(Ll(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=oo.bind(t),s.then(t,t)),o.state.loading|=4,o.instance=y,ot(y);return}y=s.ownerDocument||s,c=Fm(c),(m=Qt.get(m))&&Xc(c,m),y=y.createElement("link"),ot(y);var N=y;N._p=new Promise(function(T,A){N.onload=T,N.onerror=A}),ht(y,"link",c),o.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=oo.bind(t),s.addEventListener("load",o),s.addEventListener("error",o))}}var Wc=0;function wv(t,s){return t.stylesheets&&t.count===0&&co(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&co(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+s);0<t.imgBytes&&Wc===0&&(Wc=62500*lv());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&co(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Wc?50:800)+s);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ro=null;function co(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ro=new Map,s.forEach(Ev,t),ro=null,oo.call(t))}function Ev(t,s){if(!(s.state.loading&4)){var o=ro.get(t);if(o)var c=o.get(null);else{o=new Map,ro.set(t,o);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var N=m[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),c=N)}c&&o.set(null,c)}m=s.instance,N=m.getAttribute("data-precedence"),y=o.get(N)||c,y===c&&o.set(null,m),o.set(N,m),this.count++,c=oo.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),s.state.loading|=4}}var zl={$$typeof:G,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Cv(t,s,o,c,m,y,N,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.hiddenUpdates=Yo(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Qm(t,s,o,c,m,y,N,T,A,L,Y,X){return t=new Cv(t,s,o,N,A,L,Y,X,T),s=1,y===!0&&(s|=24),y=Dt(3,null,null,s),t.current=y,y.stateNode=t,s=kr(),s.refCount++,t.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Lr(y),t}function Xm(t){return t?(t=ti,t):ti}function Zm(t,s,o,c,m,y){m=Xm(m),c.context===null?c.context=m:c.pendingContext=m,c=Yn(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Kn(t,c,s),o!==null&&(jt(o,t,s),gl(o,t,s))}function Wm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function eu(t,s){Wm(t,s),(t=t.alternate)&&Wm(t,s)}function ep(t){if(t.tag===13||t.tag===31){var s=_s(t,67108864);s!==null&&jt(s,t,67108864),eu(t,67108864)}}function tp(t){if(t.tag===13||t.tag===31){var s=zt();s=Ko(s);var o=_s(t,s);o!==null&&jt(o,t,s),eu(t,s)}}var uo=!0;function Av(t,s,o,c){var m=E.T;E.T=null;var y=M.p;try{M.p=2,tu(t,s,o,c)}finally{M.p=y,E.T=m}}function jv(t,s,o,c){var m=E.T;E.T=null;var y=M.p;try{M.p=8,tu(t,s,o,c)}finally{M.p=y,E.T=m}}function tu(t,s,o,c){if(uo){var m=nu(c);if(m===null)Gc(t,s,c,fo,o),sp(t,c);else if(Mv(m,t,s,o,c))c.stopPropagation();else if(sp(t,c),s&4&&-1<Rv.indexOf(t)){for(;m!==null;){var y=Bs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=cn(y.pendingLanes);if(N!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var A=1<<31-he(N);T.entanglements[1]|=A,N&=~A}hn(y),(Pe&6)===0&&(Ja=at()+500,kl(0))}}break;case 31:case 13:T=_s(y,2),T!==null&&jt(T,y,2),Ka(),eu(y,2)}if(y=nu(c),y===null&&Gc(t,s,c,fo,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Gc(t,s,c,null,o)}}function nu(t){return t=ir(t),su(t)}var fo=null;function su(t){if(fo=null,t=Vs(t),t!==null){var s=u(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=f(s),t!==null)return t;t=null}else if(o===31){if(t=p(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return fo=t,null}function np(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jo()){case ta:return 2;case na:return 8;case On:case Nt:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var iu=!1,as=null,os=null,rs=null,Ol=new Map,ql=new Map,cs=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(t,s){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ol.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(s.pointerId)}}function Gl(t,s,o,c,m,y){return t===null||t.nativeEvent!==y?(t={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Bs(s),s!==null&&ep(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),t)}function Mv(t,s,o,c,m){switch(s){case"focusin":return as=Gl(as,t,s,o,c,m),!0;case"dragenter":return os=Gl(os,t,s,o,c,m),!0;case"mouseover":return rs=Gl(rs,t,s,o,c,m),!0;case"pointerover":var y=m.pointerId;return Ol.set(y,Gl(Ol.get(y)||null,t,s,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ql.set(y,Gl(ql.get(y)||null,t,s,o,c,m)),!0}return!1}function ip(t){var s=Vs(t.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=f(o),s!==null){t.blockedOn=s,xd(t.priority,function(){tp(o)});return}}else if(s===31){if(s=p(o),s!==null){t.blockedOn=s,xd(t.priority,function(){tp(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ho(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=nu(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);sr=c,o.target.dispatchEvent(c),sr=null}else return s=Bs(o),s!==null&&ep(s),t.blockedOn=o,!1;s.shift()}return!0}function lp(t,s,o){ho(t)&&o.delete(s)}function kv(){iu=!1,as!==null&&ho(as)&&(as=null),os!==null&&ho(os)&&(os=null),rs!==null&&ho(rs)&&(rs=null),Ol.forEach(lp),ql.forEach(lp)}function mo(t,s){t.blockedOn===s&&(t.blockedOn=null,iu||(iu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kv)))}var po=null;function ap(t){po!==t&&(po=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){po===t&&(po=null);for(var s=0;s<t.length;s+=3){var o=t[s],c=t[s+1],m=t[s+2];if(typeof c!="function"){if(su(c||o)===null)continue;break}var y=Bs(o);y!==null&&(t.splice(s,3),s-=3,nc(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function wi(t){function s(A){return mo(A,t)}as!==null&&mo(as,t),os!==null&&mo(os,t),rs!==null&&mo(rs,t),Ol.forEach(s),ql.forEach(s);for(var o=0;o<cs.length;o++){var c=cs[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)ip(o),o.blockedOn===null&&cs.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],N=m[St]||null;if(typeof y=="function")N||ap(o);else if(N){var T=null;if(y&&y.hasAttribute("formAction")){if(m=y,N=y[St]||null)T=N.formAction;else if(su(m)!==null)continue}else T=N.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),ap(o)}}}function op(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function lu(t){this._internalRoot=t}go.prototype.render=lu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));var o=s.current,c=zt();Zm(o,c,t,s,null,null)},go.prototype.unmount=lu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Zm(t.current,2,null,t,null,null),Ka(),s[Hs]=null}};function go(t){this._internalRoot=t}go.prototype.unstable_scheduleHydration=function(t){if(t){var s=gd();t={blockedOn:null,target:t,priority:s};for(var o=0;o<cs.length&&s!==0&&s<cs[o].priority;o++);cs.splice(o,0,t),o===0&&ip(t)}};var rp=e.version;if(rp!=="19.2.0")throw Error(l(527,rp,"19.2.0"));M.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Dv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{qn=xo.inject(Dv),mt=xo}catch{}}return Vl.createRoot=function(t,s){if(!r(t))throw Error(l(299));var o=!1,c="",m=ph,y=gh,N=xh;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=Qm(t,1,!1,null,null,o,c,null,m,y,N,op),t[Hs]=s.current,qc(t),new lu(s)},Vl.hydrateRoot=function(t,s,o){if(!r(t))throw Error(l(299));var c=!1,m="",y=ph,N=gh,T=xh,A=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),s=Qm(t,1,!0,s,o??null,c,m,A,y,N,T,op),s.context=Xm(null),o=s.current,c=zt(),c=Ko(c),m=Yn(c),m.callback=null,Kn(o,m,c),o=c,s.current.lanes=o,Zi(s,o),hn(s),t[Hs]=s.current,qc(t),new go(s)},Vl.version="19.2.0",Vl}var yp;function Hv(){if(yp)return ru.exports;yp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ru.exports=Gv(),ru.exports}var Vv=Hv();const Bv=p0(Vv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$v=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,l)=>l?l.toUpperCase():i.toLowerCase()),vp=n=>{const e=$v(n);return e.charAt(0).toUpperCase()+e.slice(1)},x0=(...n)=>n.filter((e,i,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===i).join(" ").trim(),Jv=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=K.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:r="",children:u,iconNode:f,...p},x)=>K.createElement("svg",{ref:x,...Yv,width:e,height:e,stroke:n,strokeWidth:l?Number(i)*24/Number(e):i,className:x0("lucide",r),...!u&&!Jv(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,v])=>K.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(n,e)=>{const i=K.forwardRef(({className:l,...r},u)=>K.createElement(Kv,{ref:u,iconNode:e,className:x0(`lucide-${Fv(vp(n))}`,`lucide-${n}`,l),...r}));return i.displayName=vp(n),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xv=ae("arrow-right",Qv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Eu=ae("award",Zv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zi=ae("book-open",Wv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fu=ae("briefcase",eb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],nb=ae("building-2",tb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],yo=ae("calculator",sb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y0=ae("calendar",ib);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],bp=ae("chart-pie",lb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$l=ae("check",ab);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Eo=ae("chevron-down",ob);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$u=ae("chevron-left",rb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ju=ae("chevron-right",cb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uo=ae("circle-alert",ub);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Co=ae("circle-arrow-up",db);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_p=ae("circle-check-big",fb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lo=ae("circle-check",hb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pb=ae("circle-user-round",mb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xb=ae("clock",gb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],vb=ae("cloud-lightning",yb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],v0=ae("cloud",bb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Nb=ae("code",_b);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Np=ae("copy",Sb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wb=ae("crown",Tb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Cu=ae("database",Eb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],b0=ae("download",Cb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jb=ae("ellipsis-vertical",Ab);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mb=ae("external-link",Rb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Po=ae("file-down",kb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ao=ae("file-text",Db);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ub=ae("funnel",Ib);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Pb=ae("gavel",Lb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],Ob=ae("git-compare",zb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Gb=ae("globe",qb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Au=ae("graduation-cap",Hb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Bb=ae("hard-drive",Vb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],$b=ae("hexagon",Fb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Yb=ae("history",Jb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Qb=ae("key-round",Kb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zb=ae("layout-dashboard",Xb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],e1=ae("layout-list",Wb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],n1=ae("layout-grid",t1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yu=ae("loader-circle",s1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],l1=ae("log-in",i1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fu=ae("lock",a1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],r1=ae("log-out",o1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],u1=ae("mail",c1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_0=ae("map-pin",d1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],h1=ae("message-circle",f1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],N0=ae("mic-off",m1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],S0=ae("mic",p1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],x1=ae("monitor-smartphone",g1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],v1=ae("pen-line",y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],T0=ae("pen-tool",b1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],N1=ae("play",_1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T1=ae("plus",S1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Zl=ae("printer",w1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],C1=ae("radar",E1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ku=ae("refresh-ccw",A1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],R1=ae("rotate-cw",j1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],jo=ae("school",M1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],D1=ae("scroll-text",k1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U1=ae("search",I1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],w0=ae("shield-check",L1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],z1=ae("shield",P1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zs=ae("sparkles",O1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E0=ae("square-check-big",q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],Qu=ae("stamp",G1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],C0=ae("star",H1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],B1=ae("target",V1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$1=ae("trash-2",F1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Y1=ae("trending-up",J1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A0=ae("triangle-alert",K1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],X1=ae("trophy",Q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j0=ae("upload",Z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e_=ae("user-plus",W1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hi=ae("user",t_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],s_=ae("users",n_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],R0=ae("wand-sparkles",i_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zo=ae("x",l_);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sp=ae("zap",a_),o_=["  ( )","  ( )","  ( )","  ( )","  ()","  ( )","  ( )","  ( )","  (  )","  ()","  ()","  ()","  ()","  ()","  (//)","  ( )","  ( )","","  "," "," ","",""," "," "],r_=["()  ","()   ","   ","  ","","",""," "," ","","",""," "," "," "," ",""," ",""," ","",""," ",""," "," "],c_=["  ","    ","    ","    "],u_=[" "," "," "," "," "," "],d_={" ":["            .","          .","         .","         .","            .","         .","            .","           .","    (  )   .","       .","          .","        .","         .","         .","          ."]," ":["          .","       .","         .","       .","      .","       .","       .","         .","       .","     .","        .","      .","        .","      .","      ."]," ":["       .","        .","       .","      .","     .","      .","     .","     .","     .","     .","     .","     .","     .","    .","     ."]," ":["         .","         .","       (     ).","   ( )   ( )   .","       .","          .","          .","        .","         .","       .","       .","       .","        .","     .","      ( )."]," ":["          .","          .","     ( )   .","    (  )  .","            .","   (  )  .","       .","         .","       .","           .","        .","        .","      .","      .","      ."]," ":["        .","        .","       .","         .","     .","      .","         .","      (  ).","       .","       .","    (  )    .","       .","        .","    (  ).","     ."]," ":["    (    ).","       .","       .","      .","        .","      .",'  "--"   .',"       .","        .","      .","    (  )   .","      .","       .","  ()     .","      ."]," ":["         .","     (  ...)  .","         .","        .","       .","         .","     (4-5)   .","         .","      .","         .","      .","          .","         .",'  ""   ""  .',"       ."]," ":["       .","   (    )  .","          .","        .","        .","       .","        .","           .","      .",'   ""    .',"       .","        .","      .","      .","         ."]," ":["        .","   ( )  .","        .",'   "/"    .',"       .","        .","     (    ).","       .","      (   ).","        .","    .","       .","        .","       .","         ."]," ":["     ()   .","         .","        .","        (  ).","          .","        .","         .","        .",'  ""   .',"       .","     (    ).","       .","         .","         .","       ."]," ":["         .","        .","       .","       .","        .","    (    ).","      .","         .","       .","       .","      .","       .","      .","     (    ).","         ."]," ":["     .","       .","   ()    .","      ().","        .","   ()   .","     .","     .","      .","       .","        .","      .","       .","    (/)  (/)  .","        ."]," ":["        .","   (  )   .","        .","        .","      .","    (     ).","       .","       ( ).","       .","     ( ).","        .","      .","         .","        .","         ."],:["      .","       .","            .","      .","        .","      .","      (   ).","         .","       .","      .","         .","       .","       .","        .","         ."]," ":["       .","       .","       .","       .","      .","     (   ).","        (  U ).","       .","       .","      .","     .","        .","       .","      .","        ."]," ":["       .","       .","       .","     ( 5  ...).","         .","        .","       .","     .","      .","         .","       .","       .","         .","      .","      ."]," ":["          .",'     "" " " "".',"       .","       .","        .","       .","       .","        .","        .","      .","     .","    .","     .","      .","          ."],:["   (-)    (-).","      .","     .","        .","    (  ).","    (  ).","       .","      .","        .","       .","     .","      .","     .","       .","        ."],:["      .","   (     ).","      .","      .","      .","        .","      .","    .","    .","   (   ).","        .","    .","       ( ).","      .","     ."]," ":["       .","    .","        .","     .","       .","     .","      .","       .","      .","      .","    .","     (  ).","        .","      .","       ."],:["       .","      (   ...).","    .","      .","        .","     .","        .","      .","       .","      .","         .","    .","      .","      ( ).","   ."]," ":["       .","   (  )  .","       .","       .","      .","       .","   .","       .","     .","       .","     .","      .","       .","        .","       ."]," ":["        .","       .","    (   ).","     .","        .","       .","   (  )   .","      .","  (  ).","   (   ).","      .","     .","     .","      .","      ."],:["        .","      .","   (    ).","          .","      .","        .","      .","       .","         .","        .","       .","       .","     (  ).","        .","       ."],:["    (TIC)    .","   (Data Show)    .","    .","      .","        ( ).","       .","        .","         .","     .","      .","      .","     .","       .","      .","       ."],:["    ( )    .","        .","       .","     .","       .","        .","       .","      .","       .","      .","       .","       .","      .","        .","        ."],:["       .","    (     ).","         .","       .","      .","       .","       ( ).","    (    ) .","        .","       .","       .","       .","       .","     .","       ."]," ":["     (    ).","      (  ).",'  ""    .',"    .","       .","    .","    .","       .","        .","     .","     .","      .","       ( ).","         .","       ."]," ":["       .","      .","     .","    .","      .","     ( ).","    .","    .","      .","    .","      ( ).","       .","     .","      .","      ."],:["      .","   ( )  (  ).","     (    ).","     .","       .","      .","     .","      .","     .","    .","      .","          .","      .","      .","  ( )   ."],:["    ( ) .","    (  ).","   (   ).","      .","    .","      .","       .","      .","      .","     .","         .","    .","     .","       .","        ."]},Ro=[{id:"plan-1",category:"",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"plan-2",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"plan-3",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"plan-4",category:"",criteria:" ",indicators:["       "],score:null,improvementNotes:""},{id:"plan-5",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"exec-1",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"exec-2",category:"",criteria:" ",indicators:["     21 (   )"],score:null,improvementNotes:""},{id:"exec-3",category:"",criteria:" ",indicators:["    "],score:null,improvementNotes:""},{id:"eval-1",category:"",criteria:" ",indicators:["       "],score:null,improvementNotes:""},{id:"eval-2",category:"",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"eval-3",category:"",criteria:" ",indicators:["     ( )"],score:null,improvementNotes:""},{id:"eval-4",category:"",criteria:" ",indicators:["        "],score:null,improvementNotes:""},{id:"eval-5",category:"",criteria:" ",indicators:["   (    )"],score:null,improvementNotes:""},{id:"eval-6",category:"",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"learn-meth-1",category:" ",criteria:"",indicators:["   "],score:null,improvementNotes:""},{id:"learn-meth-2",category:" ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-meth-3",category:" ",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"learn-comm-1",category:"  ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-comm-2",category:"  ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"learn-comm-3",category:"  ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"learn-resp-1",category:" ",criteria:" ",indicators:["      "],score:null,improvementNotes:""},{id:"learn-resp-2",category:" ",criteria:"",indicators:["      "],score:null,improvementNotes:""},{id:"learn-resp-3",category:" ",criteria:" ",indicators:["     ( )"],score:null,improvementNotes:""},{id:"env-phy-1",category:" ",criteria:" ",indicators:["     "],score:null,improvementNotes:""},{id:"env-phy-2",category:" ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"env-phy-3",category:" ",criteria:"",indicators:["     "],score:null,improvementNotes:""},{id:"env-disc-1",category:" ",criteria:"",indicators:["    (  )"],score:null,improvementNotes:""},{id:"env-disc-2",category:" ",criteria:"",indicators:["      "],score:null,improvementNotes:""},{id:"env-disc-3",category:" ",criteria:" ",indicators:["    ( )"],score:null,improvementNotes:""},{id:"env-part-1",category:"  ",criteria:" ",indicators:["   (  )"],score:null,improvementNotes:""},{id:"env-part-2",category:"  ",criteria:"",indicators:["   (   )"],score:null,improvementNotes:""},{id:"env-part-3",category:"  ",criteria:"",indicators:["   (  ...)"],score:null,improvementNotes:""}],f_={schoolYear:`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,daira:"",municipality:"",familyStatus:"()",maidenName:"",trainingInstitute:"  ",trainingDate:"",graduationDate:"",classroomListening:" ",lighting:"",heating:"",ventilation:"",cleanliness:"",lessonPreparation:" ",preparationValue:"",otherAids:" ",boardWork:" ",documentsAndPosters:"  ",registers:"",registersUsed:"",registersMonitored:" ",scheduledPrograms:"",progression:"",duties:"",lessonExecution:" ",informationValue:"  ",objectivesAchieved:" ",studentParticipation:" ",applications:" ",applicationsSuitability:" ",notebooksCare:"",notebooksMonitored:" ",homeworkCorrection:" ",homeworkValue:"",generalAppreciation:""},h_=[" ",""," "," "," "," ","",""," "," "," "],m_=["()  ","()   ","   ","  ","","",""],p_=[" "," "," "," "," "," "],g_=[" ","  ()","   "," ","   "],Tp=["","","","",""],x_=["","","",""," "],y_=[""," ","","",""],v_=[" ","  ","",""," ","   "],b_=["  ","","","   "," "],__=["  ","  "," ( )","  ","  ","  "," "],N_=["   ","","  ","  "," ","   "],S_=["   ","  "," ","","   "," "],T_=["","","",""],w_=[" ","","","",""],E_=[" ","","  ","",""],C_=["","",""," "],A_=[""," "," ","  "],j_=["",""," ","","  "],R_=["  ","","","  ","   "," "],M_=[" ","","",""," "," "],k_=[" "," "," ","   ","     "],D_=["  ",""," ","","   ","   "],I_=[" ","",""," "],U_=["   ","","  "," ","    ","   "],L_=[" ","","","","  "],P_=[" ","","  "," ","  "],z_=[" ","",""," "," "],wp={id:"",teacherId:"",examDate:new Date().toISOString().split("T")[0],wilaya:"",district:"",school:"",city:"",inspectorName:"",directorName:"",teacherMemberName:"",appointmentDecisionNumber:"",appointmentDecisionDate:"",financialVisaNumber:"",financialVisaDate:"",contestDate:"",recruitmentType:"",university:"",lessons:[{id:"l1",order:1,subject:" ",topic:"",level:" ",timeStart:"08:00",timeEnd:"08:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},{id:"l2",order:2,subject:"",topic:"",level:" ",timeStart:"09:00",timeEnd:"09:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},{id:"l3",order:3,subject:" ",topic:"",level:" ",timeStart:"10:00",timeEnd:"10:45",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""}],oralQuestions:{educationScience:"",psychology:"",legislation:""},pedagogyMark:0,oralMark:0,totalMark:0,finalDecision:"confirmed",culturalValue:"",pedagogicalValue:""},O_=[],Oi={id:"",teacherId:"",reportModel:"modern",inspectionDate:new Date().toISOString().split("T")[0],inspectorName:"",wilaya:"",district:"",school:"",subject:" ",topic:"",duration:"45 ",level:" ",group:"",studentCount:25,absentCount:0,observations:JSON.parse(JSON.stringify(Ro)),legacyData:f_,generalAssessment:"",assessmentKeywords:"",finalMark:0,markInLetters:""},q_={id:"",inspectorName:"",rank:"  ",district:"",wilaya:"",term:"",schoolYear:`${new Date().getFullYear()}/${new Date().getFullYear()+1}`,startDate:"",endDate:"",teachersTotal:0,teachersTrainee:0,teachersTenure:0,visitsInspection:0,visitsTenure:0,visitsTraining:0,visitsTrainingBenefit:0,tasksInvestigations:0,tasksSupervision:0,days:{sun:0,mon:0,tue:0,wed:0,thu:0},ranks:{stagiere:0,primary:0,class1:0,class2:0,distinguished:0,contract:0},levels:{prep:0,year1:0,year2:0,year3:0,year4:0,year5:0},subjects:{arabic:0,math:0,islamic:0,historyGeo:0,civics:0,science:0,music:0,art:0}},Ep=()=>Math.random().toString(36).substr(2,9),mn=n=>{if(!n)return"";const e=String(n).trim();if(/^\d+$/.test(e)&&Number(e)>2e4){const i=new Date(Math.round((Number(e)-25569)*86400*1e3));if(!isNaN(i.getTime()))return i.toISOString().split("T")[0]}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[i,l,r]=e.split("/");return`${r}-${l.padStart(2,"0")}-${i.padStart(2,"0")}`}return/^\d{4}\/\d{1,2}\/\d{1,2}$/.test(e)?e.replace(/\//g,"-"):e},G_=n=>{const e=String(n).trim().toLowerCase();return e.includes("")||e.includes("contract")?"contractuel":e.includes("")||e.includes("stag")?"stagiere":"titulaire"},Xu=(n,e,i)=>{const l=["ID","_","_","_","","_","_","","_","","_","__","_","","_"],r=["","","","_","","","","","","_","","","_","_","_"],u=["_","_","_","_","___","__","_","","","_","","","","","_","_","_","","_","","_","_","_","","","_","_","_","_","","_","_","_","_","_","__"],f=[];Ro.forEach(g=>{f.push(`_${g.id}_`),f.push(`_${g.id}_`)});const p=[...l,...r,...u,...f],x=n.map(g=>{let v=Oi,b=!1;e&&e.teacherId===g.id?(v=e,b=!0):i&&i[g.id]&&(v=i[g.id],b=!0);const _=v.legacyData||Oi.legacyData,S=[g.id,g.fullName,g.birthDate,g.birthPlace,g.degree,g.degreeDate||"",g.recruitmentDate,g.rank,g.currentRankDate||"",g.echelon||"",g.echelonDate||"",g.lastInspectionDate,g.lastMark,g.status,g.tenureDate||""],w=[b?v.wilaya:"",b?v.district:"",b?v.school:"",b?v.inspectionDate:"",b?v.subject:"",b?v.topic:"",b?v.duration:"",b?v.level:"",b?v.group:"",b?v.studentCount:"",b?v.absentCount:"",b?v.generalAssessment:"",b?v.finalMark:"",b?v.markInLetters:"",b&&v.assessmentKeywords||""],C=[b&&v.reportModel||"modern",b&&v.inspectorName||"",b?_.familyStatus:"",b?_.trainingInstitute:"",b?_.trainingDate:"",b?_.graduationDate:"",b?_.schoolYear:"",b?_.daira:"",b?_.municipality:"",b?_.classroomListening:"",b?_.lighting:"",b?_.heating:"",b?_.ventilation:"",b?_.cleanliness:"",b?_.lessonPreparation:"",b?_.preparationValue:"",b?_.otherAids:"",b?_.boardWork:"",b?_.documentsAndPosters:"",b?_.registers:"",b?_.registersUsed:"",b?_.registersMonitored:"",b?_.scheduledPrograms:"",b?_.progression:"",b?_.duties:"",b?_.lessonExecution:"",b?_.informationValue:"",b?_.objectivesAchieved:"",b?_.studentParticipation:"",b?_.applications:"",b?_.applicationsSuitability:"",b?_.notebooksCare:"",b?_.notebooksMonitored:"",b?_.homeworkCorrection:"",b?_.homeworkValue:"",b?_.generalAppreciation:""],O=[];return Ro.forEach(J=>{if(b){const q=v.observations.find(ee=>ee.id===J.id),G=(q==null?void 0:q.score)!=null?q.score:"",H=(q==null?void 0:q.improvementNotes)||"";O.push(G),O.push(H)}else O.push(""),O.push("")}),[...S,...w,...C,...O]});return[p,...x]},M0=n=>{if(!n||n.length<2)return{teachers:[],reportsMap:{}};const e=n[0],i=e[14]&&String(e[14]).includes(""),l=i?1:0,r=e[29+l]&&(String(e[29+l]).includes("_")||String(e[29+l]).includes("Legacy")),u=r&&(String(e[51+l]).includes("")||String(e[51+l]).includes("scheduled")),f=[],p={};for(let x=1;x<n.length;x++){const g=n[x];if(!g||g.length===0)continue;const v=w=>{const C=g[w];return C==null?"":typeof C=="object"?JSON.stringify(C):String(C).trim()};if(!v(1))continue;const b=v(0)||Ep(),_={id:b,fullName:v(1),birthDate:mn(v(2)),birthPlace:v(3),degree:v(4),degreeDate:mn(v(5)),recruitmentDate:mn(v(6)),rank:v(7),currentRankDate:mn(v(8)),echelon:v(9),echelonDate:mn(v(10)),lastInspectionDate:mn(v(11)),lastMark:parseFloat(v(12))||10,status:G_(v(13)),tenureDate:i?mn(v(14)):""};if(f.push(_),v(14+l)||v(18+l)){let w,C=65+l;u?(w={familyStatus:v(31+l),trainingInstitute:v(32+l),trainingDate:mn(v(33+l)),graduationDate:mn(v(34+l)),schoolYear:v(35+l),daira:v(36+l),municipality:v(37+l),classroomListening:v(38+l),lighting:v(39+l),heating:v(40+l),ventilation:v(41+l),cleanliness:v(42+l),lessonPreparation:v(43+l),preparationValue:v(44+l),otherAids:v(45+l),boardWork:v(46+l),documentsAndPosters:v(47+l),registers:v(48+l),registersUsed:v(49+l),registersMonitored:v(50+l),scheduledPrograms:v(51+l),progression:v(52+l),duties:v(53+l),lessonExecution:v(54+l),informationValue:v(55+l),objectivesAchieved:v(56+l),studentParticipation:v(57+l),applications:v(58+l),applicationsSuitability:v(59+l),notebooksCare:v(60+l),notebooksMonitored:v(61+l),homeworkCorrection:v(62+l),homeworkValue:v(63+l),generalAppreciation:v(64+l)},C=65+l):r?(w={...Oi.legacyData},C=62+l):(w={...Oi.legacyData},C=29);const O=JSON.parse(JSON.stringify(Ro));let J=C;O.forEach(q=>{const G=v(J),H=v(J+1);G==="0"||G==="1"||G==="2"?q.score=parseInt(G):q.score=null,q.improvementNotes=H||"",J+=2}),p[b]={id:Ep(),teacherId:b,reportModel:r&&v(29+l)==="legacy"?"legacy":"modern",inspectorName:r?v(30+l):"",wilaya:v(14+l),district:v(15+l),school:v(16+l),inspectionDate:mn(v(17+l)),subject:v(18+l),topic:v(19+l),duration:v(20+l),level:v(21+l),group:v(22+l),studentCount:parseInt(v(23+l))||0,absentCount:parseInt(v(24+l))||0,generalAssessment:v(25+l),finalMark:parseFloat(v(26+l))||0,markInLetters:v(27+l),assessmentKeywords:v(28+l),observations:O,legacyData:w}}}return{teachers:f,reportsMap:p}},H_=(n,e,i)=>"\uFEFF"+Xu(n,e,i).map(u=>u.map(f=>`"${String(f||"").replace(/"/g,'""')}"`).join(",")).join(`
`),V_=n=>{const e=[];let i=[],l="",r=!1;for(let u=0;u<n.length;u++){const f=n[u],p=n[u+1];f==='"'?r&&p==='"'?(l+='"',u++):r=!r:f===","&&!r?(i.push(l),l=""):(f==="\r"||f===`
`)&&!r?(f==="\r"&&p===`
`&&u++,i.push(l),i.length>0&&e.push(i),i=[],l=""):l+=f}return(l||i.length>0)&&(i.push(l),e.push(i)),M0(e)},B_=({teachers:n,reportsMap:e,currentReport:i,onSelect:l,selectedId:r,onAddNew:u,onImport:f,onDelete:p,availableSchools:x,availableLevels:g,filterSchool:v,filterLevel:b,onSetFilterSchool:_,onSetFilterLevel:S})=>{const[w,C]=K.useState(""),[O,J]=K.useState("status"),[q,G]=K.useState({}),[H,ee]=K.useState(!1),[re,Z]=K.useState(!1),ue=K.useRef(null),oe=D=>{G(E=>({...E,[D]:!E[D]}))},se=D=>{if(D.status!=="titulaire"||!D.echelonDate||!D.echelon)return!1;const E=new Date().getFullYear(),M=new Date(D.echelonDate);if(isNaN(M.getTime()))return!1;const B=new Date(M);B.setFullYear(M.getFullYear()+2);const W=new Date(E,11,31);if(B>W)return!1;const j=13+parseInt(D.echelon)*.5;return D.lastMark<j},P=K.useMemo(()=>n.filter(D=>D.fullName.toLowerCase().includes(w.toLowerCase())),[n,w]),ie=K.useMemo(()=>{if(O==="none")return{:P};const D={};return P.forEach(E=>{let M="";O==="status"?M=E.status==="titulaire"?"":E.status==="contractuel"?"":"":O==="rank"&&(M=E.rank||" "),D[M]||(D[M]=[]),D[M].push(E)}),D},[P,O]),pe=()=>{const D=H_(n,i,e),E=new Blob([D],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(E),B=document.createElement("a");B.href=M,B.setAttribute("download","teachers_full_db.csv"),document.body.appendChild(B),B.click(),document.body.removeChild(B)},I=D=>{var B;const E=(B=D.target.files)==null?void 0:B[0];if(!E)return;const M=new FileReader;M.onload=W=>{var j;const de=(j=W.target)==null?void 0:j.result;if(de){try{const{teachers:$,reportsMap:te}=V_(de);$.length>0?window.confirm(`   ${$.length} .   /  `)&&f($,te):alert("       .")}catch($){alert("   .    CSV ."),console.error($)}ue.current&&(ue.current.value="")}},M.readAsText(E)};return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-3 border-b bg-white/80 backdrop-blur-sm z-10 space-y-2.5 shadow-sm",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"  ...",value:w,onChange:D=>C(D.target.value),className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all placeholder:text-gray-400"}),a.jsx(U1,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),a.jsx("button",{onClick:u,title:"  ",className:"bg-blue-600 text-white p-2 rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 hover:scale-105 transition-all",children:a.jsx(T1,{size:20})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>ee(!H),className:`p-1.5 px-3 rounded-lg flex items-center gap-1.5 text-xs font-bold transition-all border ${H||v||b?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[a.jsx(Ub,{size:14}),a.jsx("span",{children:""}),(v||b)&&a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"})]}),a.jsxs("div",{className:"flex bg-gray-100/80 p-1 rounded-lg border border-gray-200",children:[a.jsx("button",{onClick:()=>J("none"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${O==="none"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),a.jsx("button",{onClick:()=>J("status"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${O==="status"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),a.jsx("button",{onClick:()=>J("rank"),className:`px-2 py-0.5 text-[10px] font-bold rounded-md transition-all ${O==="rank"?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>Z(!re),className:`p-1.5 rounded-lg transition-colors ${re?"bg-gray-200 text-gray-800":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,children:a.jsx(jb,{size:18})}),re&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Z(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-white border border-gray-100 shadow-xl rounded-xl w-48 z-20 overflow-hidden flex flex-col py-1 text-xs font-bold text-gray-600 animate-in fade-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"px-3 py-2 text-[10px] text-gray-400 uppercase tracking-wider border-b border-gray-50 bg-gray-50/50",children:" "}),a.jsxs("button",{onClick:()=>{pe(),Z(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-blue-50 hover:text-blue-700 w-full text-right transition-colors",children:[a.jsx(b0,{size:14}),"  (Excel/CSV)"]}),a.jsxs("button",{onClick:()=>{var D;(D=ue.current)==null||D.click(),Z(!1)},className:"flex items-center gap-3 px-4 py-2.5 hover:bg-orange-50 hover:text-orange-700 w-full text-right transition-colors",children:[a.jsx(j0,{size:14}),"  (Excel/CSV)"]}),a.jsx("input",{type:"file",ref:ue,accept:".csv",className:"hidden",onChange:I})]})]})]})]}),H&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-indigo-50/50 p-2 rounded-xl border border-indigo-100 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(jo,{size:14,className:"absolute top-2.5 right-2.5 text-indigo-400 pointer-events-none group-focus-within:text-indigo-600"}),a.jsxs("select",{value:v,onChange:D=>_(D.target.value),className:`w-full p-2 pr-8 text-[11px] rounded-lg border appearance-none focus:outline-none focus:ring-1 focus:ring-indigo-300 transition-colors cursor-pointer ${v?"bg-indigo-100 border-indigo-300 font-bold text-indigo-900":"bg-white border-gray-200 text-gray-600"}`,children:[a.jsx("option",{value:"",children:" "}),x.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(zi,{size:14,className:"absolute top-2.5 right-2.5 text-indigo-400 pointer-events-none group-focus-within:text-indigo-600"}),a.jsxs("select",{value:b,onChange:D=>S(D.target.value),className:`w-full p-2 pr-8 text-[11px] rounded-lg border appearance-none focus:outline-none focus:ring-1 focus:ring-indigo-300 transition-colors cursor-pointer ${b?"bg-indigo-100 border-indigo-300 font-bold text-indigo-900":"bg-white border-gray-200 text-gray-600"}`,children:[a.jsx("option",{value:"",children:" "}),g.map(D=>a.jsx("option",{value:D,children:D},D))]})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 bg-gray-50/30 scroll-smooth",children:[Object.keys(ie).length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 text-center",children:[a.jsx(Hi,{size:48,className:"mb-3 opacity-20"}),a.jsx("p",{className:"text-sm font-medium",children:"  "}),a.jsx("p",{className:"text-xs mt-1 opacity-70",children:"     "})]}),Object.entries(ie).map(([D,E])=>a.jsxs("div",{className:"mb-2",children:[O!=="none"&&a.jsx("div",{onClick:()=>oe(D),className:"flex items-center justify-between px-3 py-1.5 mb-1 cursor-pointer hover:bg-white/80 rounded-lg select-none transition-colors group",children:a.jsxs("div",{className:"flex items-center gap-2",children:[q[D]?a.jsx(Eo,{size:14,className:"text-gray-400"}):a.jsx(Ju,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"text-xs font-bold text-gray-600 group-hover:text-gray-900",children:D}),a.jsx("span",{className:"bg-gray-200 text-gray-600 text-[10px] px-1.5 rounded-full min-w-[20px] text-center",children:E.length})]})}),a.jsx("div",{className:`${O!=="none"&&q[D]?"hidden":"block"} space-y-1.5`,children:E.map(M=>{const B=se(M),W=r===M.id;return a.jsxs("div",{onClick:()=>l(M),className:`w-full text-right p-2.5 rounded-xl border transition-all flex items-center justify-between gap-3 group cursor-pointer relative overflow-hidden
                                        ${W?"bg-gradient-to-r from-blue-600 to-indigo-700 text-white border-transparent shadow-md transform scale-[1.01]":"bg-white border-gray-100 hover:border-blue-200 hover:shadow-sm"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1 relative z-10",children:[a.jsxs("div",{className:`w-9 h-9 rounded-full flex items-center justify-center shrink-0 font-bold text-sm transition-colors relative shadow-sm
                                                ${W?"bg-white/20 text-white border border-white/30":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:[M.fullName.charAt(0),a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white 
                                                ${M.status==="titulaire"?"bg-emerald-500":M.status==="contractuel"?"bg-orange-500":"bg-blue-500"}`})]}),a.jsxs("div",{className:"overflow-hidden flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`font-bold text-xs truncate ${W?"text-white":"text-gray-800"}`,children:M.fullName}),B&&a.jsx(Co,{size:14,className:`${W?"text-yellow-300":"text-amber-500"} animate-pulse shrink-0 ml-1`})]}),a.jsx("p",{className:`text-[10px] truncate mt-0.5 ${W?"text-blue-100":"text-gray-400"}`,children:M.rank})]})]}),a.jsxs("div",{className:"flex items-center relative z-10",children:[a.jsx("button",{onClick:de=>{de.stopPropagation(),p(M.id)},className:`p-1.5 rounded-full transition-all 
                                                ${W?"text-red-200 hover:bg-white/20 hover:text-white":"text-gray-300 hover:bg-red-50 hover:text-red-500 opacity-0 group-hover:opacity-100"}`,title:"",children:a.jsx($1,{size:14})}),W&&a.jsx(Eo,{size:14,className:"text-white/50 -rotate-90 mr-1"})]})]},M.id)})})]},D))]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F_,$_;function J_(){return{geminiUrl:F_,vertexUrl:$_}}function Y_(n,e,i,l){var r,u;if(!(n!=null&&n.baseUrl)){const f=J_();return e?(r=f.vertexUrl)!==null&&r!==void 0?r:i:(u=f.geminiUrl)!==null&&u!==void 0?u:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pn{}function ce(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(l,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(n,e,i){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(i))n[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const x=n[p];if(Array.isArray(i))for(let g=0;g<x.length;g++){const v=x[g];h(v,e.slice(u+1),i[g])}else for(const g of x)h(g,e.slice(u+1),i)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const x=n[p];h(x[0],e.slice(u+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=e[e.length-1],r=n[l];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[l]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return i;const r=e[l];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>d(p,e.slice(l+1),i)):i}else return i}else n=n[r]}return n}catch(l){if(l instanceof TypeError)return i;throw l}}function K_(n,e){for(const[i,l]of Object.entries(e)){const r=i.split("."),u=l.split("."),f=new Set;let p=-1;for(let x=0;x<r.length;x++)if(r[x]==="*"){p=x;break}if(p!==-1&&u.length>p)for(let x=p;x<u.length;x++){const g=u[x];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&f.add(g)}ju(n,r,u,0,f)}}function ju(n,e,i,l,r){if(l>=e.length||typeof n!="object"||n===null)return;const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2),p=n;if(f in p&&Array.isArray(p[f]))for(const x of p[f])ju(x,e,i,l+1,r)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,p=Object.keys(f).filter(g=>!g.startsWith("_")&&!r.has(g)),x={};for(const g of p)x[g]=f[g];for(const[g,v]of Object.entries(x)){const b=[];for(const _ of i.slice(l))_==="*"?b.push(g):b.push(_);h(f,b,v)}for(const g of p)delete f[g]}}else{const f=n;u in f&&ju(f[u],e,i,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(n){const e={},i=d(n,["operationName"]);i!=null&&h(e,["operationName"],i);const l=d(n,["resourceName"]);return l!=null&&h(e,["_url","resourceName"],l),e}function X_(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],W_(f)),e}function Z_(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response"]);return f!=null&&h(e,["response"],eN(f)),e}function W_(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>tN(f))),h(e,["generatedVideos"],u)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function eN(n){const e={},i=d(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>nN(f))),h(e,["generatedVideos"],u)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function tN(n){const e={},i=d(n,["video"]);return i!=null&&h(e,["video"],rN(i)),e}function nN(n){const e={},i=d(n,["_self"]);return i!=null&&h(e,["video"],cN(i)),e}function sN(n){const e={},i=d(n,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function iN(n){const e={},i=d(n,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function lN(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response"]);return f!=null&&h(e,["response"],aN(f)),e}function aN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["parent"]);l!=null&&h(e,["parent"],l);const r=d(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function k0(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response"]);return f!=null&&h(e,["response"],oN(f)),e}function oN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["parent"]);l!=null&&h(e,["parent"],l);const r=d(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function rN(n){const e={},i=d(n,["uri"]);i!=null&&h(e,["uri"],i);const l=d(n,["encodedVideo"]);l!=null&&h(e,["videoBytes"],Zu(l));const r=d(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function cN(n){const e={},i=d(n,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],Zu(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cp||(Cp={}));var Ap;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Ap||(Ap={}));var jp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(jp||(jp={}));var hs;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(hs||(hs={}));var Rp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rp||(Rp={}));var Mp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mp||(Mp={}));var kp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(kp||(kp={}));var Dp;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Dp||(Dp={}));var Ip;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ip||(Ip={}));var Up;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Up||(Up={}));var Lp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lp||(Lp={}));var Pp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Pp||(Pp={}));var zp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(zp||(zp={}));var Op;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Op||(Op={}));var qp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(qp||(qp={}));var Gp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gp||(Gp={}));var Hp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hp||(Hp={}));var Vp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Vp||(Vp={}));var Bp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bp||(Bp={}));var Mo;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Mo||(Mo={}));var Fp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fp||(Fp={}));var $p;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($p||($p={}));var Jp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Jp||(Jp={}));var Ru;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ru||(Ru={}));var Yp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Yp||(Yp={}));var Kp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Kp||(Kp={}));var Qp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Qp||(Qp={}));var Xp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Xp||(Xp={}));var Zp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Zp||(Zp={}));var Wp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wp||(Wp={}));var eg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(eg||(eg={}));var tg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(tg||(tg={}));var ng;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ng||(ng={}));var sg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(sg||(sg={}));var ig;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ig||(ig={}));var lg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lg||(lg={}));var ag;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ag||(ag={}));var og;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(og||(og={}));var rg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(rg||(rg={}));var cg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(cg||(cg={}));var ug;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(ug||(ug={}));var dg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(dg||(dg={}));var fg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fg||(fg={}));var hg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(hg||(hg={}));var mg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(mg||(mg={}));var pg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(pg||(pg={}));var gg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gg||(gg={}));var xg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(xg||(xg={}));var yg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yg||(yg={}));var vg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vg||(vg={}));var bg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(bg||(bg={}));var _g;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_g||(_g={}));var Ng;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ng||(Ng={}));var Sg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Sg||(Sg={}));var Di;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Di||(Di={}));class Mu{constructor(e){const i={};for(const l of e.headers.entries())i[l[0]]=l[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bl{get text(){var e,i,l,r,u,f,p,x;if(((r=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const b=[];for(const _ of(x=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&x!==void 0?x:[]){for(const[S,w]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(w!==null||w!==void 0)&&b.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,g+=_.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,i,l,r,u,f,p,x;if(((r=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const b of(x=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&x!==void 0?x:[]){for(const[_,S]of Object.entries(b))_!=="inlineData"&&(S!==null||S!==void 0)&&v.push(_);b.inlineData&&typeof b.inlineData.data=="string"&&(g+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,l,r,u,f,p,x;if(((r=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(x=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,l,r,u,f,p,x,g;if(((r=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,l,r,u,f,p,x,g;if(((r=(l=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Tg{}class wg{}class uN{}class dN{}class fN{}class hN{}class Eg{}class Cg{}class Ag{}class mN{}class ko{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new ko;let r;const u=e;return i?r=Z_(u):r=X_(u),Object.assign(l,r),l}}class jg{}class Rg{}class Mg{}class pN{}class gN{}class xN{}class Wu{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new Wu,u=lN(e);return Object.assign(l,u),l}}class yN{}class vN{}class bN{}class kg{}class _N{get text(){var e,i,l;let r="",u=!1;const f=[];for(const p of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[x,g]of Object.entries(p))x!=="text"&&x!=="thought"&&g!==null&&f.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,r+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,i,l;let r="";const u=[];for(const f of(l=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&l!==void 0?l:[]){for(const[p,x]of Object.entries(f))p!=="inlineData"&&x!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class NN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ed{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const l=new ed,u=k0(e);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function D0(n,e){const i=Le(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function I0(n){return Array.isArray(n)?n.map(e=>Do(e)):[Do(n)]}function Do(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function U0(n){const e=Do(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function L0(n){const e=Do(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function P0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Dg(e)):[Dg(n)]}function ku(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ig(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ug(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function xt(n){if(n==null)throw new Error("ContentUnion is required");return ku(n)?n:{role:"user",parts:P0(n)}}function td(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const l=xt(i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const i=xt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>xt(i)):[xt(e)]}function Zt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ig(n)||Ug(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xt(n)]}const e=[],i=[],l=ku(n[0]);for(const r of n){const u=ku(r);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(Ig(r)||Ug(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return l||e.push({role:"user",parts:P0(i)}),e}function SN(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(l=>l!=="null");if(i.length===1)e.type=Object.values(hs).includes(i[0].toUpperCase())?i[0].toUpperCase():hs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of i)e.anyOf.push({type:Object.values(hs).includes(l.toUpperCase())?l.toUpperCase():hs.TYPE_UNSPECIFIED})}}function Ii(n){const e={},i=["items"],l=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&SN(n.type,e);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(hs).includes(p.toUpperCase())?p.toUpperCase():hs.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Ii(p);else if(l.includes(f)){const x=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}x.push(Ii(g))}e[f]=x}else if(r.includes(f)){const x={};for(const[g,v]of Object.entries(p))x[g]=Ii(v);e[f]=x}else{if(f==="additionalProperties")continue;e[f]=p}return e}function nd(n){return Ii(n)}function sd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function id(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Vi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ii(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ii(e.response));return n}function Bi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function TN(n,e,i,l=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function zn(n,e){if(typeof e!="string")throw new Error("name must be a string");return TN(n,e,"cachedContents")}function z0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ms(n){return Zu(n)}function wN(n){return n!=null&&typeof n=="object"&&"name"in n}function EN(n){return n!=null&&typeof n=="object"&&"video"in n}function CN(n){return n!=null&&typeof n=="object"&&"uri"in n}function O0(n){var e;let i;if(wN(n)&&(i=n.name),!(CN(n)&&(i=n.uri,i===void 0))&&!(EN(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function q0(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function G0(n){for(const e of["models","tunedModels","publisherModels"])if(AN(n,e))return n[e];return[]}function AN(n,e){return n!==null&&typeof n=="object"&&e in n}function jN(n,e={}){const i=n,l={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(l.responseJsonSchema=i.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function RN(n,e={}){const i=[],l=new Set;for(const r of n){const u=r.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const f=jN(r,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function H0(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const l=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function MN(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function V0(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let u=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const x=f.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Fi(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function B0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kN(n){const e={},i=d(n,["responsesFile"]);i!=null&&h(e,["fileName"],i);const l=d(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>fS(f))),h(e,["inlinedResponses"],u)}const r=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["inlinedEmbedContentResponses"],u)}return e}function DN(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&h(e,["format"],i);const l=d(n,["gcsDestination","outputUriPrefix"]);l!=null&&h(e,["gcsUri"],l);const r=d(n,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function IN(n){const e={},i=d(n,["format"]);i!=null&&h(e,["predictionsFormat"],i);const l=d(n,["gcsUri"]);l!=null&&h(e,["gcsDestination","outputUriPrefix"],l);const r=d(n,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function So(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata","displayName"]);l!=null&&h(e,["displayName"],l);const r=d(n,["metadata","state"]);r!=null&&h(e,["state"],B0(r));const u=d(n,["metadata","createTime"]);u!=null&&h(e,["createTime"],u);const f=d(n,["metadata","endTime"]);f!=null&&h(e,["endTime"],f);const p=d(n,["metadata","updateTime"]);p!=null&&h(e,["updateTime"],p);const x=d(n,["metadata","model"]);x!=null&&h(e,["model"],x);const g=d(n,["metadata","output"]);return g!=null&&h(e,["dest"],kN(V0(g))),e}function Du(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["displayName"]);l!=null&&h(e,["displayName"],l);const r=d(n,["state"]);r!=null&&h(e,["state"],B0(r));const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["createTime"]);f!=null&&h(e,["createTime"],f);const p=d(n,["startTime"]);p!=null&&h(e,["startTime"],p);const x=d(n,["endTime"]);x!=null&&h(e,["endTime"],x);const g=d(n,["updateTime"]);g!=null&&h(e,["updateTime"],g);const v=d(n,["model"]);v!=null&&h(e,["model"],v);const b=d(n,["inputConfig"]);b!=null&&h(e,["src"],UN(b));const _=d(n,["outputConfig"]);_!=null&&h(e,["dest"],DN(V0(_)));const S=d(n,["completionStats"]);return S!=null&&h(e,["completionStats"],S),e}function UN(n){const e={},i=d(n,["instancesFormat"]);i!=null&&h(e,["format"],i);const l=d(n,["gcsSource","uris"]);l!=null&&h(e,["gcsUri"],l);const r=d(n,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function LN(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=d(e,["fileName"]);l!=null&&h(i,["fileName"],l);const r=d(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>dS(n,f))),h(i,["requests","requests"],u)}return i}function PN(n){const e={},i=d(n,["format"]);i!=null&&h(e,["instancesFormat"],i);const l=d(n,["gcsUri"]);l!=null&&h(e,["gcsSource","uris"],l);const r=d(n,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function zN(n){const e={},i=d(n,["data"]);if(i!=null&&h(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function ON(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function qN(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function GN(n){const e={},i=d(n,["content"]);i!=null&&h(e,["content"],i);const l=d(n,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],HN(l));const r=d(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const u=d(n,["finishReason"]);u!=null&&h(e,["finishReason"],u);const f=d(n,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const p=d(n,["groundingMetadata"]);p!=null&&h(e,["groundingMetadata"],p);const x=d(n,["index"]);x!=null&&h(e,["index"],x);const g=d(n,["logprobsResult"]);g!=null&&h(e,["logprobsResult"],g);const v=d(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),h(e,["safetyRatings"],_)}const b=d(n,["urlContextMetadata"]);return b!=null&&h(e,["urlContextMetadata"],b),e}function HN(n){const e={},i=d(n,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>r)),h(e,["citations"],l)}return e}function F0(n){const e={},i=d(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>vS(u))),h(e,["parts"],r)}const l=d(n,["role"]);return l!=null&&h(e,["role"],l),e}function VN(n,e){const i={},l=d(n,["displayName"]);if(e!==void 0&&l!=null&&h(e,["batch","displayName"],l),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function BN(n,e){const i={},l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const r=d(n,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],IN(MN(r))),i}function Lg(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["src"]);r!=null&&h(i,["batch","inputConfig"],LN(n,H0(n,r)));const u=d(e,["config"]);return u!=null&&VN(u,i),i}function FN(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],Le(n,l));const r=d(e,["src"]);r!=null&&h(i,["inputConfig"],PN(H0(n,r)));const u=d(e,["config"]);return u!=null&&BN(u,i),i}function $N(n,e){const i={},l=d(n,["displayName"]);return e!==void 0&&l!=null&&h(e,["batch","displayName"],l),i}function JN(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["src"]);r!=null&&h(i,["batch","inputConfig"],eS(n,r));const u=d(e,["config"]);return u!=null&&$N(u,i),i}function YN(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function KN(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function QN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["name"]);l!=null&&h(e,["name"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);return u!=null&&h(e,["error"],u),e}function XN(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["name"]);l!=null&&h(e,["name"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);return u!=null&&h(e,["error"],u),e}function ZN(n,e){const i={},l=d(e,["contents"]);if(l!=null){let u=td(n,l);Array.isArray(u)&&(u=u.map(f=>f)),h(i,["requests[]","request","content"],u)}const r=d(e,["config"]);return r!=null&&(h(i,["_self"],WN(r,i)),K_(i,{"requests[].*":"requests[].request.*"})),i}function WN(n,e){const i={},l=d(n,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const u=d(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&h(e,["requests[]","outputDimensionality"],u),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function eS(n,e){const i={},l=d(e,["fileName"]);l!=null&&h(i,["file_name"],l);const r=d(e,["inlinedRequests"]);return r!=null&&h(i,["requests"],ZN(n,r)),i}function tS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function nS(n){const e={},i=d(n,["id"]);i!=null&&h(e,["id"],i);const l=d(n,["args"]);l!=null&&h(e,["args"],l);const r=d(n,["name"]);if(r!=null&&h(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sS(n){const e={},i=d(n,["mode"]);i!=null&&h(e,["mode"],i);const l=d(n,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iS(n,e,i){const l={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],F0(xt(r)));const u=d(e,["temperature"]);u!=null&&h(l,["temperature"],u);const f=d(e,["topP"]);f!=null&&h(l,["topP"],f);const p=d(e,["topK"]);p!=null&&h(l,["topK"],p);const x=d(e,["candidateCount"]);x!=null&&h(l,["candidateCount"],x);const g=d(e,["maxOutputTokens"]);g!=null&&h(l,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&h(l,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&h(l,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&h(l,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&h(l,["presencePenalty"],S);const w=d(e,["frequencyPenalty"]);w!=null&&h(l,["frequencyPenalty"],w);const C=d(e,["seed"]);C!=null&&h(l,["seed"],C);const O=d(e,["responseMimeType"]);O!=null&&h(l,["responseMimeType"],O);const J=d(e,["responseSchema"]);J!=null&&h(l,["responseSchema"],nd(J));const q=d(e,["responseJsonSchema"]);if(q!=null&&h(l,["responseJsonSchema"],q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=d(e,["safetySettings"]);if(i!==void 0&&G!=null){let ie=G;Array.isArray(ie)&&(ie=ie.map(pe=>bS(pe))),h(i,["safetySettings"],ie)}const H=d(e,["tools"]);if(i!==void 0&&H!=null){let ie=Bi(H);Array.isArray(ie)&&(ie=ie.map(pe=>NS(Vi(pe)))),h(i,["tools"],ie)}const ee=d(e,["toolConfig"]);if(i!==void 0&&ee!=null&&h(i,["toolConfig"],_S(ee)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=d(e,["cachedContent"]);i!==void 0&&re!=null&&h(i,["cachedContent"],zn(n,re));const Z=d(e,["responseModalities"]);Z!=null&&h(l,["responseModalities"],Z);const ue=d(e,["mediaResolution"]);ue!=null&&h(l,["mediaResolution"],ue);const oe=d(e,["speechConfig"]);if(oe!=null&&h(l,["speechConfig"],sd(oe)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=d(e,["thinkingConfig"]);se!=null&&h(l,["thinkingConfig"],se);const P=d(e,["imageConfig"]);return P!=null&&h(l,["imageConfig"],uS(P)),l}function lS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["candidates"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(g=>GN(g))),h(e,["candidates"],x)}const r=d(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const u=d(n,["promptFeedback"]);u!=null&&h(e,["promptFeedback"],u);const f=d(n,["responseId"]);f!=null&&h(e,["responseId"],f);const p=d(n,["usageMetadata"]);return p!=null&&h(e,["usageMetadata"],p),e}function aS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function oS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],Fi(n,l)),i}function rS(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function cS(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function uS(n){const e={},i=d(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(n,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dS(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["request","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let p=Zt(r);Array.isArray(p)&&(p=p.map(x=>F0(x))),h(i,["request","contents"],p)}const u=d(e,["metadata"]);u!=null&&h(i,["metadata"],u);const f=d(e,["config"]);return f!=null&&h(i,["request","generationConfig"],iS(n,f,d(i,["request"],{}))),i}function fS(n){const e={},i=d(n,["response"]);i!=null&&h(e,["response"],lS(i));const l=d(n,["error"]);return l!=null&&h(e,["error"],l),e}function hS(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function mS(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const u=d(n,["filter"]);return e!==void 0&&u!=null&&h(e,["_query","filter"],u),i}function pS(n){const e={},i=d(n,["config"]);return i!=null&&hS(i,e),e}function gS(n){const e={},i=d(n,["config"]);return i!=null&&mS(i,e),e}function xS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>So(f))),h(e,["batchJobs"],u)}return e}function yS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Du(f))),h(e,["batchJobs"],u)}return e}function vS(n){const e={},i=d(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const r=d(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const u=d(n,["fileData"]);u!=null&&h(e,["fileData"],tS(u));const f=d(n,["functionCall"]);f!=null&&h(e,["functionCall"],nS(f));const p=d(n,["functionResponse"]);p!=null&&h(e,["functionResponse"],p);const x=d(n,["inlineData"]);x!=null&&h(e,["inlineData"],zN(x));const g=d(n,["text"]);g!=null&&h(e,["text"],g);const v=d(n,["thought"]);v!=null&&h(e,["thought"],v);const b=d(n,["thoughtSignature"]);b!=null&&h(e,["thoughtSignature"],b);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function bS(n){const e={},i=d(n,["category"]);if(i!=null&&h(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(n,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function _S(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],sS(i));const l=d(n,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function NS(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const r=d(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const u=d(n,["fileSearch"]);u!=null&&h(e,["fileSearch"],u);const f=d(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(n,["googleMaps"]);p!=null&&h(e,["googleMaps"],rS(p));const x=d(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],cS(x));const g=d(n,["urlContext"]);return g!=null&&h(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ln;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ln||(Ln={}));class Os{constructor(e,i,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,l,r)}init(e,i,l){var r,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SS extends Pn{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Os(Ln.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Lg(this.apiClient,e),l=i._url,r=ce("{model}:batchGenerateContent",l),p=i.batch.inputConfig.requests,x=p.requests,g=[];for(const v of x){const b=Object.assign({},v);if(b.systemInstruction){const _=b.systemInstruction;delete b.systemInstruction;const S=b.request;S.systemInstruction=_,b.request=S}g.push(b)}return p.requests=g,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const l=i?Object.assign({},i):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${r}`;else if(f)l.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=FN(this.apiClient,e);return p=ce("batchPredictionJobs",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Du(v))}else{const g=Lg(this.apiClient,e);return p=ce("{model}:batchGenerateContent",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>So(v))}}async createEmbeddingsInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JN(this.apiClient,e);return u=ce("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>So(x))}}async get(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=oS(this.apiClient,e);return p=ce("batchPredictionJobs/{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Du(v))}else{const g=aS(this.apiClient,e);return p=ce("batches/{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>So(v))}}async cancel(e){var i,l,r,u;let f="",p={};if(this.apiClient.isVertexAI()){const x=qN(this.apiClient,e);f=ce("batchPredictionJobs/{name}:cancel",x._url),p=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const x=ON(this.apiClient,e);f=ce("batches/{name}:cancel",x._url),p=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=gS(e);return p=ce("batchPredictionJobs",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=yS(v),_=new kg;return Object.assign(_,b),_})}else{const g=pS(e);return p=ce("batches",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=xS(v),_=new kg;return Object.assign(_,b),_})}}async delete(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=KN(this.apiClient,e);return p=ce("batchPredictionJobs/{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>XN(v))}else{const g=YN(this.apiClient,e);return p=ce("batches/{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>QN(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(n){const e={},i=d(n,["data"]);if(i!=null&&h(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Pg(n){const e={},i=d(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>JS(u))),h(e,["parts"],r)}const l=d(n,["role"]);return l!=null&&h(e,["role"],l),e}function wS(n,e){const i={},l=d(n,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const u=d(n,["displayName"]);e!==void 0&&u!=null&&h(e,["displayName"],u);const f=d(n,["contents"]);if(e!==void 0&&f!=null){let v=Zt(f);Array.isArray(v)&&(v=v.map(b=>Pg(b))),h(e,["contents"],v)}const p=d(n,["systemInstruction"]);e!==void 0&&p!=null&&h(e,["systemInstruction"],Pg(xt(p)));const x=d(n,["tools"]);if(e!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(b=>KS(b))),h(e,["tools"],v)}const g=d(n,["toolConfig"]);if(e!==void 0&&g!=null&&h(e,["toolConfig"],YS(g)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function ES(n,e){const i={},l=d(n,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const u=d(n,["displayName"]);e!==void 0&&u!=null&&h(e,["displayName"],u);const f=d(n,["contents"]);if(e!==void 0&&f!=null){let b=Zt(f);Array.isArray(b)&&(b=b.map(_=>_)),h(e,["contents"],b)}const p=d(n,["systemInstruction"]);e!==void 0&&p!=null&&h(e,["systemInstruction"],xt(p));const x=d(n,["tools"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>QS(_))),h(e,["tools"],b)}const g=d(n,["toolConfig"]);e!==void 0&&g!=null&&h(e,["toolConfig"],g);const v=d(n,["kmsKeyName"]);return e!==void 0&&v!=null&&h(e,["encryption_spec","kmsKeyName"],v),i}function CS(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],D0(n,l));const r=d(e,["config"]);return r!=null&&wS(r,i),i}function AS(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["model"],D0(n,l));const r=d(e,["config"]);return r!=null&&ES(r,i),i}function jS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zn(n,l)),i}function RS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zn(n,l)),i}function MS(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function kS(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function DS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function IS(n){const e={},i=d(n,["id"]);i!=null&&h(e,["id"],i);const l=d(n,["args"]);l!=null&&h(e,["args"],l);const r=d(n,["name"]);if(r!=null&&h(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function US(n){const e={},i=d(n,["mode"]);i!=null&&h(e,["mode"],i);const l=d(n,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LS(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&h(e,["description"],i);const l=d(n,["name"]);l!=null&&h(e,["name"],l);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&h(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&h(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&h(e,["responseJsonSchema"],p),e}function PS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zn(n,l)),i}function zS(n,e){const i={},l=d(e,["name"]);return l!=null&&h(i,["_url","name"],zn(n,l)),i}function OS(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function qS(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function GS(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function HS(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function VS(n){const e={},i=d(n,["config"]);return i!=null&&GS(i,e),e}function BS(n){const e={},i=d(n,["config"]);return i!=null&&HS(i,e),e}function FS(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["cachedContents"],u)}return e}function $S(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["cachedContents"],u)}return e}function JS(n){const e={},i=d(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const r=d(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const u=d(n,["fileData"]);u!=null&&h(e,["fileData"],DS(u));const f=d(n,["functionCall"]);f!=null&&h(e,["functionCall"],IS(f));const p=d(n,["functionResponse"]);p!=null&&h(e,["functionResponse"],p);const x=d(n,["inlineData"]);x!=null&&h(e,["inlineData"],TS(x));const g=d(n,["text"]);g!=null&&h(e,["text"],g);const v=d(n,["thought"]);v!=null&&h(e,["thought"],v);const b=d(n,["thoughtSignature"]);b!=null&&h(e,["thoughtSignature"],b);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function YS(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],US(i));const l=d(n,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function KS(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const r=d(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const u=d(n,["fileSearch"]);u!=null&&h(e,["fileSearch"],u);const f=d(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(n,["googleMaps"]);p!=null&&h(e,["googleMaps"],OS(p));const x=d(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],qS(x));const g=d(n,["urlContext"]);return g!=null&&h(e,["urlContext"],g),e}function QS(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>LS(_))),h(e,["functionDeclarations"],b)}const l=d(n,["retrieval"]);l!=null&&h(e,["retrieval"],l);const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const u=d(n,["computerUse"]);if(u!=null&&h(e,["computerUse"],u),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const p=d(n,["enterpriseWebSearch"]);p!=null&&h(e,["enterpriseWebSearch"],p);const x=d(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const g=d(n,["googleSearch"]);g!=null&&h(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function XS(n,e){const i={},l=d(n,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),i}function ZS(n,e){const i={},l=d(n,["ttl"]);e!==void 0&&l!=null&&h(e,["ttl"],l);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),i}function WS(n,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],zn(n,l));const r=d(e,["config"]);return r!=null&&XS(r,i),i}function eT(n,e){const i={},l=d(e,["name"]);l!=null&&h(i,["_url","name"],zn(n,l));const r=d(e,["config"]);return r!=null&&ZS(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tT extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Os(Ln.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(i),i)}async create(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=AS(this.apiClient,e);return p=ce("cachedContents",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=CS(this.apiClient,e);return p=ce("cachedContents",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=zS(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=PS(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=RS(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=kS(v),_=new Rg;return Object.assign(_,b),_})}else{const g=jS(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=MS(v),_=new Rg;return Object.assign(_,b),_})}}async update(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=eT(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=WS(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=BS(e);return p=ce("cachedContents",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=$S(v),_=new Mg;return Object.assign(_,b),_})}else{const g=VS(e);return p=ce("cachedContents",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=FS(v),_=new Mg;return Object.assign(_,b),_})}}}function zg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],l=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(n){return this instanceof Ye?(this.v=n,this):new Ye(n)}function Ui(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(n,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(S){return function(w){return Promise.resolve(w).then(S,b)}}function p(S,w){l[S]&&(r[S]=function(C){return new Promise(function(O,J){u.push([S,C,O,J])>1||x(S,C)})},w&&(r[S]=w(r[S])))}function x(S,w){try{g(l[S](w))}catch(C){_(u[0][3],C)}}function g(S){S.value instanceof Ye?Promise.resolve(S.value.v).then(v,b):_(u[0][2],S)}function v(S){x("next",S)}function b(S){x("throw",S)}function _(S,w){S(w),u.shift(),u.length&&x(u[0][0],u[0][1])}}function Yl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof zg=="function"?zg(n):n[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(u){i[u]=n[u]&&function(f){return new Promise(function(p,x){f=n[u](f),r(p,x,f.done,f.value)})}}function r(u,f,p,x){Promise.resolve(x).then(function(g){u({value:g,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:$0(i)}function $0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Og(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let l=0;for(;l<i;)if(n[l].role==="user")e.push(n[l]),l++;else{const r=[];let u=!0;for(;l<i&&n[l].role==="model";)r.push(n[l]),u&&!$0(n[l])&&(u=!1),l++;u?e.push(...r):e.pop()}return e}class iT{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new lT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class lT{constructor(e,i,l,r={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=l,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),sT(u)}async sendMessage(e){var i;await this.sendPromise;const l=xt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,f,p;const x=await r,g=(f=(u=x.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=x.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let _=[];v!=null&&(_=(p=v.slice(b))!==null&&p!==void 0?p:[]);const S=g?[g]:[];this.recordHistory(l,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const l=xt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,l)}getHistory(e=!1){const i=e?Og(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var l,r;return Ui(this,arguments,function*(){var f,p,x,g;const v=[];try{for(var b=!0,_=Yl(e),S;S=yield Ye(_.next()),f=S.done,!f;b=!0){g=S.value,b=!1;const w=g;if(nT(w)){const C=(r=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content;C!==void 0&&v.push(C)}yield yield Ye(w)}}catch(w){p={error:w}}finally{try{!b&&!f&&(x=_.return)&&(yield Ye(x.call(_)))}finally{if(p)throw p.error}}this.recordHistory(i,v)})}recordHistory(e,i,l){let r=[];i.length>0&&i.every(u=>u.role!==void 0)?r=i:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Og(l)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Oo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(n){const e={},i=d(n,["file"]);return i!=null&&h(e,["file"],i),e}function oT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function rT(n){const e={},i=d(n,["name"]);return i!=null&&h(e,["_url","file"],O0(i)),e}function cT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function uT(n){const e={},i=d(n,["name"]);return i!=null&&h(e,["_url","file"],O0(i)),e}function dT(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function fT(n){const e={},i=d(n,["config"]);return i!=null&&dT(i,e),e}function hT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mT extends Pn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Os(Ln.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fT(e);return u=ce("files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=hT(x),v=new yN;return Object.assign(v,g),v})}}async createInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=aT(e);return u=ce("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=oT(x),v=new vN;return Object.assign(v,g),v})}}async get(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uT(e);return u=ce("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=rT(e);return u=ce("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=cT(x),v=new bN;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function To(n){const e={},i=d(n,["data"]);if(i!=null&&h(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function pT(n){const e={},i=d(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>MT(u))),h(e,["parts"],r)}const l=d(n,["role"]);return l!=null&&h(e,["role"],l),e}function gT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function xT(n){const e={},i=d(n,["id"]);i!=null&&h(e,["id"],i);const l=d(n,["args"]);l!=null&&h(e,["args"],l);const r=d(n,["name"]);if(r!=null&&h(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yT(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&h(e,["description"],i);const l=d(n,["name"]);l!=null&&h(e,["name"],l);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&h(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&h(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&h(e,["responseJsonSchema"],p),e}function vT(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(n,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const r=d(n,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const u=d(n,["candidateCount"]);u!=null&&h(e,["candidateCount"],u);const f=d(n,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const p=d(n,["frequencyPenalty"]);p!=null&&h(e,["frequencyPenalty"],p);const x=d(n,["logprobs"]);x!=null&&h(e,["logprobs"],x);const g=d(n,["maxOutputTokens"]);g!=null&&h(e,["maxOutputTokens"],g);const v=d(n,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const b=d(n,["presencePenalty"]);b!=null&&h(e,["presencePenalty"],b);const _=d(n,["responseLogprobs"]);_!=null&&h(e,["responseLogprobs"],_);const S=d(n,["responseMimeType"]);S!=null&&h(e,["responseMimeType"],S);const w=d(n,["responseModalities"]);w!=null&&h(e,["responseModalities"],w);const C=d(n,["responseSchema"]);C!=null&&h(e,["responseSchema"],C);const O=d(n,["routingConfig"]);O!=null&&h(e,["routingConfig"],O);const J=d(n,["seed"]);J!=null&&h(e,["seed"],J);const q=d(n,["speechConfig"]);q!=null&&h(e,["speechConfig"],J0(q));const G=d(n,["stopSequences"]);G!=null&&h(e,["stopSequences"],G);const H=d(n,["temperature"]);H!=null&&h(e,["temperature"],H);const ee=d(n,["thinkingConfig"]);ee!=null&&h(e,["thinkingConfig"],ee);const re=d(n,["topK"]);re!=null&&h(e,["topK"],re);const Z=d(n,["topP"]);if(Z!=null&&h(e,["topP"],Z),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bT(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function _T(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function NT(n,e){const i={},l=d(n,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","topK"],p);const x=d(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","speechConfig"],id(b));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const S=d(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&h(e,["setup","systemInstruction"],pT(xt(w)));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let re=Bi(C);Array.isArray(re)&&(re=re.map(Z=>DT(Vi(Z)))),h(e,["setup","tools"],re)}const O=d(n,["sessionResumption"]);e!==void 0&&O!=null&&h(e,["setup","sessionResumption"],kT(O));const J=d(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=d(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const G=d(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&h(e,["setup","realtimeInputConfig"],G);const H=d(n,["contextWindowCompression"]);e!==void 0&&H!=null&&h(e,["setup","contextWindowCompression"],H);const ee=d(n,["proactivity"]);return e!==void 0&&ee!=null&&h(e,["setup","proactivity"],ee),i}function ST(n,e){const i={},l=d(n,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],vT(l));const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","topK"],p);const x=d(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","speechConfig"],J0(id(b)));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const S=d(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&h(e,["setup","systemInstruction"],xt(w));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let re=Bi(C);Array.isArray(re)&&(re=re.map(Z=>IT(Vi(Z)))),h(e,["setup","tools"],re)}const O=d(n,["sessionResumption"]);e!==void 0&&O!=null&&h(e,["setup","sessionResumption"],O);const J=d(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=d(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const G=d(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&h(e,["setup","realtimeInputConfig"],G);const H=d(n,["contextWindowCompression"]);e!==void 0&&H!=null&&h(e,["setup","contextWindowCompression"],H);const ee=d(n,["proactivity"]);return e!==void 0&&ee!=null&&h(e,["setup","proactivity"],ee),i}function TT(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Le(n,l));const r=d(e,["config"]);return r!=null&&h(i,["config"],NT(r,i)),i}function wT(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Le(n,l));const r=d(e,["config"]);return r!=null&&h(i,["config"],ST(r,i)),i}function ET(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function CT(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>r)),h(e,["weightedPrompts"],l)}return e}function AT(n){const e={},i=d(n,["media"]);if(i!=null){let g=I0(i);Array.isArray(g)&&(g=g.map(v=>To(v))),h(e,["mediaChunks"],g)}const l=d(n,["audio"]);l!=null&&h(e,["audio"],To(L0(l)));const r=d(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const u=d(n,["video"]);u!=null&&h(e,["video"],To(U0(u)));const f=d(n,["text"]);f!=null&&h(e,["text"],f);const p=d(n,["activityStart"]);p!=null&&h(e,["activityStart"],p);const x=d(n,["activityEnd"]);return x!=null&&h(e,["activityEnd"],x),e}function jT(n){const e={},i=d(n,["media"]);if(i!=null){let g=I0(i);Array.isArray(g)&&(g=g.map(v=>v)),h(e,["mediaChunks"],g)}const l=d(n,["audio"]);l!=null&&h(e,["audio"],L0(l));const r=d(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const u=d(n,["video"]);u!=null&&h(e,["video"],U0(u));const f=d(n,["text"]);f!=null&&h(e,["text"],f);const p=d(n,["activityStart"]);p!=null&&h(e,["activityStart"],p);const x=d(n,["activityEnd"]);return x!=null&&h(e,["activityEnd"],x),e}function RT(n){const e={},i=d(n,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const l=d(n,["serverContent"]);l!=null&&h(e,["serverContent"],l);const r=d(n,["toolCall"]);r!=null&&h(e,["toolCall"],r);const u=d(n,["toolCallCancellation"]);u!=null&&h(e,["toolCallCancellation"],u);const f=d(n,["usageMetadata"]);f!=null&&h(e,["usageMetadata"],UT(f));const p=d(n,["goAway"]);p!=null&&h(e,["goAway"],p);const x=d(n,["sessionResumptionUpdate"]);return x!=null&&h(e,["sessionResumptionUpdate"],x),e}function MT(n){const e={},i=d(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const r=d(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const u=d(n,["fileData"]);u!=null&&h(e,["fileData"],gT(u));const f=d(n,["functionCall"]);f!=null&&h(e,["functionCall"],xT(f));const p=d(n,["functionResponse"]);p!=null&&h(e,["functionResponse"],p);const x=d(n,["inlineData"]);x!=null&&h(e,["inlineData"],To(x));const g=d(n,["text"]);g!=null&&h(e,["text"],g);const v=d(n,["thought"]);v!=null&&h(e,["thought"],v);const b=d(n,["thoughtSignature"]);b!=null&&h(e,["thoughtSignature"],b);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function kT(n){const e={},i=d(n,["handle"]);if(i!=null&&h(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function J0(n){const e={},i=d(n,["languageCode"]);i!=null&&h(e,["languageCode"],i);const l=d(n,["voiceConfig"]);if(l!=null&&h(e,["voiceConfig"],l),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function DT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const r=d(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const u=d(n,["fileSearch"]);u!=null&&h(e,["fileSearch"],u);const f=d(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(n,["googleMaps"]);p!=null&&h(e,["googleMaps"],bT(p));const x=d(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],_T(x));const g=d(n,["urlContext"]);return g!=null&&h(e,["urlContext"],g),e}function IT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>yT(_))),h(e,["functionDeclarations"],b)}const l=d(n,["retrieval"]);l!=null&&h(e,["retrieval"],l);const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const u=d(n,["computerUse"]);if(u!=null&&h(e,["computerUse"],u),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const p=d(n,["enterpriseWebSearch"]);p!=null&&h(e,["enterpriseWebSearch"],p);const x=d(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const g=d(n,["googleSearch"]);g!=null&&h(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function UT(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const l=d(n,["cachedContentTokenCount"]);l!=null&&h(e,["cachedContentTokenCount"],l);const r=d(n,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const u=d(n,["toolUsePromptTokenCount"]);u!=null&&h(e,["toolUsePromptTokenCount"],u);const f=d(n,["thoughtsTokenCount"]);f!=null&&h(e,["thoughtsTokenCount"],f);const p=d(n,["totalTokenCount"]);p!=null&&h(e,["totalTokenCount"],p);const x=d(n,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["promptTokensDetails"],S)}const g=d(n,["cacheTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["cacheTokensDetails"],S)}const v=d(n,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["responseTokensDetails"],S)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(w=>w)),h(e,["toolUsePromptTokensDetails"],S)}const _=d(n,["trafficType"]);return _!=null&&h(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(n){const e={},i=d(n,["data"]);if(i!=null&&h(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function PT(n){const e={},i=d(n,["content"]);i!=null&&h(e,["content"],i);const l=d(n,["citationMetadata"]);l!=null&&h(e,["citationMetadata"],zT(l));const r=d(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const u=d(n,["finishReason"]);u!=null&&h(e,["finishReason"],u);const f=d(n,["avgLogprobs"]);f!=null&&h(e,["avgLogprobs"],f);const p=d(n,["groundingMetadata"]);p!=null&&h(e,["groundingMetadata"],p);const x=d(n,["index"]);x!=null&&h(e,["index"],x);const g=d(n,["logprobsResult"]);g!=null&&h(e,["logprobsResult"],g);const v=d(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),h(e,["safetyRatings"],_)}const b=d(n,["urlContextMetadata"]);return b!=null&&h(e,["urlContextMetadata"],b),e}function zT(n){const e={},i=d(n,["citationSources"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>r)),h(e,["citations"],l)}return e}function OT(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let u=Zt(r);Array.isArray(u)&&(u=u.map(f=>f)),h(i,["contents"],u)}return i}function qT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),h(e,["tokensInfo"],r)}return e}function GT(n){const e={},i=d(n,["values"]);i!=null&&h(e,["values"],i);const l=d(n,["statistics"]);return l!=null&&h(e,["statistics"],HT(l)),e}function HT(n){const e={},i=d(n,["truncated"]);i!=null&&h(e,["truncated"],i);const l=d(n,["token_count"]);return l!=null&&h(e,["tokenCount"],l),e}function qo(n){const e={},i=d(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Xw(u))),h(e,["parts"],r)}const l=d(n,["role"]);return l!=null&&h(e,["role"],l),e}function VT(n){const e={},i=d(n,["controlType"]);i!=null&&h(e,["controlType"],i);const l=d(n,["enableControlImageComputation"]);return l!=null&&h(e,["computeControl"],l),e}function BT(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function FT(n,e){const i={},l=d(n,["systemInstruction"]);e!==void 0&&l!=null&&h(e,["systemInstruction"],xt(l));const r=d(n,["tools"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Z0(p))),h(e,["tools"],f)}const u=d(n,["generationConfig"]);return e!==void 0&&u!=null&&h(e,["generationConfig"],Lw(u)),i}function $T(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let f=Zt(r);Array.isArray(f)&&(f=f.map(p=>qo(p))),h(i,["contents"],f)}const u=d(e,["config"]);return u!=null&&BT(u),i}function JT(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let f=Zt(r);Array.isArray(f)&&(f=f.map(p=>p)),h(i,["contents"],f)}const u=d(e,["config"]);return u!=null&&FT(u,i),i}function YT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["totalTokens"]);l!=null&&h(e,["totalTokens"],l);const r=d(n,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function KT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["totalTokens"]);return l!=null&&h(e,["totalTokens"],l),e}function QT(n,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Le(n,l)),i}function XT(n,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Le(n,l)),i}function ZT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function WT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function ew(n,e){const i={},l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const u=d(n,["numberOfImages"]);e!==void 0&&u!=null&&h(e,["parameters","sampleCount"],u);const f=d(n,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const p=d(n,["guidanceScale"]);e!==void 0&&p!=null&&h(e,["parameters","guidanceScale"],p);const x=d(n,["seed"]);e!==void 0&&x!=null&&h(e,["parameters","seed"],x);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&h(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&h(e,["parameters","includeSafetyAttributes"],b);const _=d(n,["includeRaiReason"]);e!==void 0&&_!=null&&h(e,["parameters","includeRaiReason"],_);const S=d(n,["language"]);e!==void 0&&S!=null&&h(e,["parameters","language"],S);const w=d(n,["outputMimeType"]);e!==void 0&&w!=null&&h(e,["parameters","outputOptions","mimeType"],w);const C=d(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","compressionQuality"],C);const O=d(n,["addWatermark"]);e!==void 0&&O!=null&&h(e,["parameters","addWatermark"],O);const J=d(n,["labels"]);e!==void 0&&J!=null&&h(e,["labels"],J);const q=d(n,["editMode"]);e!==void 0&&q!=null&&h(e,["parameters","editMode"],q);const G=d(n,["baseSteps"]);return e!==void 0&&G!=null&&h(e,["parameters","editConfig","baseSteps"],G),i}function tw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const u=d(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(x=>sE(x))),h(i,["instances[0]","referenceImages"],p)}const f=d(e,["config"]);return f!=null&&ew(f,i),i}function nw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Go(u))),h(e,["generatedImages"],r)}return e}function sw(n,e){const i={},l=d(n,["taskType"]);e!==void 0&&l!=null&&h(e,["requests[]","taskType"],l);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const u=d(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&h(e,["requests[]","outputDimensionality"],u),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function iw(n,e){const i={},l=d(n,["taskType"]);e!==void 0&&l!=null&&h(e,["instances[]","task_type"],l);const r=d(n,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const u=d(n,["outputDimensionality"]);e!==void 0&&u!=null&&h(e,["parameters","outputDimensionality"],u);const f=d(n,["mimeType"]);e!==void 0&&f!=null&&h(e,["instances[]","mimeType"],f);const p=d(n,["autoTruncate"]);return e!==void 0&&p!=null&&h(e,["parameters","autoTruncate"],p),i}function lw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let p=td(n,r);Array.isArray(p)&&(p=p.map(x=>x)),h(i,["requests[]","content"],p)}const u=d(e,["config"]);u!=null&&sw(u,i);const f=d(e,["model"]);return f!==void 0&&h(i,["requests[]","model"],Le(n,f)),i}function aw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let f=td(n,r);Array.isArray(f)&&(f=f.map(p=>p)),h(i,["instances[]","content"],f)}const u=d(e,["config"]);return u!=null&&iw(u,i),i}function ow(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["embeddings"],u)}const r=d(n,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function rw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>GT(f))),h(e,["embeddings"],u)}const r=d(n,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function cw(n){const e={},i=d(n,["endpoint"]);i!=null&&h(e,["name"],i);const l=d(n,["deployedModelId"]);return l!=null&&h(e,["deployedModelId"],l),e}function uw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function dw(n){const e={},i=d(n,["id"]);i!=null&&h(e,["id"],i);const l=d(n,["args"]);l!=null&&h(e,["args"],l);const r=d(n,["name"]);if(r!=null&&h(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fw(n){const e={},i=d(n,["mode"]);i!=null&&h(e,["mode"],i);const l=d(n,["allowedFunctionNames"]);if(l!=null&&h(e,["allowedFunctionNames"],l),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hw(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&h(e,["description"],i);const l=d(n,["name"]);l!=null&&h(e,["name"],l);const r=d(n,["parameters"]);r!=null&&h(e,["parameters"],r);const u=d(n,["parametersJsonSchema"]);u!=null&&h(e,["parametersJsonSchema"],u);const f=d(n,["response"]);f!=null&&h(e,["response"],f);const p=d(n,["responseJsonSchema"]);return p!=null&&h(e,["responseJsonSchema"],p),e}function mw(n,e,i){const l={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],qo(xt(r)));const u=d(e,["temperature"]);u!=null&&h(l,["temperature"],u);const f=d(e,["topP"]);f!=null&&h(l,["topP"],f);const p=d(e,["topK"]);p!=null&&h(l,["topK"],p);const x=d(e,["candidateCount"]);x!=null&&h(l,["candidateCount"],x);const g=d(e,["maxOutputTokens"]);g!=null&&h(l,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&h(l,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&h(l,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&h(l,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&h(l,["presencePenalty"],S);const w=d(e,["frequencyPenalty"]);w!=null&&h(l,["frequencyPenalty"],w);const C=d(e,["seed"]);C!=null&&h(l,["seed"],C);const O=d(e,["responseMimeType"]);O!=null&&h(l,["responseMimeType"],O);const J=d(e,["responseSchema"]);J!=null&&h(l,["responseSchema"],nd(J));const q=d(e,["responseJsonSchema"]);if(q!=null&&h(l,["responseJsonSchema"],q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=d(e,["safetySettings"]);if(i!==void 0&&G!=null){let ie=G;Array.isArray(ie)&&(ie=ie.map(pe=>iE(pe))),h(i,["safetySettings"],ie)}const H=d(e,["tools"]);if(i!==void 0&&H!=null){let ie=Bi(H);Array.isArray(ie)&&(ie=ie.map(pe=>dE(Vi(pe)))),h(i,["tools"],ie)}const ee=d(e,["toolConfig"]);if(i!==void 0&&ee!=null&&h(i,["toolConfig"],uE(ee)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=d(e,["cachedContent"]);i!==void 0&&re!=null&&h(i,["cachedContent"],zn(n,re));const Z=d(e,["responseModalities"]);Z!=null&&h(l,["responseModalities"],Z);const ue=d(e,["mediaResolution"]);ue!=null&&h(l,["mediaResolution"],ue);const oe=d(e,["speechConfig"]);if(oe!=null&&h(l,["speechConfig"],sd(oe)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=d(e,["thinkingConfig"]);se!=null&&h(l,["thinkingConfig"],se);const P=d(e,["imageConfig"]);return P!=null&&h(l,["imageConfig"],Gw(P)),l}function pw(n,e,i){const l={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],xt(r));const u=d(e,["temperature"]);u!=null&&h(l,["temperature"],u);const f=d(e,["topP"]);f!=null&&h(l,["topP"],f);const p=d(e,["topK"]);p!=null&&h(l,["topK"],p);const x=d(e,["candidateCount"]);x!=null&&h(l,["candidateCount"],x);const g=d(e,["maxOutputTokens"]);g!=null&&h(l,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&h(l,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&h(l,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&h(l,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&h(l,["presencePenalty"],S);const w=d(e,["frequencyPenalty"]);w!=null&&h(l,["frequencyPenalty"],w);const C=d(e,["seed"]);C!=null&&h(l,["seed"],C);const O=d(e,["responseMimeType"]);O!=null&&h(l,["responseMimeType"],O);const J=d(e,["responseSchema"]);J!=null&&h(l,["responseSchema"],nd(J));const q=d(e,["responseJsonSchema"]);q!=null&&h(l,["responseJsonSchema"],q);const G=d(e,["routingConfig"]);G!=null&&h(l,["routingConfig"],G);const H=d(e,["modelSelectionConfig"]);H!=null&&h(l,["modelConfig"],H);const ee=d(e,["safetySettings"]);if(i!==void 0&&ee!=null){let E=ee;Array.isArray(E)&&(E=E.map(M=>M)),h(i,["safetySettings"],E)}const re=d(e,["tools"]);if(i!==void 0&&re!=null){let E=Bi(re);Array.isArray(E)&&(E=E.map(M=>Z0(Vi(M)))),h(i,["tools"],E)}const Z=d(e,["toolConfig"]);i!==void 0&&Z!=null&&h(i,["toolConfig"],Z);const ue=d(e,["labels"]);i!==void 0&&ue!=null&&h(i,["labels"],ue);const oe=d(e,["cachedContent"]);i!==void 0&&oe!=null&&h(i,["cachedContent"],zn(n,oe));const se=d(e,["responseModalities"]);se!=null&&h(l,["responseModalities"],se);const P=d(e,["mediaResolution"]);P!=null&&h(l,["mediaResolution"],P);const ie=d(e,["speechConfig"]);ie!=null&&h(l,["speechConfig"],X0(sd(ie)));const pe=d(e,["audioTimestamp"]);pe!=null&&h(l,["audioTimestamp"],pe);const I=d(e,["thinkingConfig"]);I!=null&&h(l,["thinkingConfig"],I);const D=d(e,["imageConfig"]);return D!=null&&h(l,["imageConfig"],Hw(D)),l}function qg(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let f=Zt(r);Array.isArray(f)&&(f=f.map(p=>qo(p))),h(i,["contents"],f)}const u=d(e,["config"]);return u!=null&&h(i,["generationConfig"],mw(n,u,i)),i}function Gg(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["contents"]);if(r!=null){let f=Zt(r);Array.isArray(f)&&(f=f.map(p=>p)),h(i,["contents"],f)}const u=d(e,["config"]);return u!=null&&h(i,["generationConfig"],pw(n,u,i)),i}function Hg(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["candidates"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(g=>PT(g))),h(e,["candidates"],x)}const r=d(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const u=d(n,["promptFeedback"]);u!=null&&h(e,["promptFeedback"],u);const f=d(n,["responseId"]);f!=null&&h(e,["responseId"],f);const p=d(n,["usageMetadata"]);return p!=null&&h(e,["usageMetadata"],p),e}function Vg(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),h(e,["candidates"],g)}const r=d(n,["createTime"]);r!=null&&h(e,["createTime"],r);const u=d(n,["modelVersion"]);u!=null&&h(e,["modelVersion"],u);const f=d(n,["promptFeedback"]);f!=null&&h(e,["promptFeedback"],f);const p=d(n,["responseId"]);p!=null&&h(e,["responseId"],p);const x=d(n,["usageMetadata"]);return x!=null&&h(e,["usageMetadata"],x),e}function gw(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const r=d(n,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const u=d(n,["guidanceScale"]);if(e!==void 0&&u!=null&&h(e,["parameters","guidanceScale"],u),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const p=d(n,["personGeneration"]);e!==void 0&&p!=null&&h(e,["parameters","personGeneration"],p);const x=d(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&h(e,["parameters","includeSafetyAttributes"],x);const g=d(n,["includeRaiReason"]);e!==void 0&&g!=null&&h(e,["parameters","includeRaiReason"],g);const v=d(n,["language"]);e!==void 0&&v!=null&&h(e,["parameters","language"],v);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const _=d(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=d(n,["imageSize"]);if(e!==void 0&&S!=null&&h(e,["parameters","sampleImageSize"],S),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function xw(n,e){const i={},l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const u=d(n,["numberOfImages"]);e!==void 0&&u!=null&&h(e,["parameters","sampleCount"],u);const f=d(n,["aspectRatio"]);e!==void 0&&f!=null&&h(e,["parameters","aspectRatio"],f);const p=d(n,["guidanceScale"]);e!==void 0&&p!=null&&h(e,["parameters","guidanceScale"],p);const x=d(n,["seed"]);e!==void 0&&x!=null&&h(e,["parameters","seed"],x);const g=d(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&h(e,["parameters","safetySetting"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&h(e,["parameters","includeSafetyAttributes"],b);const _=d(n,["includeRaiReason"]);e!==void 0&&_!=null&&h(e,["parameters","includeRaiReason"],_);const S=d(n,["language"]);e!==void 0&&S!=null&&h(e,["parameters","language"],S);const w=d(n,["outputMimeType"]);e!==void 0&&w!=null&&h(e,["parameters","outputOptions","mimeType"],w);const C=d(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","compressionQuality"],C);const O=d(n,["addWatermark"]);e!==void 0&&O!=null&&h(e,["parameters","addWatermark"],O);const J=d(n,["labels"]);e!==void 0&&J!=null&&h(e,["labels"],J);const q=d(n,["imageSize"]);e!==void 0&&q!=null&&h(e,["parameters","sampleImageSize"],q);const G=d(n,["enhancePrompt"]);return e!==void 0&&G!=null&&h(e,["parameters","enhancePrompt"],G),i}function yw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const u=d(e,["config"]);return u!=null&&gw(u,i),i}function vw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const u=d(e,["config"]);return u!=null&&xw(u,i),i}function bw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>kw(f))),h(e,["generatedImages"],u)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],K0(r)),e}function _w(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Go(f))),h(e,["generatedImages"],u)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],Q0(r)),e}function Nw(n,e){const i={},l=d(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(n,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(n,["aspectRatio"]);e!==void 0&&u!=null&&h(e,["parameters","aspectRatio"],u);const f=d(n,["resolution"]);e!==void 0&&f!=null&&h(e,["parameters","resolution"],f);const p=d(n,["personGeneration"]);if(e!==void 0&&p!=null&&h(e,["parameters","personGeneration"],p),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=d(n,["negativePrompt"]);e!==void 0&&x!=null&&h(e,["parameters","negativePrompt"],x);const g=d(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&h(e,["parameters","enhancePrompt"],g),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(n,["lastFrame"]);e!==void 0&&v!=null&&h(e,["instances[0]","lastFrame"],Ho(v));const b=d(n,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(S=>TE(S))),h(e,["instances[0]","referenceImages"],_)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Sw(n,e){const i={},l=d(n,["numberOfVideos"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const u=d(n,["fps"]);e!==void 0&&u!=null&&h(e,["parameters","fps"],u);const f=d(n,["durationSeconds"]);e!==void 0&&f!=null&&h(e,["parameters","durationSeconds"],f);const p=d(n,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const x=d(n,["aspectRatio"]);e!==void 0&&x!=null&&h(e,["parameters","aspectRatio"],x);const g=d(n,["resolution"]);e!==void 0&&g!=null&&h(e,["parameters","resolution"],g);const v=d(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const b=d(n,["pubsubTopic"]);e!==void 0&&b!=null&&h(e,["parameters","pubsubTopic"],b);const _=d(n,["negativePrompt"]);e!==void 0&&_!=null&&h(e,["parameters","negativePrompt"],_);const S=d(n,["enhancePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","enhancePrompt"],S);const w=d(n,["generateAudio"]);e!==void 0&&w!=null&&h(e,["parameters","generateAudio"],w);const C=d(n,["lastFrame"]);e!==void 0&&C!=null&&h(e,["instances[0]","lastFrame"],an(C));const O=d(n,["referenceImages"]);if(e!==void 0&&O!=null){let G=O;Array.isArray(G)&&(G=G.map(H=>wE(H))),h(e,["instances[0]","referenceImages"],G)}const J=d(n,["mask"]);e!==void 0&&J!=null&&h(e,["instances[0]","mask"],SE(J));const q=d(n,["compressionQuality"]);return e!==void 0&&q!=null&&h(e,["parameters","compressionQuality"],q),i}function Tw(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response","generateVideoResponse"]);return f!=null&&h(e,["response"],Aw(f)),e}function ww(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response"]);return f!=null&&h(e,["response"],jw(f)),e}function Ew(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const u=d(e,["image"]);u!=null&&h(i,["instances[0]","image"],Ho(u));const f=d(e,["video"]);f!=null&&h(i,["instances[0]","video"],W0(f));const p=d(e,["source"]);p!=null&&Rw(p,i);const x=d(e,["config"]);return x!=null&&Nw(x,i),i}function Cw(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const u=d(e,["image"]);u!=null&&h(i,["instances[0]","image"],an(u));const f=d(e,["video"]);f!=null&&h(i,["instances[0]","video"],ex(f));const p=d(e,["source"]);p!=null&&Mw(p,i);const x=d(e,["config"]);return x!=null&&Sw(x,i),i}function Aw(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>Iw(f))),h(e,["generatedVideos"],u)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function jw(n){const e={},i=d(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>Uw(f))),h(e,["generatedVideos"],u)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(e,["raiMediaFilteredCount"],l);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function Rw(n,e){const i={},l=d(n,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const r=d(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Ho(r));const u=d(n,["video"]);return e!==void 0&&u!=null&&h(e,["instances[0]","video"],W0(u)),i}function Mw(n,e){const i={},l=d(n,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const r=d(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],an(r));const u=d(n,["video"]);return e!==void 0&&u!=null&&h(e,["instances[0]","video"],ex(u)),i}function kw(n){const e={},i=d(n,["_self"]);i!=null&&h(e,["image"],Vw(i));const l=d(n,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const r=d(n,["_self"]);return r!=null&&h(e,["safetyAttributes"],K0(r)),e}function Go(n){const e={},i=d(n,["_self"]);i!=null&&h(e,["image"],Y0(i));const l=d(n,["raiFilteredReason"]);l!=null&&h(e,["raiFilteredReason"],l);const r=d(n,["_self"]);r!=null&&h(e,["safetyAttributes"],Q0(r));const u=d(n,["prompt"]);return u!=null&&h(e,["enhancedPrompt"],u),e}function Dw(n){const e={},i=d(n,["_self"]);i!=null&&h(e,["mask"],Y0(i));const l=d(n,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),h(e,["labels"],r)}return e}function Iw(n){const e={},i=d(n,["video"]);return i!=null&&h(e,["video"],_E(i)),e}function Uw(n){const e={},i=d(n,["_self"]);return i!=null&&h(e,["video"],NE(i)),e}function Lw(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const l=d(n,["responseJsonSchema"]);l!=null&&h(e,["responseJsonSchema"],l);const r=d(n,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const u=d(n,["candidateCount"]);u!=null&&h(e,["candidateCount"],u);const f=d(n,["enableAffectiveDialog"]);f!=null&&h(e,["enableAffectiveDialog"],f);const p=d(n,["frequencyPenalty"]);p!=null&&h(e,["frequencyPenalty"],p);const x=d(n,["logprobs"]);x!=null&&h(e,["logprobs"],x);const g=d(n,["maxOutputTokens"]);g!=null&&h(e,["maxOutputTokens"],g);const v=d(n,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const b=d(n,["presencePenalty"]);b!=null&&h(e,["presencePenalty"],b);const _=d(n,["responseLogprobs"]);_!=null&&h(e,["responseLogprobs"],_);const S=d(n,["responseMimeType"]);S!=null&&h(e,["responseMimeType"],S);const w=d(n,["responseModalities"]);w!=null&&h(e,["responseModalities"],w);const C=d(n,["responseSchema"]);C!=null&&h(e,["responseSchema"],C);const O=d(n,["routingConfig"]);O!=null&&h(e,["routingConfig"],O);const J=d(n,["seed"]);J!=null&&h(e,["seed"],J);const q=d(n,["speechConfig"]);q!=null&&h(e,["speechConfig"],X0(q));const G=d(n,["stopSequences"]);G!=null&&h(e,["stopSequences"],G);const H=d(n,["temperature"]);H!=null&&h(e,["temperature"],H);const ee=d(n,["thinkingConfig"]);ee!=null&&h(e,["thinkingConfig"],ee);const re=d(n,["topK"]);re!=null&&h(e,["topK"],re);const Z=d(n,["topP"]);if(Z!=null&&h(e,["topP"],Z),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Pw(n,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Le(n,l)),i}function zw(n,e){const i={},l=d(e,["model"]);return l!=null&&h(i,["_url","name"],Le(n,l)),i}function Ow(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function qw(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function Gw(n){const e={},i=d(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(n,["imageSize"]);if(l!=null&&h(e,["imageSize"],l),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hw(n){const e={},i=d(n,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const l=d(n,["imageSize"]);l!=null&&h(e,["imageSize"],l);const r=d(n,["outputMimeType"]);r!=null&&h(e,["imageOutputOptions","mimeType"],r);const u=d(n,["outputCompressionQuality"]);return u!=null&&h(e,["imageOutputOptions","compressionQuality"],u),e}function Vw(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],ms(i));const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function Y0(n){const e={},i=d(n,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(e,["imageBytes"],ms(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Ho(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],ms(i));const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function an(n){const e={},i=d(n,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const l=d(n,["imageBytes"]);l!=null&&h(e,["bytesBase64Encoded"],ms(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Bw(n,e,i){const l={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&h(i,["_query","pageSize"],r);const u=d(e,["pageToken"]);i!==void 0&&u!=null&&h(i,["_query","pageToken"],u);const f=d(e,["filter"]);i!==void 0&&f!=null&&h(i,["_query","filter"],f);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&h(i,["_url","models_url"],q0(n,p)),l}function Fw(n,e,i){const l={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&h(i,["_query","pageSize"],r);const u=d(e,["pageToken"]);i!==void 0&&u!=null&&h(i,["_query","pageToken"],u);const f=d(e,["filter"]);i!==void 0&&f!=null&&h(i,["_query","filter"],f);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&h(i,["_url","models_url"],q0(n,p)),l}function $w(n,e){const i={},l=d(e,["config"]);return l!=null&&Bw(n,l,i),i}function Jw(n,e){const i={},l=d(e,["config"]);return l!=null&&Fw(n,l,i),i}function Yw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["_self"]);if(r!=null){let u=G0(r);Array.isArray(u)&&(u=u.map(f=>Iu(f))),h(e,["models"],u)}return e}function Kw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["_self"]);if(r!=null){let u=G0(r);Array.isArray(u)&&(u=u.map(f=>Uu(f))),h(e,["models"],u)}return e}function Qw(n){const e={},i=d(n,["maskMode"]);i!=null&&h(e,["maskMode"],i);const l=d(n,["segmentationClasses"]);l!=null&&h(e,["maskClasses"],l);const r=d(n,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function Iu(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["displayName"]);l!=null&&h(e,["displayName"],l);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const u=d(n,["version"]);u!=null&&h(e,["version"],u);const f=d(n,["_self"]);f!=null&&h(e,["tunedModelInfo"],fE(f));const p=d(n,["inputTokenLimit"]);p!=null&&h(e,["inputTokenLimit"],p);const x=d(n,["outputTokenLimit"]);x!=null&&h(e,["outputTokenLimit"],x);const g=d(n,["supportedGenerationMethods"]);g!=null&&h(e,["supportedActions"],g);const v=d(n,["temperature"]);v!=null&&h(e,["temperature"],v);const b=d(n,["maxTemperature"]);b!=null&&h(e,["maxTemperature"],b);const _=d(n,["topP"]);_!=null&&h(e,["topP"],_);const S=d(n,["topK"]);S!=null&&h(e,["topK"],S);const w=d(n,["thinking"]);return w!=null&&h(e,["thinking"],w),e}function Uu(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["displayName"]);l!=null&&h(e,["displayName"],l);const r=d(n,["description"]);r!=null&&h(e,["description"],r);const u=d(n,["versionId"]);u!=null&&h(e,["version"],u);const f=d(n,["deployedModels"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(_=>cw(_))),h(e,["endpoints"],b)}const p=d(n,["labels"]);p!=null&&h(e,["labels"],p);const x=d(n,["_self"]);x!=null&&h(e,["tunedModelInfo"],hE(x));const g=d(n,["defaultCheckpointId"]);g!=null&&h(e,["defaultCheckpointId"],g);const v=d(n,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["checkpoints"],b)}return e}function Xw(n){const e={},i=d(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const r=d(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const u=d(n,["fileData"]);u!=null&&h(e,["fileData"],uw(u));const f=d(n,["functionCall"]);f!=null&&h(e,["functionCall"],dw(f));const p=d(n,["functionResponse"]);p!=null&&h(e,["functionResponse"],p);const x=d(n,["inlineData"]);x!=null&&h(e,["inlineData"],LT(x));const g=d(n,["text"]);g!=null&&h(e,["text"],g);const v=d(n,["thought"]);v!=null&&h(e,["thought"],v);const b=d(n,["thoughtSignature"]);b!=null&&h(e,["thoughtSignature"],b);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function Zw(n){const e={},i=d(n,["productImage"]);return i!=null&&h(e,["image"],an(i)),e}function Ww(n,e){const i={},l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const r=d(n,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const u=d(n,["outputGcsUri"]);e!==void 0&&u!=null&&h(e,["parameters","storageUri"],u);const f=d(n,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(n,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const g=d(n,["addWatermark"]);e!==void 0&&g!=null&&h(e,["parameters","addWatermark"],g);const v=d(n,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const b=d(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","compressionQuality"],b);const _=d(n,["enhancePrompt"]);e!==void 0&&_!=null&&h(e,["parameters","enhancePrompt"],_);const S=d(n,["labels"]);return e!==void 0&&S!=null&&h(e,["labels"],S),i}function eE(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["source"]);r!=null&&nE(r,i);const u=d(e,["config"]);return u!=null&&Ww(u,i),i}function tE(n){const e={},i=d(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>Go(r))),h(e,["generatedImages"],l)}return e}function nE(n,e){const i={},l=d(n,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const r=d(n,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],an(r));const u=d(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Zw(p))),h(e,["instances[0]","productImages"],f)}return i}function sE(n){const e={},i=d(n,["referenceImage"]);i!=null&&h(e,["referenceImage"],an(i));const l=d(n,["referenceId"]);l!=null&&h(e,["referenceId"],l);const r=d(n,["referenceType"]);r!=null&&h(e,["referenceType"],r);const u=d(n,["maskImageConfig"]);u!=null&&h(e,["maskImageConfig"],Qw(u));const f=d(n,["controlImageConfig"]);f!=null&&h(e,["controlImageConfig"],VT(f));const p=d(n,["styleImageConfig"]);p!=null&&h(e,["styleImageConfig"],p);const x=d(n,["subjectImageConfig"]);return x!=null&&h(e,["subjectImageConfig"],x),e}function K0(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(n,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const r=d(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function Q0(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const l=d(n,["safetyAttributes","scores"]);l!=null&&h(e,["scores"],l);const r=d(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function iE(n){const e={},i=d(n,["category"]);if(i!=null&&h(e,["category"],i),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=d(n,["threshold"]);return l!=null&&h(e,["threshold"],l),e}function lE(n){const e={},i=d(n,["image"]);return i!=null&&h(e,["image"],an(i)),e}function aE(n,e){const i={},l=d(n,["mode"]);e!==void 0&&l!=null&&h(e,["parameters","mode"],l);const r=d(n,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const u=d(n,["confidenceThreshold"]);e!==void 0&&u!=null&&h(e,["parameters","confidenceThreshold"],u);const f=d(n,["maskDilation"]);e!==void 0&&f!=null&&h(e,["parameters","maskDilation"],f);const p=d(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&h(e,["parameters","binaryColorThreshold"],p);const x=d(n,["labels"]);return e!==void 0&&x!=null&&h(e,["labels"],x),i}function oE(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["source"]);r!=null&&cE(r,i);const u=d(e,["config"]);return u!=null&&aE(u,i),i}function rE(n){const e={},i=d(n,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>Dw(r))),h(e,["generatedMasks"],l)}return e}function cE(n,e){const i={},l=d(n,["prompt"]);e!==void 0&&l!=null&&h(e,["instances[0]","prompt"],l);const r=d(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],an(r));const u=d(n,["scribbleImage"]);return e!==void 0&&u!=null&&h(e,["instances[0]","scribble"],lE(u)),i}function X0(n){const e={},i=d(n,["languageCode"]);i!=null&&h(e,["languageCode"],i);const l=d(n,["voiceConfig"]);if(l!=null&&h(e,["voiceConfig"],l),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function uE(n){const e={},i=d(n,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],fw(i));const l=d(n,["retrievalConfig"]);return l!=null&&h(e,["retrievalConfig"],l),e}function dE(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const r=d(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const u=d(n,["fileSearch"]);u!=null&&h(e,["fileSearch"],u);const f=d(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(n,["googleMaps"]);p!=null&&h(e,["googleMaps"],Ow(p));const x=d(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],qw(x));const g=d(n,["urlContext"]);return g!=null&&h(e,["urlContext"],g),e}function Z0(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>hw(_))),h(e,["functionDeclarations"],b)}const l=d(n,["retrieval"]);l!=null&&h(e,["retrieval"],l);const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const u=d(n,["computerUse"]);if(u!=null&&h(e,["computerUse"],u),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&h(e,["codeExecution"],f);const p=d(n,["enterpriseWebSearch"]);p!=null&&h(e,["enterpriseWebSearch"],p);const x=d(n,["googleMaps"]);x!=null&&h(e,["googleMaps"],x);const g=d(n,["googleSearch"]);g!=null&&h(e,["googleSearch"],g);const v=d(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function fE(n){const e={},i=d(n,["baseModel"]);i!=null&&h(e,["baseModel"],i);const l=d(n,["createTime"]);l!=null&&h(e,["createTime"],l);const r=d(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function hE(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const l=d(n,["createTime"]);l!=null&&h(e,["createTime"],l);const r=d(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function mE(n,e){const i={},l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const r=d(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const u=d(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&h(e,["defaultCheckpointId"],u),i}function pE(n,e){const i={},l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const r=d(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const u=d(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&h(e,["defaultCheckpointId"],u),i}function gE(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","name"],Le(n,l));const r=d(e,["config"]);return r!=null&&mE(r,i),i}function xE(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["config"]);return r!=null&&pE(r,i),i}function yE(n,e){const i={},l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const r=d(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const u=d(n,["personGeneration"]);e!==void 0&&u!=null&&h(e,["parameters","personGeneration"],u);const f=d(n,["includeRaiReason"]);e!==void 0&&f!=null&&h(e,["parameters","includeRaiReason"],f);const p=d(n,["outputMimeType"]);e!==void 0&&p!=null&&h(e,["parameters","outputOptions","mimeType"],p);const x=d(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","compressionQuality"],x);const g=d(n,["enhanceInputImage"]);e!==void 0&&g!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=d(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const b=d(n,["labels"]);e!==void 0&&b!=null&&h(e,["labels"],b);const _=d(n,["numberOfImages"]);e!==void 0&&_!=null&&h(e,["parameters","sampleCount"],_);const S=d(n,["mode"]);return e!==void 0&&S!=null&&h(e,["parameters","mode"],S),i}function vE(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["_url","model"],Le(n,l));const r=d(e,["image"]);r!=null&&h(i,["instances[0]","image"],an(r));const u=d(e,["upscaleFactor"]);u!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],u);const f=d(e,["config"]);return f!=null&&yE(f,i),i}function bE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Go(u))),h(e,["generatedImages"],r)}return e}function _E(n){const e={},i=d(n,["uri"]);i!=null&&h(e,["uri"],i);const l=d(n,["encodedVideo"]);l!=null&&h(e,["videoBytes"],ms(l));const r=d(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function NE(n){const e={},i=d(n,["gcsUri"]);i!=null&&h(e,["uri"],i);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(e,["videoBytes"],ms(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function SE(n){const e={},i=d(n,["image"]);i!=null&&h(e,["_self"],an(i));const l=d(n,["maskMode"]);return l!=null&&h(e,["maskMode"],l),e}function TE(n){const e={},i=d(n,["image"]);i!=null&&h(e,["image"],Ho(i));const l=d(n,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function wE(n){const e={},i=d(n,["image"]);i!=null&&h(e,["image"],an(i));const l=d(n,["referenceType"]);return l!=null&&h(e,["referenceType"],l),e}function W0(n){const e={},i=d(n,["uri"]);i!=null&&h(e,["uri"],i);const l=d(n,["videoBytes"]);l!=null&&h(e,["encodedVideo"],ms(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function ex(n){const e={},i=d(n,["uri"]);i!=null&&h(e,["gcsUri"],i);const l=d(n,["videoBytes"]);l!=null&&h(e,["bytesBase64Encoded"],ms(l));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EE="Content-Type",CE="X-Server-Timeout",AE="User-Agent",Lu="x-goog-api-client",jE="1.30.0",RE=`google-genai-sdk/${jE}`,ME="v1beta1",kE="v1beta",Bg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class DE{constructor(e){var i,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ME,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:kE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,l){const r=[this.getRequestUrlInternal(i)];return l&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,l);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))r.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,i){const l=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(i))typeof u=="object"?l[r]=Object.assign(Object.assign({},l[r]),u):u!==void 0&&(l[r]=u);return l}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,l,r){if(i&&i.timeout||r){const u=new AbortController,f=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=f}return i&&i.extraBody!==null&&IE(e,i.extraBody),e.headers=await this.getHeadersInternal(i,l),e}async unaryApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async r=>(await Fg(r),new Mu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:l})).then(async r=>(await Fg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var i;return Ui(this,arguments,function*(){const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";for(;;){const{done:p,value:x}=yield Ye(r.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(x,{stream:!0});try{const b=JSON.parse(g);if("error"in b){const _=JSON.parse(JSON.stringify(b.error)),S=_.status,w=_.code,C=`got status: ${S}. ${JSON.stringify(b)}`;if(w>=400&&w<600)throw new Oo({message:C,status:w})}}catch(b){if(b.name==="ApiError")throw b}f+=g;let v=f.match(Bg);for(;v;){const b=v[1];try{const _=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new Mu(_)),f=f.slice(v[0].length),v=f.match(Bg)}catch(_){throw new Error(`exception parsing stream chunk ${b}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},i=RE+" "+this.clientOptions.userAgentExtra;return e[AE]=i,e[Lu]=i,e[EE]="application/json",e}async getHeadersInternal(e,i){const l=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))l.append(r,u);e.timeout&&e.timeout>0&&l.append(CE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,i),l}getFileName(e){var i;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(i=l.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),l}async uploadFile(e,i){var l;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);r.sizeBytes=String(f.size);const p=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const x={file:r},g=this.getFileName(e),v=ce("upload/v1beta/files",x._url),b=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,x,i==null?void 0:i.httpOptions);return u.upload(e,b,this)}async uploadFileToFileSearchStore(e,i,l){var r;const u=this.clientOptions.uploader,f=await u.stat(i),p=String(f.size),x=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:f.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),b={};l!=null&&l.customMetadata&&(b.customMetadata=l.customMetadata),l!=null&&l.chunkingConfig&&(b.chunkingConfig=l.chunkingConfig);const _=await this.fetchUploadUrl(g,p,x,v,b,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(i,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,l,r,u,f){var p;let x={};f?x=f:x={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:x});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Fg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(l);throw i>=400&&i<600?new Oo({message:r,status:i}):new Error(r)}}function IE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,f){const p=Object.assign({},u);for(const x in f)if(Object.prototype.hasOwnProperty.call(f,x)){const g=f[x],v=p[x];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[x]=l(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[x]=g)}return p}const r=l(i,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UE="mcp_used/unknown";let LE=!1;function tx(n){for(const e of n)if(PE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return LE}function nx(n){var e;const i=(e=n[Lu])!==null&&e!==void 0?e:"";n[Lu]=(i+` ${UE}`).trimStart()}function PE(n){return n!==null&&typeof n=="object"&&n instanceof ld}function zE(n,e=100){return Ui(this,arguments,function*(){let l,r=0;for(;r<e;){const u=yield Ye(n.listTools({cursor:l}));for(const f of u.tools)yield yield Ye(f),r++;if(!u.nextCursor)break;l=u.nextCursor}})}class ld{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new ld(e,i)}async initialize(){var e,i,l,r;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,x=(i=void 0,Yl(zE(v))),g;g=await x.next(),e=g.done,!e;p=!0){r=g.value,p=!1;const b=r;f.push(b);const _=b.name;if(u[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);u[_]=v}}catch(b){i={error:b}}finally{try{!p&&!e&&(l=x.return)&&await l.call(x)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),RN(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await r.callTool({name:l.name,arguments:l.args},void 0,u);i.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OE(n,e,i){const l=new NN;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(l,r),e(l)}class qE{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l}async connect(e){var i,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=VE(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),x=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(G=>{g=G}),b=e.callbacks,_=function(){g({})},S=this.apiClient,w={onopen:_,onmessage:G=>{OE(S,b.onmessage,G)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(G){},onclose:(l=b==null?void 0:b.onclose)!==null&&l!==void 0?l:function(G){}},C=this.webSocketFactory.create(x,HE(f),w);C.connect(),await v;const q={setup:{model:Le(this.apiClient,e.model)}};return C.send(JSON.stringify(q)),new GE(C,this.apiClient)}}class GE{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=CT(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=ET(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Di.PLAY)}pause(){this.sendPlaybackControl(Di.PAUSE)}stop(){this.sendPlaybackControl(Di.STOP)}resetContext(){this.sendPlaybackControl(Di.RESET_CONTEXT)}close(){this.conn.close()}}function HE(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function VE(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FE(n,e,i){const l=new _N;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const u=JSON.parse(r);if(n.isVertexAI()){const f=RT(u);Object.assign(l,f)}else Object.assign(l,u);e(l)}class $E{constructor(e,i,l){this.apiClient=e,this.auth=i,this.webSocketFactory=l,this.music=new qE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,l,r,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&tx(e.config.tools)&&nx(b);const _=QE(b);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const oe=this.apiClient.getApiKey();let se="BidiGenerateContent",P="key";oe!=null&&oe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",P="access_token"),v=`${x}/ws/google.ai.generativelanguage.${g}.GenerativeService.${se}?${P}=${oe}`}let S=()=>{};const w=new Promise(oe=>{S=oe}),C=e.callbacks,O=function(){var oe;(oe=C==null?void 0:C.onopen)===null||oe===void 0||oe.call(C),S({})},J=this.apiClient,q={onopen:O,onmessage:oe=>{FE(J,C.onmessage,oe)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(oe){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(oe){}},G=this.webSocketFactory.create(v,KE(_),q);G.connect(),await w;let H=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const oe=this.apiClient.getProject(),se=this.apiClient.getLocation();H=`projects/${oe}/locations/${se}/`+H}let ee={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Mo.AUDIO]}:e.config.responseModalities=[Mo.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const re=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],Z=[];for(const oe of re)if(this.isCallableTool(oe)){const se=oe;Z.push(await se.tool())}else Z.push(oe);Z.length>0&&(e.config.tools=Z);const ue={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ee=wT(this.apiClient,ue):ee=TT(this.apiClient,ue),delete ee.config,G.send(JSON.stringify(ee)),new YE(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JE={turnComplete:!0};class YE{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let l=[];try{l=Zt(i.turns),e.isVertexAI()||(l=l.map(r=>qo(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:l,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let l=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?l=i.functionResponses:l=[i.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(BE)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},JE),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:jT(e)}:i={realtimeInput:AT(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function KE(n){const e={};return n.forEach((i,l)=>{e[l]=i}),e}function QE(n){const e=new Headers;for(const[i,l]of Object.entries(n))e.append(i,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $g=10;function Jg(n){var e,i,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Li(f)){r=!0;break}if(!r)return!0;const u=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Li(n){return"callTool"in n&&typeof n.callTool=="function"}function XE(n){var e,i,l;return(l=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>Li(r)))!==null&&l!==void 0?l:!1}function Yg(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,r)=>{if(Li(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(r)}),i}function Kg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends Pn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var l,r,u,f,p;const x=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!XE(i)||Jg(i.config))return await this.generateContentInternal(x);const g=Yg(i);if(g.length>0){const C=g.map(O=>`tools[${O}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,b;const _=Zt(x.contents),S=(u=(r=(l=x.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:$g;let w=0;for(;w<S&&(v=await this.generateContentInternal(x),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,O=[];for(const J of(p=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Li(J)){const G=await J.callTool(v.functionCalls);O.push(...G)}w++,b={role:"user",parts:O},x.contents=Zt(x.contents),x.contents.push(C),x.contents.push(b),Kg(x.config)&&(_.push(C),_.push(b))}return Kg(x.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async i=>{var l,r,u,f,p;if(this.maybeMoveToResponseJsonSchem(i),Jg(i.config)){const b=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(b)}const x=Yg(i);if(x.length>0){const b=x.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(r=(l=i==null?void 0:i.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(l=>{var r;let u;const f=[];if(l!=null&&l.generatedImages)for(const x of l.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((r=x==null?void 0:x.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=x==null?void 0:x.safetyAttributes:f.push(x);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async i=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Os(Ln.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async i=>{const l={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(l.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async i=>{let l={numberOfImages:1,mode:"upscale"};i.config&&(l=Object.assign(Object.assign({},l),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var l,r,u,f,p,x;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=i.video)===null||l===void 0)&&l.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(u=i.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((x=(p=i.source)===null||p===void 0?void 0:p.video)===null||x===void 0)&&x.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,l,r;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const f=await Promise.all(u.map(async x=>Li(x)?await x.tool():x)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&tx(e.config.tools)){const x=(r=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},x);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),nx(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var i,l,r;const u=new Map;for(const f of(l=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&l!==void 0?l:[])if(Li(f)){const p=f,x=await p.tool();for(const g of(r=x.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var i,l,r;const u=(r=(l=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:$g;let f=!1,p=0;const x=await this.initAfcToolsMap(e);return(function(g,v,b){var _,S;return Ui(this,arguments,function*(){for(var w,C,O,J;p<u;){f&&(p++,f=!1);const ee=yield Ye(g.processParamsMaybeAddMcpUsage(b)),re=yield Ye(g.generateContentStreamInternal(ee)),Z=[],ue=[];try{for(var q=!0,G=(C=void 0,Yl(re)),H;H=yield Ye(G.next()),w=H.done,!w;q=!0){J=H.value,q=!1;const oe=J;if(yield yield Ye(oe),oe.candidates&&(!((_=oe.candidates[0])===null||_===void 0)&&_.content)){ue.push(oe.candidates[0].content);for(const se of(S=oe.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(p<u&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const P=yield Ye(v.get(se.functionCall.name).callTool([se.functionCall]));Z.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(oe){C={error:oe}}finally{try{!q&&!w&&(O=G.return)&&(yield Ye(O.call(G)))}finally{if(C)throw C.error}}if(Z.length>0){f=!0;const oe=new Bl;oe.candidates=[{content:{role:"user",parts:Z}}],yield yield Ye(oe);const se=[];se.push(...ue),se.push({role:"user",parts:Z});const P=Zt(b.contents).concat(se);b.contents=P}else break}})})(this,x,e)}async generateContentInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=Gg(this.apiClient,e);return p=ce("{model}:generateContent",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=Vg(v),_=new Bl;return Object.assign(_,b),_})}else{const g=qg(this.apiClient,e);return p=ce("{model}:generateContent",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=Hg(v),_=new Bl;return Object.assign(_,b),_})}}async generateContentStreamInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=Gg(this.apiClient,e);return p=ce("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(b){return Ui(this,arguments,function*(){var _,S,w,C;try{for(var O=!0,J=Yl(b),q;q=yield Ye(J.next()),_=q.done,!_;O=!0){C=q.value,O=!1;const G=C,H=Vg(yield Ye(G.json()));H.sdkHttpResponse={headers:G.headers};const ee=new Bl;Object.assign(ee,H),yield yield Ye(ee)}}catch(G){S={error:G}}finally{try{!O&&!_&&(w=J.return)&&(yield Ye(w.call(J)))}finally{if(S)throw S.error}}})})}else{const g=qg(this.apiClient,e);return p=ce("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(b){return Ui(this,arguments,function*(){var _,S,w,C;try{for(var O=!0,J=Yl(b),q;q=yield Ye(J.next()),_=q.done,!_;O=!0){C=q.value,O=!1;const G=C,H=Hg(yield Ye(G.json()));H.sdkHttpResponse={headers:G.headers};const ee=new Bl;Object.assign(ee,H),yield yield Ye(ee)}}catch(G){S={error:G}}finally{try{!O&&!_&&(w=J.return)&&(yield Ye(w.call(J)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=aw(this.apiClient,e);return p=ce("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=rw(v),_=new Tg;return Object.assign(_,b),_})}else{const g=lw(this.apiClient,e);return p=ce("{model}:batchEmbedContents",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=ow(v),_=new Tg;return Object.assign(_,b),_})}}async generateImagesInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=vw(this.apiClient,e);return p=ce("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=_w(v),_=new wg;return Object.assign(_,b),_})}else{const g=yw(this.apiClient,e);return p=ce("{model}:predict",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=bw(v),_=new wg;return Object.assign(_,b),_})}}async editImageInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=tw(this.apiClient,e);return u=ce("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=nw(x),v=new uN;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=vE(this.apiClient,e);return u=ce("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=bE(x),v=new dN;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=eE(this.apiClient,e);return u=ce("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=tE(x),v=new fN;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=oE(this.apiClient,e);return u=ce("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=rE(x),v=new hN;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=zw(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Uu(v))}else{const g=Pw(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Iu(v))}}async listInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=Jw(this.apiClient,e);return p=ce("{models_url}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=Kw(v),_=new Eg;return Object.assign(_,b),_})}else{const g=$w(this.apiClient,e);return p=ce("{models_url}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=Yw(v),_=new Eg;return Object.assign(_,b),_})}}async update(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=xE(this.apiClient,e);return p=ce("{model}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Uu(v))}else{const g=gE(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Iu(v))}}async delete(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=WT(v),_=new Cg;return Object.assign(_,b),_})}else{const g=QT(this.apiClient,e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=ZT(v),_=new Cg;return Object.assign(_,b),_})}}async countTokens(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,e);return p=ce("{model}:countTokens",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=KT(v),_=new Ag;return Object.assign(_,b),_})}else{const g=$T(this.apiClient,e);return p=ce("{model}:countTokens",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=YT(v),_=new Ag;return Object.assign(_,b),_})}}async computeTokens(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=OT(this.apiClient,e);return u=ce("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>{const g=qT(x),v=new mN;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=Cw(this.apiClient,e);return p=ce("{model}:predictLongRunning",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const b=ww(v),_=new ko;return Object.assign(_,b),_})}else{const g=Ew(this.apiClient,e);return p=ce("{model}:predictLongRunning",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const b=Tw(v),_=new ko;return Object.assign(_,b),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends Pn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,l=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:l});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=iN(e);return p=ce("{operationName}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f}else{const g=sN(e);return p=ce("{operationName}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=Q_(e);return u=ce("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e2(n){const e={},i=d(n,["data"]);if(i!=null&&h(e,["data"],i),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function t2(n){const e={},i=d(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u2(u))),h(e,["parts"],r)}const l=d(n,["role"]);return l!=null&&h(e,["role"],l),e}function n2(n,e,i){const l={},r=d(e,["expireTime"]);i!==void 0&&r!=null&&h(i,["expireTime"],r);const u=d(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&h(i,["newSessionExpireTime"],u);const f=d(e,["uses"]);i!==void 0&&f!=null&&h(i,["uses"],f);const p=d(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&h(i,["bidiGenerateContentSetup"],c2(n,p));const x=d(e,["lockAdditionalFields"]);return i!==void 0&&x!=null&&h(i,["fieldMask"],x),l}function s2(n,e){const i={},l=d(e,["config"]);return l!=null&&h(i,["config"],n2(n,l,i)),i}function i2(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&h(e,["fileUri"],i);const l=d(n,["mimeType"]);return l!=null&&h(e,["mimeType"],l),e}function l2(n){const e={},i=d(n,["id"]);i!=null&&h(e,["id"],i);const l=d(n,["args"]);l!=null&&h(e,["args"],l);const r=d(n,["name"]);if(r!=null&&h(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function a2(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function o2(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(n,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function r2(n,e){const i={},l=d(n,["generationConfig"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig"],l);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const u=d(n,["temperature"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","temperature"],u);const f=d(n,["topP"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topP"],f);const p=d(n,["topK"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","topK"],p);const x=d(n,["maxOutputTokens"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(n,["mediaResolution"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","mediaResolution"],g);const v=d(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","speechConfig"],id(b));const _=d(n,["thinkingConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","thinkingConfig"],_);const S=d(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=d(n,["systemInstruction"]);e!==void 0&&w!=null&&h(e,["setup","systemInstruction"],t2(xt(w)));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let re=Bi(C);Array.isArray(re)&&(re=re.map(Z=>f2(Vi(Z)))),h(e,["setup","tools"],re)}const O=d(n,["sessionResumption"]);e!==void 0&&O!=null&&h(e,["setup","sessionResumption"],d2(O));const J=d(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","inputAudioTranscription"],J);const q=d(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&h(e,["setup","outputAudioTranscription"],q);const G=d(n,["realtimeInputConfig"]);e!==void 0&&G!=null&&h(e,["setup","realtimeInputConfig"],G);const H=d(n,["contextWindowCompression"]);e!==void 0&&H!=null&&h(e,["setup","contextWindowCompression"],H);const ee=d(n,["proactivity"]);return e!==void 0&&ee!=null&&h(e,["setup","proactivity"],ee),i}function c2(n,e){const i={},l=d(e,["model"]);l!=null&&h(i,["setup","model"],Le(n,l));const r=d(e,["config"]);return r!=null&&h(i,["config"],r2(r,i)),i}function u2(n){const e={},i=d(n,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const l=d(n,["codeExecutionResult"]);l!=null&&h(e,["codeExecutionResult"],l);const r=d(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const u=d(n,["fileData"]);u!=null&&h(e,["fileData"],i2(u));const f=d(n,["functionCall"]);f!=null&&h(e,["functionCall"],l2(f));const p=d(n,["functionResponse"]);p!=null&&h(e,["functionResponse"],p);const x=d(n,["inlineData"]);x!=null&&h(e,["inlineData"],e2(x));const g=d(n,["text"]);g!=null&&h(e,["text"],g);const v=d(n,["thought"]);v!=null&&h(e,["thought"],v);const b=d(n,["thoughtSignature"]);b!=null&&h(e,["thoughtSignature"],b);const _=d(n,["videoMetadata"]);return _!=null&&h(e,["videoMetadata"],_),e}function d2(n){const e={},i=d(n,["handle"]);if(i!=null&&h(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f2(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),h(e,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const r=d(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const u=d(n,["fileSearch"]);u!=null&&h(e,["fileSearch"],u);const f=d(n,["codeExecution"]);if(f!=null&&h(e,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(n,["googleMaps"]);p!=null&&h(e,["googleMaps"],a2(p));const x=d(n,["googleSearch"]);x!=null&&h(e,["googleSearch"],o2(x));const g=d(n,["urlContext"]);return g!=null&&h(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h2(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const l=n[i];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(u=>`${i}.${u}`);e.push(...r)}else e.push(i)}return e.join(",")}function m2(n,e){let i=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,i=u):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(i){const u=h2(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(g=>f.includes(g)?`generationConfig.${g}`:g));const x=[];u&&x.push(u),p.length>0&&x.push(...p),x.length>0?n.fieldMask=x.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class p2 extends Pn{constructor(e){super(),this.apiClient=e}async create(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=s2(this.apiClient,e);u=ce("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const x=m2(p,e.config);return r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g2(n,e){const i={},l=d(n,["displayName"]);return e!==void 0&&l!=null&&h(e,["displayName"],l),i}function x2(n){const e={},i=d(n,["config"]);return i!=null&&g2(i,e),e}function y2(n,e){const i={},l=d(n,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function v2(n){const e={},i=d(n,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(n,["config"]);return l!=null&&y2(l,e),e}function b2(n){const e={},i=d(n,["name"]);return i!=null&&h(e,["_url","name"],i),e}function _2(n,e){const i={},l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["customMetadata"],u)}const r=d(n,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),i}function N2(n){const e={},i=d(n,["name"]);i!=null&&h(e,["name"],i);const l=d(n,["metadata"]);l!=null&&h(e,["metadata"],l);const r=d(n,["done"]);r!=null&&h(e,["done"],r);const u=d(n,["error"]);u!=null&&h(e,["error"],u);const f=d(n,["response"]);return f!=null&&h(e,["response"],T2(f)),e}function S2(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(n,["fileName"]);l!=null&&h(e,["fileName"],l);const r=d(n,["config"]);return r!=null&&_2(r,e),e}function T2(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["parent"]);l!=null&&h(e,["parent"],l);const r=d(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function w2(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function E2(n){const e={},i=d(n,["config"]);return i!=null&&w2(i,e),e}function C2(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["fileSearchStores"],u)}return e}function A2(n,e){const i={},l=d(n,["mimeType"]);e!==void 0&&l!=null&&h(e,["mimeType"],l);const r=d(n,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const u=d(n,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(x=>x)),h(e,["customMetadata"],p)}const f=d(n,["chunkingConfig"]);return e!==void 0&&f!=null&&h(e,["chunkingConfig"],f),i}function j2(n){const e={},i=d(n,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const l=d(n,["config"]);return l!=null&&A2(l,e),e}function R2(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M2(n,e){const i={},l=d(n,["force"]);return e!==void 0&&l!=null&&h(e,["_query","force"],l),i}function k2(n){const e={},i=d(n,["name"]);i!=null&&h(e,["_url","name"],i);const l=d(n,["config"]);return l!=null&&M2(l,e),e}function D2(n){const e={},i=d(n,["name"]);return i!=null&&h(e,["_url","name"],i),e}function I2(n,e){const i={},l=d(n,["pageSize"]);e!==void 0&&l!=null&&h(e,["_query","pageSize"],l);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function U2(n){const e={},i=d(n,["parent"]);i!=null&&h(e,["_url","parent"],i);const l=d(n,["config"]);return l!=null&&I2(l,e),e}function L2(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const l=d(n,["nextPageToken"]);l!=null&&h(e,["nextPageToken"],l);const r=d(n,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P2 extends Pn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Os(Ln.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:i.parent,config:l.config}),await this.listInternal(i),i)}async get(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=D2(e);return u=ce("{name}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(e){var i,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=k2(e);r=ce("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=U2(e);return u=ce("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=L2(x),v=new pN;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z2 extends Pn{constructor(e,i=new P2(e)){super(),this.apiClient=e,this.documents=i,this.list=async(l={})=>new Os(Ln.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=x2(e);return u=ce("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async get(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=b2(e);return u=ce("{name}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>x)}}async delete(e){var i,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=v2(e);r=ce("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=E2(e);return u=ce("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=C2(x),v=new gN;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=j2(e);return u=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=R2(x),v=new xN;return Object.assign(v,g),v})}}async importFile(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=S2(e);return u=ce("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),r.then(x=>{const g=N2(x),v=new Wu;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O2(n,e){const i={},l=d(n,["name"]);return l!=null&&h(i,["_url","name"],l),i}function q2(n,e){const i={},l=d(n,["name"]);return l!=null&&h(i,["_url","name"],l),i}function G2(n,e,i){const l={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=d(n,["epochCount"]);e!==void 0&&u!=null&&h(e,["tuningTask","hyperparameters","epochCount"],u);const f=d(n,["learningRateMultiplier"]);if(f!=null&&h(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=d(n,["batchSize"]);e!==void 0&&p!=null&&h(e,["tuningTask","hyperparameters","batchSize"],p);const x=d(n,["learningRate"]);if(e!==void 0&&x!=null&&h(e,["tuningTask","hyperparameters","learningRate"],x),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function H2(n,e,i){const l={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const S=d(n,["validationDataset"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec"],Qg(S))}else if(r==="PREFERENCE_TUNING"){const S=d(n,["validationDataset"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec"],Qg(S))}const u=d(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&h(e,["tunedModelDisplayName"],u);const f=d(n,["description"]);e!==void 0&&f!=null&&h(e,["description"],f);let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=d(n,["epochCount"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(p==="PREFERENCE_TUNING"){const S=d(n,["epochCount"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const S=d(n,["learningRateMultiplier"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(x==="PREFERENCE_TUNING"){const S=d(n,["learningRateMultiplier"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=d(n,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(g==="PREFERENCE_TUNING"){const S=d(n,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=d(n,["adapterSize"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(v==="PREFERENCE_TUNING"){const S=d(n,["adapterSize"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(n,["labels"]);e!==void 0&&b!=null&&h(e,["labels"],b);const _=d(n,["beta"]);return e!==void 0&&_!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),l}function V2(n,e){const i={},l=d(n,["baseModel"]);l!=null&&h(i,["baseModel"],l);const r=d(n,["preTunedModel"]);r!=null&&h(i,["preTunedModel"],r);const u=d(n,["trainingDataset"]);u!=null&&eC(u);const f=d(n,["config"]);return f!=null&&G2(f,i),i}function B2(n,e){const i={},l=d(n,["baseModel"]);l!=null&&h(i,["baseModel"],l);const r=d(n,["preTunedModel"]);r!=null&&h(i,["preTunedModel"],r);const u=d(n,["trainingDataset"]);u!=null&&tC(u,i,e);const f=d(n,["config"]);return f!=null&&H2(f,i,e),i}function F2(n,e){const i={},l=d(n,["name"]);return l!=null&&h(i,["_url","name"],l),i}function $2(n,e){const i={},l=d(n,["name"]);return l!=null&&h(i,["_url","name"],l),i}function J2(n,e,i){const l={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const u=d(n,["pageToken"]);e!==void 0&&u!=null&&h(e,["_query","pageToken"],u);const f=d(n,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),l}function Y2(n,e,i){const l={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const u=d(n,["pageToken"]);e!==void 0&&u!=null&&h(e,["_query","pageToken"],u);const f=d(n,["filter"]);return e!==void 0&&f!=null&&h(e,["_query","filter"],f),l}function K2(n,e){const i={},l=d(n,["config"]);return l!=null&&J2(l,i),i}function Q2(n,e){const i={},l=d(n,["config"]);return l!=null&&Y2(l,i),i}function X2(n,e){const i={},l=d(n,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const r=d(n,["nextPageToken"]);r!=null&&h(i,["nextPageToken"],r);const u=d(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>sx(p))),h(i,["tuningJobs"],f)}return i}function Z2(n,e){const i={},l=d(n,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const r=d(n,["nextPageToken"]);r!=null&&h(i,["nextPageToken"],r);const u=d(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Pu(p))),h(i,["tuningJobs"],f)}return i}function W2(n,e){const i={},l=d(n,["name"]);l!=null&&h(i,["model"],l);const r=d(n,["name"]);return r!=null&&h(i,["endpoint"],r),i}function eC(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=d(n,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),h(i,["examples","examples"],r)}return i}function tC(n,e,i){const l={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=d(n,["gcsUri"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=d(n,["gcsUri"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=d(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=d(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=d(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function sx(n,e){const i={},l=d(n,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const r=d(n,["name"]);r!=null&&h(i,["name"],r);const u=d(n,["state"]);u!=null&&h(i,["state"],z0(u));const f=d(n,["createTime"]);f!=null&&h(i,["createTime"],f);const p=d(n,["tuningTask","startTime"]);p!=null&&h(i,["startTime"],p);const x=d(n,["tuningTask","completeTime"]);x!=null&&h(i,["endTime"],x);const g=d(n,["updateTime"]);g!=null&&h(i,["updateTime"],g);const v=d(n,["description"]);v!=null&&h(i,["description"],v);const b=d(n,["baseModel"]);b!=null&&h(i,["baseModel"],b);const _=d(n,["_self"]);return _!=null&&h(i,["tunedModel"],W2(_)),i}function Pu(n,e){const i={},l=d(n,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const r=d(n,["name"]);r!=null&&h(i,["name"],r);const u=d(n,["state"]);u!=null&&h(i,["state"],z0(u));const f=d(n,["createTime"]);f!=null&&h(i,["createTime"],f);const p=d(n,["startTime"]);p!=null&&h(i,["startTime"],p);const x=d(n,["endTime"]);x!=null&&h(i,["endTime"],x);const g=d(n,["updateTime"]);g!=null&&h(i,["updateTime"],g);const v=d(n,["error"]);v!=null&&h(i,["error"],v);const b=d(n,["description"]);b!=null&&h(i,["description"],b);const _=d(n,["baseModel"]);_!=null&&h(i,["baseModel"],_);const S=d(n,["tunedModel"]);S!=null&&h(i,["tunedModel"],S);const w=d(n,["preTunedModel"]);w!=null&&h(i,["preTunedModel"],w);const C=d(n,["supervisedTuningSpec"]);C!=null&&h(i,["supervisedTuningSpec"],C);const O=d(n,["preferenceOptimizationSpec"]);O!=null&&h(i,["preferenceOptimizationSpec"],O);const J=d(n,["tuningDataStats"]);J!=null&&h(i,["tuningDataStats"],J);const q=d(n,["encryptionSpec"]);q!=null&&h(i,["encryptionSpec"],q);const G=d(n,["partnerModelTuningSpec"]);G!=null&&h(i,["partnerModelTuningSpec"],G);const H=d(n,["customBaseModel"]);H!=null&&h(i,["customBaseModel"],H);const ee=d(n,["experiment"]);ee!=null&&h(i,["experiment"],ee);const re=d(n,["labels"]);re!=null&&h(i,["labels"],re);const Z=d(n,["outputUri"]);Z!=null&&h(i,["outputUri"],Z);const ue=d(n,["pipelineJob"]);ue!=null&&h(i,["pipelineJob"],ue);const oe=d(n,["serviceAccount"]);oe!=null&&h(i,["serviceAccount"],oe);const se=d(n,["tunedModelDisplayName"]);se!=null&&h(i,["tunedModelDisplayName"],se);const P=d(n,["veoTuningSpec"]);return P!=null&&h(i,["veoTuningSpec"],P),i}function nC(n,e){const i={},l=d(n,["sdkHttpResponse"]);l!=null&&h(i,["sdkHttpResponse"],l);const r=d(n,["name"]);r!=null&&h(i,["name"],r);const u=d(n,["metadata"]);u!=null&&h(i,["metadata"],u);const f=d(n,["done"]);f!=null&&h(i,["done"],f);const p=d(n,["error"]);return p!=null&&h(i,["error"],p),i}function Qg(n,e){const i={},l=d(n,["gcsUri"]);l!=null&&h(i,["validationDatasetUri"],l);const r=d(n,["vertexDatasetResource"]);return r!=null&&h(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends Pn{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Os(Ln.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(i),i),this.tune=async i=>{var l;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((l=i.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),u=await this.tuneMldevInternal(r);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Ru.JOB_STATE_QUEUED}}}}async getInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=$2(e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Pu(v))}else{const g=F2(e);return p=ce("{name}",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>sx(v))}}async listInternal(e){var i,l,r,u;let f,p="",x={};if(this.apiClient.isVertexAI()){const g=Q2(e);return p=ce("tuningJobs",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=Z2(v),_=new jg;return Object.assign(_,b),_})}else{const g=K2(e);return p=ce("tunedModels",g._url),x=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const b=X2(v),_=new jg;return Object.assign(_,b),_})}}async cancel(e){var i,l,r,u;let f="",p={};if(this.apiClient.isVertexAI()){const x=q2(e);f=ce("{name}:cancel",x._url),p=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const x=O2(e);f=ce("{name}:cancel",x._url),p=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=B2(e,e);return u=ce("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>Pu(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=V2(e);return u=ce("tunedModels",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:x.headers},v})),r.then(x=>nC(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lC=1024*1024*8,aC=3,oC=1e3,rC=2,Io="x-goog-upload-status";async function cC(n,e,i){var l;const r=await ix(n,e,i),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[Io])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function uC(n,e,i){var l;const r=await ix(n,e,i),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[Io])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=k0(u),p=new ed;return Object.assign(p,f),p}async function ix(n,e,i){var l,r;let u=0,f=0,p=new Mu(new Response),x="upload";for(u=n.size;f<u;){const g=Math.min(lC,u-f),v=n.slice(f,f+g);f+g>=u&&(x+=", finalize");let b=0,_=oC;for(;b<aC&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(f),"Content-Length":String(g)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[Io]));)b++,await fC(_),_=_*rC;if(f+=g,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[Io])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function dC(n){return{size:n.size,type:n.type}}function fC(n){return new Promise(e=>setTimeout(e,n))}class hC{async upload(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cC(e,i,l)}async uploadToFileSearchStore(e,i,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uC(e,i,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mC{create(e,i,l){return new pC(e,i,l)}}class pC{constructor(e,i,l){this.url=e,this.headers=i,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xg="x-goog-api-key";class gC{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Xg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC="gl-node/";class yC{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const l=Y_(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const r=new gC(this.apiKey);this.apiClient=new DE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:xC+"web",uploader:new hC,downloader:new iC}),this.models=new ZE(this.apiClient),this.live=new $E(this.apiClient,r,new mC),this.batches=new SS(this.apiClient),this.chats=new iT(this.models,this.apiClient),this.caches=new tT(this.apiClient),this.files=new mT(this.apiClient),this.operations=new WE(this.apiClient),this.authTokens=new p2(this.apiClient),this.tunings=new sC(this.apiClient),this.fileSearchStores=new z2(this.apiClient)}}const lx=()=>{const n="PLACEHOLDER_API_KEY";return new yC({apiKey:n})},ax=async(n,e)=>{const i=lx();if(!i)throw new Error("API Key missing");const l=n.observations.filter(p=>p.score===2).map(p=>`${p.criteria} (${p.indicators.join(" ")})`).join(", "),r=n.observations.filter(p=>p.score===0||p.score===1).map(p=>`${p.criteria} (${p.indicators.join(" ")})`).join(", "),u=n.assessmentKeywords?`
       : ${n.assessmentKeywords}`:"",f=`
       .   " "       .
    
    : ${e.fullName}
    : ${n.subject}
    : ${n.topic}
    
       ( ): ${l}
       (    ): ${r}
    ${u}
    
    :
    1.       .
    2.      .
    3.          .
    4.          .
    5.     (      ).
    6.      .
    7.           .
    8. :  100-150 .
  `;try{return(await i.models.generateContent({model:"gemini-2.5-flash",contents:f})).text||"   ."}catch(p){throw console.error("Gemini API Error:",p),new Error("    Gemini")}},vC=async n=>{var l;const e=lx();if(!e)return"";const i=`     ( )     : "${n}".`;try{return((l=(await e.models.generateContent({model:"gemini-2.5-flash",contents:i})).text)==null?void 0:l.trim())||""}catch{return""}},ln=({value:n,onChange:e,placeholder:i,className:l,minHeight:r="min-h-[60px]"})=>{const[u,f]=K.useState(!1),[p,x]=K.useState(!0),g=K.useRef(null);K.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){x(!1);return}const b=window.SpeechRecognition||window.webkitSpeechRecognition;g.current=new b,g.current.continuous=!0,g.current.interimResults=!0,g.current.lang="ar-DZ",g.current.onresult=_=>{let S="";for(let w=_.resultIndex;w<_.results.length;++w)_.results[w].isFinal&&(S+=_.results[w][0].transcript);if(S){const w=n+(n&&!n.endsWith(" ")?" ":"")+S;e(w)}},g.current.onerror=_=>{console.error("Speech recognition error",_.error),f(!1)},g.current.onend=()=>{f(!1)}},[n,e]);const v=()=>{var b,_;if(!p){alert("     .   Chrome  Edge.");return}u?((b=g.current)==null||b.stop(),f(!1)):((_=g.current)==null||_.start(),f(!0))};return a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:n,onChange:b=>e(b.target.value),placeholder:u?" ...  ":i,className:`${l} ${r} ${u?"border-red-400 bg-red-50/30":""} transition-colors pl-10`}),a.jsx("button",{onClick:v,className:`absolute bottom-2 left-2 p-2 rounded-full transition-all duration-300 shadow-sm flex items-center justify-center z-10
                    ${u?"bg-red-500 text-white animate-pulse hover:bg-red-600 scale-110":"bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600"}
                    ${p?"":"opacity-50 cursor-not-allowed"}
                `,title:u?" ":" ",type:"button",children:u?a.jsx(N0,{size:16}):a.jsx(S0,{size:16})}),u&&a.jsx("span",{className:"absolute bottom-3 left-12 text-xs text-red-500 font-bold animate-pulse whitespace-nowrap pointer-events-none",children:" ..."})]})};var bC=g0();const ne=({label:n,value:e,onChange:i,options:l=[],placeholder:r,type:u="text",className:f=""})=>{const[p,x]=K.useState(!1),[g,v]=K.useState(!1),[b,_]=K.useState({}),[S,w]=K.useState(!0),[C,O]=K.useState(!1),J=K.useRef(null),q=K.useRef(null),G=K.useMemo(()=>`dropdown-${n?n.replace(/\s/g,"-"):Math.random().toString(36).slice(2,11)}`,[n]),H=()=>{if(J.current){const se=J.current.getBoundingClientRect(),P=window.innerHeight-se.bottom,ie=se.top,pe=P<250&&ie>200,I={position:"fixed",left:se.left,width:se.width,zIndex:1e5};pe?(I.bottom=window.innerHeight-se.top+5,I.maxHeight=Math.min(300,ie-20)):(I.top=se.bottom+5,I.maxHeight=Math.min(300,P-20)),_(I)}},ee=(se=!1)=>{l&&l.length>0&&(H(),O(se),v(!0))};K.useEffect(()=>{if(!g)return;const se=P=>{const ie=document.getElementById(G);ie&&P.target instanceof Node&&ie.contains(P.target)||v(!1)};return window.addEventListener("scroll",se,!0),window.addEventListener("resize",se),()=>{window.removeEventListener("scroll",se,!0),window.removeEventListener("resize",se)}},[g,G]),K.useEffect(()=>{function se(P){const ie=J.current&&J.current.contains(P.target),pe=document.getElementById(G),I=pe&&pe.contains(P.target);!ie&&!I&&v(!1)}return g&&document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[g,G]),K.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){w(!1);return}const se=window.SpeechRecognition||window.webkitSpeechRecognition;q.current=new se,q.current.continuous=!1,q.current.interimResults=!1,q.current.lang="ar-DZ",q.current.onresult=P=>{const ie=P.results[0][0].transcript;ie&&i(ie.replace(/\.$/,"")),x(!1)},q.current.onerror=()=>x(!1),q.current.onend=()=>x(!1)},[i]);const re=()=>{var se,P;S&&(p?(se=q.current)==null||se.stop():((P=q.current)==null||P.start(),x(!0)))},Z=se=>{i(se),v(!1)},ue=l&&l.length>0,oe=K.useMemo(()=>{if(!ue)return[];if(C||!e||l.includes(e))return l;const se=l.filter(P=>P.toLowerCase().includes(e.toLowerCase()));return se.length>0?se:l},[l,e,C,ue]);return a.jsxs("div",{className:`relative ${f}`,ref:J,children:[n&&a.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:n}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:u,value:e,onChange:se=>{i(se.target.value),O(!1),ue&&(H(),v(!0))},onFocus:()=>{},onClick:()=>{ue&&ee(!0)},placeholder:p?" ...":r,className:`w-full border rounded-lg py-2 px-3 pl-9 text-sm outline-none transition-all shadow-sm
                        ${p?"bg-red-50 border-red-300 ring-2 ring-red-100":"bg-white border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}
                        ${ue?"cursor-pointer":""}
                    `}),a.jsx("button",{onClick:re,type:"button",tabIndex:-1,className:`absolute left-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full transition-all z-10
                        ${p?"text-white bg-red-500 animate-pulse":"text-gray-400 hover:text-blue-600 hover:bg-gray-100"}`,title:" ",children:p?a.jsx(N0,{size:14}):a.jsx(S0,{size:14})}),ue&&u!=="date"&&a.jsx("button",{type:"button",tabIndex:-1,onClick:se=>{se.stopPropagation(),g?v(!1):ee(!0)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 transition-colors",children:g?a.jsx(zo,{size:16}):a.jsx(Eo,{size:16})})]}),g&&ue&&bC.createPortal(a.jsx("div",{id:G,style:b,className:"bg-white border border-gray-200 rounded-lg shadow-2xl overflow-y-auto animate-in fade-in zoom-in-95 duration-100 custom-scrollbar flex flex-col",children:oe.length===0?a.jsx("div",{className:"px-3 py-4 text-center text-sm text-gray-400",children:"   "}):oe.map((se,P)=>a.jsxs("div",{onClick:()=>Z(se),className:`px-3 py-2.5 text-sm cursor-pointer hover:bg-blue-50 hover:text-blue-700 flex justify-between items-center transition-colors border-b border-gray-50 last:border-0
                                    ${e===se?"bg-blue-50 text-blue-700 font-bold":"text-gray-700"}
                                `,children:[a.jsx("span",{className:"truncate",children:se}),e===se&&a.jsx($l,{size:14,className:"shrink-0 ml-2"})]},P))}),document.body)]})},_C=({report:n,teacher:e,onChange:i,onTeacherChange:l,onPrint:r,isGoldMember:u,onUpgradeClick:f,onUploadSignature:p})=>{const[x,g]=K.useState(!1),[v,b]=K.useState("info"),[_,S]=K.useState("saved"),[w,C]=K.useState("manual"),O=K.useRef(null),[J,q]=K.useState(new Set),G=K.useRef(n);K.useEffect(()=>{G.current=n},[n]),K.useEffect(()=>{S("saving");const P=setTimeout(()=>{localStorage.setItem("mufattish_draft",JSON.stringify(n)),S("saved")},1e3);return()=>clearTimeout(P)},[n]),K.useEffect(()=>{w==="ai"&&!u&&C("manual")},[u,w]);const H=(P,ie)=>{i({...n,[P]:ie})},ee=(P,ie)=>{l&&l({...e,[P]:ie})},re=P=>{if(P==="ai"&&!u){f();return}C(P)},Z=async(P,ie)=>{const pe=n.observations.map(I=>I.id===P?{...I,score:ie}:I);if(i({...n,observations:pe}),w==="ai"&&ie!==null&&ie<2){const I=pe.find(D=>D.id===P);if(I&&!I.improvementNotes.trim()){q(D=>new Set(D).add(P));try{const D=await vC(I.criteria);if(D){const E=G.current,M=E.observations.map(B=>B.id===P?{...B,improvementNotes:D}:B);i({...E,observations:M})}}catch(D){console.error("Failed to generate suggestion",D)}finally{q(D=>{const E=new Set(D);return E.delete(P),E})}}}},ue=(P,ie)=>{const pe=n.observations.map(I=>I.id===P?{...I,improvementNotes:ie}:I);i({...n,observations:pe})},oe=async()=>{if(!u){f();return}g(!0);try{const P=await ax(n,e);H("generalAssessment",P);const ie=n.observations.reduce((D,E)=>D+(E.score||0),0),pe=n.observations.length*2,I=Math.round(ie/pe*20*10)/10;H("finalMark",I),b("result")}catch{alert("      API")}finally{g(!1)}},se=Array.from(new Set(n.observations.map(P=>P.category)));return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b("info"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${v==="info"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"1. "}),a.jsx("button",{onClick:()=>b("rubric"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${v==="rubric"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"2. "}),a.jsx("button",{onClick:()=>b("result"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${v==="result"?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,children:"3. "})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center gap-2 text-xs font-medium transition-colors duration-500",children:_==="saving"?a.jsxs(a.Fragment,{children:[a.jsx(Ku,{size:14,className:"animate-spin text-blue-500"}),a.jsx("span",{className:"text-blue-500 hidden md:inline",children:" ..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(v0,{size:14,className:"text-green-600"}),a.jsx("span",{className:"text-green-600 hidden md:inline",children:" "})]})}),p&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",ref:O,onChange:p,className:"hidden",accept:"image/*"}),a.jsxs("button",{onClick:()=>{var P;return(P=O.current)==null?void 0:P.click()},className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-2 rounded-lg hover:bg-indigo-100 border border-indigo-200 transition-colors",title:"  /",children:[a.jsx(Qu,{size:18}),a.jsx("span",{className:"hidden md:inline font-bold text-sm",children:"/"})]})]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900",children:[a.jsx(Zl,{size:18}),""]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:[v==="info"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-blue-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-blue-100 text-blue-700",children:a.jsx(_0,{size:20})}),a.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(ne,{label:"  ",value:n.wilaya,onChange:P=>H("wilaya",P)}),a.jsx(ne,{label:" ",value:n.district,onChange:P=>H("district",P)}),a.jsx(ne,{label:" ",value:n.school,onChange:P=>H("school",P)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-indigo-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-indigo-100 text-indigo-700",children:a.jsx(Hi,{size:20})}),a.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(ne,{label:" ",value:e.fullName,onChange:P=>ee("fullName",P)})}),a.jsx(ne,{type:"date",label:" ",value:e.birthDate,onChange:P=>ee("birthDate",P)}),a.jsx(ne,{label:" ",value:e.birthPlace,onChange:P=>ee("birthPlace",P)}),a.jsx(ne,{label:" ",value:e.degree,onChange:P=>ee("degree",P),options:r_}),a.jsx(ne,{type:"date",label:" ",value:e.degreeDate||"",onChange:P=>ee("degreeDate",P)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-green-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-green-100 text-green-700",children:a.jsx(Fu,{size:20})}),a.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ne,{type:"date",label:"  ",value:e.recruitmentDate,onChange:P=>ee("recruitmentDate",P)}),a.jsx(ne,{label:" ",value:e.rank,onChange:P=>ee("rank",P),options:c_}),a.jsx(ne,{type:"date",label:"   ",value:e.currentRankDate||"",onChange:P=>ee("currentRankDate",P)}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(ne,{label:"",value:e.echelon||"",onChange:P=>ee("echelon",P),options:Array.from({length:12},(P,ie)=>(ie+1).toString())}),a.jsx(ne,{type:"date",label:"",value:e.echelonDate||"",onChange:P=>ee("echelonDate",P)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(ne,{type:"date",label:"  ",value:e.lastInspectionDate,onChange:P=>ee("lastInspectionDate",P)}),a.jsx(ne,{type:"number",label:" ",value:e.lastMark.toString(),onChange:P=>ee("lastMark",parseFloat(P))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:" "}),a.jsxs("div",{className:"flex gap-2 p-1 bg-gray-50 rounded-lg border",children:[a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"status",value:"titulaire",checked:e.status==="titulaire",onChange:()=>ee("status","titulaire"),className:"hidden peer"}),a.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-green-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]}),a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"status",value:"contractuel",checked:e.status==="contractuel",onChange:()=>ee("status","contractuel"),className:"hidden peer"}),a.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-orange-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]}),a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"status",value:"stagiere",checked:e.status==="stagiere",onChange:()=>ee("status","stagiere"),className:"hidden peer"}),a.jsx("div",{className:"text-center py-2 text-sm rounded-md peer-checked:bg-blue-500 peer-checked:text-white transition-colors text-gray-600 font-medium",children:""})]})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-yellow-50 p-2 rounded-bl-xl rounded-tr-xl border-l border-b border-yellow-100 text-yellow-700",children:a.jsx(zi,{size:20})}),a.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 pr-10",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ne,{type:"date",label:" ",value:n.inspectionDate,onChange:P=>H("inspectionDate",P)}),a.jsx(ne,{label:" / ",value:n.subject,onChange:P=>H("subject",P),options:o_}),a.jsx(ne,{label:"",value:n.topic,onChange:P=>H("topic",P)}),a.jsx(ne,{label:" ()",value:n.duration,onChange:P=>H("duration",P)}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ne,{label:"",value:n.level,onChange:P=>H("level",P),options:u_}),a.jsx(ne,{label:"",value:n.group,onChange:P=>H("group",P)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ne,{type:"number",label:"  ()",value:n.studentCount.toString(),onChange:P=>H("studentCount",parseInt(P))}),a.jsx(ne,{type:"number",label:" ",value:n.absentCount.toString(),onChange:P=>H("absentCount",parseInt(P))})]})]})]})]}),v==="rubric"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border mb-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-bold text-gray-700 flex items-center gap-2",children:[a.jsx(T0,{size:16}),"  :"]}),a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>re("manual"),className:`px-3 py-1 rounded-md text-sm font-bold transition-all ${w==="manual"?"bg-white shadow text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:""}),a.jsxs("button",{onClick:()=>re("ai"),className:`px-3 py-1 rounded-md text-sm font-bold transition-all flex items-center gap-1 ${w==="ai"?"bg-indigo-100 text-indigo-700 border border-indigo-200 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(zs,{size:12}),"  (AI)"]})]})]}),w==="ai"&&a.jsxs("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-2 py-1 rounded border border-indigo-100 flex items-center gap-1",children:[a.jsx(zs,{size:10}),"       "]})]}),se.map((P,ie)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center rounded-t-xl",children:a.jsxs("h3",{className:"font-bold text-lg text-gray-800",children:[ie+1,". ",P]})}),a.jsx("div",{className:"divide-y divide-gray-50",children:n.observations.filter(pe=>pe.category===P).map(pe=>{const I=d_[pe.criteria]||[];return a.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:pe.criteria}),a.jsx("p",{className:"text-sm text-gray-500",children:pe.indicators.join(" - ")})]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>Z(pe.id,2),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${pe.score===2?"bg-green-600 text-white border-green-600":"bg-white text-gray-600 hover:bg-green-50"}`,children:" (2)"}),a.jsx("button",{onClick:()=>Z(pe.id,1),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${pe.score===1?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-600 hover:bg-yellow-50"}`,children:" (1)"}),a.jsx("button",{onClick:()=>Z(pe.id,0),className:`px-3 py-1.5 rounded-lg border text-sm font-bold transition-colors ${pe.score===0?"bg-red-500 text-white border-red-500":"bg-white text-gray-600 hover:bg-red-50"}`,children:"  (0)"})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"relative mb-2",children:[a.jsxs("select",{onChange:D=>{D.target.value&&ue(pe.id,D.target.value)},className:"w-full appearance-none bg-white border border-gray-300 text-gray-700 py-2 px-3 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-blue-500 text-sm cursor-pointer",value:"",children:[a.jsxs("option",{value:"",children:["--     (",I.length," ) --"]}),I.map((D,E)=>a.jsx("option",{value:D,children:D.length>80?D.substring(0,80)+"...":D},E))]}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-2 text-gray-700",children:a.jsx(Eo,{size:14})})]}),a.jsx(ln,{value:pe.improvementNotes,onChange:D=>ue(pe.id,D),placeholder:"  (  )...",className:"w-full border rounded-lg p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50/50"}),J.has(pe.id)&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-500 animate-pulse mt-1",children:[a.jsx(zs,{size:12}),"   ..."]})]})]},pe.id)})})]},P))]}),v==="result"&&a.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-left-4 duration-500",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4",children:" "}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"    ()"}),a.jsx(ln,{value:n.assessmentKeywords||"",onChange:P=>H("assessmentKeywords",P),placeholder:":      ...",className:"w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none",minHeight:"min-h-[40px]"})]}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),a.jsx(ln,{value:n.generalAssessment,onChange:P=>H("generalAssessment",P),className:"w-full border rounded-lg p-4 focus:ring-2 focus:ring-blue-500 outline-none leading-relaxed text-justify",placeholder:"   ...",minHeight:"min-h-[250px]"}),a.jsxs("button",{onClick:oe,disabled:x,className:"absolute bottom-4 left-14 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors shadow-md flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Yu,{className:"animate-spin",size:18}):a.jsx(R0,{size:18}),n.generalAssessment?"   ":"   "]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (/20)"}),a.jsx("input",{type:"number",min:"0",max:"20",step:"0.25",value:n.finalMark,onChange:P=>H("finalMark",parseFloat(P.target.value)),className:"w-full border rounded-lg p-2 text-2xl font-bold text-center focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),a.jsx(ne,{value:n.markInLetters,onChange:P=>H("markInLetters",P),className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),a.jsx(ne,{type:"date",value:n.inspectionDate,onChange:P=>H("inspectionDate",P)})]})]})]})})]})]})},NC=({report:n,teacher:e,onChange:i,onPrint:l,isGoldMember:r,onUploadSignature:u})=>{const[f,p]=K.useState("info"),x=K.useRef(null),g=(S,w)=>{i({...n,[S]:w})},v=(S,w)=>{i({...n,oralQuestions:{...n.oralQuestions,[S]:w}})},b=(S,w,C)=>{const O=n.lessons.map(J=>J.id===S?{...J,[w]:C}:J);i({...n,lessons:O})},_=async()=>{if(!r)return alert("   ");v("legislation","     "),v("psychology","      "),v("educationScience","      .")};return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-[#4d6a4d] text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[a.jsxs("div",{className:"flex gap-2 text-xs md:text-sm",children:[a.jsxs("button",{onClick:()=>p("info"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="info"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[a.jsx(Hi,{size:16}),"  "]}),a.jsxs("button",{onClick:()=>p("lessons"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="lessons"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[a.jsx(zi,{size:16}),"  (3)"]}),a.jsxs("button",{onClick:()=>p("oral"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="oral"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[a.jsx(h1,{size:16})," "]}),a.jsxs("button",{onClick:()=>p("decision"),className:`px-3 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${f==="decision"?"bg-white text-[#4d6a4d]":"bg-[#3d5a3d] hover:bg-[#2d4a2d] text-green-100"}`,children:[a.jsx(Pb,{size:16})," "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",ref:x,onChange:u,className:"hidden",accept:"image/*"}),a.jsx("button",{onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},className:"p-2 rounded-lg text-green-100 hover:bg-[#2d4a2d] hover:text-white transition-colors",title:"  /",children:a.jsx(Qu,{size:20})})]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-white text-[#4d6a4d] px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm",children:[a.jsx(Zl,{size:18}),""]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-4xl mx-auto w-full",children:[f==="info"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d] border-b pb-2 mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsx(ne,{type:"date",label:" ",value:n.examDate,onChange:S=>g("examDate",S)}),a.jsx(ne,{label:" ( )",value:n.school,onChange:S=>g("school",S)}),a.jsx(ne,{label:" (  )",value:n.city,onChange:S=>g("city",S)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsx(ne,{label:"  ",value:n.wilaya,onChange:S=>g("wilaya",S)}),a.jsx(ne,{label:"   ()",value:n.district,onChange:S=>g("district",S)})]}),a.jsx("h3",{className:"font-bold text-gray-600 mt-6 mb-2 border-b border-gray-100 pb-1",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ne,{label:"  ()",value:n.inspectorName,onChange:S=>g("inspectorName",S),className:"bg-green-50"}),a.jsx(ne,{label:" 1 ()",value:n.directorName,onChange:S=>g("directorName",S)}),a.jsx(ne,{label:" 2 ()",value:n.teacherMemberName,onChange:S=>g("teacherMemberName",S)})]}),a.jsx("h3",{className:"font-bold text-gray-600 mt-6 mb-2 border-b border-gray-100 pb-1",children:"   ()"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ne,{label:"  ",value:n.appointmentDecisionNumber,onChange:S=>g("appointmentDecisionNumber",S)})}),a.jsx("div",{className:"w-32",children:a.jsx(ne,{type:"date",label:"",value:n.appointmentDecisionDate,onChange:S=>g("appointmentDecisionDate",S)})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ne,{label:"  ",value:n.financialVisaNumber,onChange:S=>g("financialVisaNumber",S)})}),a.jsx("div",{className:"w-32",children:a.jsx(ne,{type:"date",label:"",value:n.financialVisaDate,onChange:S=>g("financialVisaDate",S)})})]}),a.jsx(ne,{label:" /  ",value:n.university,onChange:S=>g("university",S),placeholder:"   ..."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-[11px] font-bold text-gray-700 mb-1.5",children:" "}),a.jsx("input",{list:"recruitmentTypes",value:n.recruitmentType||"",onChange:S=>g("recruitmentType",S.target.value),className:"w-full border rounded-lg py-2 px-3 text-sm outline-none",placeholder:"  ..."}),a.jsxs("datalist",{id:"recruitmentTypes",children:[a.jsx("option",{value:"  "}),a.jsx("option",{value:""}),a.jsx("option",{value:"  "})]})]}),a.jsx("div",{className:"w-32",children:a.jsx(ne,{type:"date",label:" /",value:n.contestDate,onChange:S=>g("contestDate",S)})})]})]})]})}),f==="lessons"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:n.lessons.map((S,w)=>a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-bold text-[#4d6a4d] border-b pb-2 mb-4 flex justify-between items-center",children:[a.jsx("span",{children:w===0?" ":w===1?" ":" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:":"}),a.jsx("input",{type:"time",value:S.timeStart,onChange:C=>b(S.id,"timeStart",C.target.value),className:"border rounded px-1 text-sm"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"time",value:S.timeEnd,onChange:C=>b(S.id,"timeEnd",C.target.value),className:"border rounded px-1 text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(ne,{label:" / ",value:S.subject,onChange:C=>b(S.id,"subject",C)}),a.jsx(ne,{label:"",value:S.topic,onChange:C=>b(S.id,"topic",C)}),a.jsx(ne,{label:" / ",value:S.level,onChange:C=>b(S.id,"level",C)})]}),a.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg border border-gray-100",children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-700 flex items-center gap-2",children:[a.jsx(zi,{size:14}),"    ( )"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"1.   ( )"}),a.jsx(ln,{value:S.phaseLaunch,onChange:C=>b(S.id,"phaseLaunch",C),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[40px]",placeholder:":     ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"2.   "}),a.jsx(ln,{value:S.phaseConstruction,onChange:C=>b(S.id,"phaseConstruction",C),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[60px]",placeholder:"  ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"3.   ()"}),a.jsx(ln,{value:S.phaseInvestment,onChange:C=>b(S.id,"phaseInvestment",C),className:"w-full border rounded p-2 text-sm bg-white",minHeight:"min-h-[40px]",placeholder:"   ..."})]})]})]},S.id))}),f==="oral"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d]",children:" "}),a.jsxs("button",{onClick:_,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full flex items-center gap-1 hover:bg-indigo-100",children:[a.jsx(zs,{size:12}),"  "]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"1.    / "}),a.jsx(ln,{value:n.oralQuestions.educationScience,onChange:S=>v("educationScience",S),className:"w-full border rounded-lg p-3 text-sm bg-blue-50/20",placeholder:":     ",minHeight:"min-h-[80px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"2.   "}),a.jsx(ln,{value:n.oralQuestions.psychology,onChange:S=>v("psychology",S),className:"w-full border rounded-lg p-3 text-sm bg-green-50/20",placeholder:":    ...",minHeight:"min-h-[80px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"3.   "}),a.jsx(ln,{value:n.oralQuestions.legislation,onChange:S=>v("legislation",S),className:"w-full border rounded-lg p-3 text-sm bg-orange-50/20",placeholder:":   ...",minHeight:"min-h-[80px]"})]})]})]})}),f==="decision"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-[#4d6a4d] border-b pb-2 mb-6",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 text-center",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  ()"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("input",{type:"number",max:"40",value:n.pedagogyMark,onChange:S=>{const w=S.target.value===""?0:parseFloat(S.target.value);i({...n,pedagogyMark:w,totalMark:w+(n.oralMark||0)})},className:"w-20 text-center text-3xl font-bold border-b-2 border-green-500 bg-transparent focus:outline-none"}),a.jsx("span",{className:"text-gray-400 font-bold text-xl",children:"/ 40"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-2",children:"  "}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("input",{type:"number",max:"20",value:n.oralMark,onChange:S=>{const w=S.target.value===""?0:parseFloat(S.target.value);i({...n,oralMark:w,totalMark:(n.pedagogyMark||0)+w})},className:"w-20 text-center text-3xl font-bold border-b-2 border-blue-500 bg-transparent focus:outline-none"}),a.jsx("span",{className:"text-gray-400 font-bold text-xl",children:"/ 20"})]})]}),a.jsxs("div",{className:"bg-[#2d4a2d] text-white p-4 rounded-xl shadow-lg transform scale-105 flex flex-col justify-center",children:[a.jsx("label",{className:"block text-xs font-bold text-green-200 mb-2",children:" "}),a.jsxs("div",{className:"text-5xl font-bold",children:[n.totalMark," ",a.jsx("span",{className:"text-lg text-green-300",children:"/ 60"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  "}),a.jsxs("select",{value:n.culturalValue,onChange:S=>g("culturalValue",S.target.value),className:"w-full border p-2 rounded",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  "}),a.jsxs("select",{value:n.pedagogicalValue,onChange:S=>g("pedagogicalValue",S.target.value),className:"w-full border p-2 rounded",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:" ",children:" "}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]})]}),a.jsxs("div",{className:"mt-8 border-t pt-6",children:[a.jsx("label",{className:"block text-lg font-bold text-center mb-4",children:"  "}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("button",{onClick:()=>g("finalDecision","confirmed"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="confirmed"?"bg-green-600 text-white border-green-600 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:" ()"}),a.jsx("button",{onClick:()=>g("finalDecision","deferred"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="deferred"?"bg-orange-500 text-white border-orange-500 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:""}),a.jsx("button",{onClick:()=>g("finalDecision","failed"),className:`px-8 py-4 rounded-xl border-2 font-bold text-lg transition-all ${n.finalDecision==="failed"?"bg-red-600 text-white border-red-600 shadow-lg scale-105":"bg-white text-gray-400 border-gray-200"}`,children:""})]})]})]})})]})]})},SC=({report:n,teacher:e,onChange:i,onTeacherChange:l,onPrint:r,isGoldMember:u,onUpgradeClick:f,onUploadSignature:p})=>{var J,q,G,H,ee,re,Z,ue,oe,se,P,ie,pe,I,D,E,M,B,W,de,j,$,te,fe,xe,be,Te,Qe,ze,yt,vt,pn,ps,Rt;const[x,g]=K.useState("info"),[v,b]=K.useState(!1),_=K.useRef(null),S=(F,Mt)=>{i({...n,[F]:Mt})},w=(F,Mt)=>{i({...n,legacyData:{...n.legacyData,[F]:Mt}})},C=(F,Mt)=>{l&&l({...e,[F]:Mt})},O=async()=>{if(!u){f();return}b(!0);try{const F=await ax(n,e);S("generalAssessment",F)}catch{alert("  ")}finally{b(!1)}};return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-gray-800 text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>g("info"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="info"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[a.jsx(Hi,{size:18})," "]}),a.jsxs("button",{onClick:()=>g("grid"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="grid"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[a.jsx(E0,{size:18}),"  "]}),a.jsxs("button",{onClick:()=>g("evaluation"),className:`px-4 py-2 rounded-lg font-bold transition-colors flex items-center gap-2 ${x==="evaluation"?"bg-white text-gray-900":"bg-gray-700 hover:bg-gray-600"}`,children:[a.jsx(Ao,{size:18}),"  "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:" "}),p&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",ref:_,onChange:p,className:"hidden",accept:"image/*"}),a.jsx("button",{onClick:()=>{var F;return(F=_.current)==null?void 0:F.click()},className:"p-2 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",title:"  /",children:a.jsx(Qu,{size:20})})]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-white text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm",children:[a.jsx(Zl,{size:18}),""]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 max-w-5xl mx-auto w-full",children:[x==="info"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4 bg-gray-50 p-4 rounded-lg",children:[a.jsx(ne,{label:"",value:n.wilaya,onChange:F=>S("wilaya",F)}),a.jsx(ne,{label:"",value:((J=n.legacyData)==null?void 0:J.daira)||"",onChange:F=>w("daira",F)}),a.jsx(ne,{label:"",value:((q=n.legacyData)==null?void 0:q.municipality)||"",onChange:F=>w("municipality",F)}),a.jsx(ne,{label:"",value:n.district,onChange:F=>S("district",F)}),a.jsx(ne,{label:"",value:n.school,onChange:F=>S("school",F)}),a.jsx(ne,{label:" ",value:((G=n.legacyData)==null?void 0:G.schoolYear)||"",onChange:F=>w("schoolYear",F)})]}),a.jsx("hr",{className:"my-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ne,{label:" ",value:e.fullName,onChange:F=>C("fullName",F)}),a.jsx(ne,{label:"/",value:((H=n.legacyData)==null?void 0:H.familyStatus)||"",onChange:F=>w("familyStatus",F),options:["()","()","()"]}),a.jsx(ne,{type:"date",label:" ",value:e.birthDate,onChange:F=>C("birthDate",F)}),a.jsx(ne,{label:" ",value:e.birthPlace,onChange:F=>C("birthPlace",F)}),a.jsx(ne,{type:"date",label:"  ",value:e.recruitmentDate,onChange:F=>C("recruitmentDate",F)}),a.jsx(ne,{label:" ()",value:e.rank,onChange:F=>C("rank",F),options:["  ","    ","    "," "," "]}),a.jsx(ne,{label:"",value:e.echelon||"",onChange:F=>C("echelon",F),options:Array.from({length:12},(F,Mt)=>(Mt+1).toString())}),a.jsx(ne,{type:"date",label:" ",value:e.echelonDate||"",onChange:F=>C("echelonDate",F)}),a.jsx(ne,{label:" ",value:e.degree,onChange:F=>C("degree",F),options:m_}),a.jsx(ne,{type:"date",label:"",value:e.degreeDate||((ee=n.legacyData)==null?void 0:ee.graduationDate)||"",onChange:F=>{w("graduationDate",F),C("degreeDate",F)}}),a.jsx(ne,{label:" ",value:((re=n.legacyData)==null?void 0:re.trainingInstitute)||"",onChange:F=>w("trainingInstitute",F)}),a.jsx(ne,{type:"date",label:" ",value:((Z=n.legacyData)==null?void 0:Z.trainingDate)||"",onChange:F=>w("trainingDate",F)}),a.jsx(ne,{type:"date",label:"  ",value:e.lastInspectionDate,onChange:F=>C("lastInspectionDate",F)}),a.jsx(ne,{label:" ",value:e.lastMark.toString(),onChange:F=>C("lastMark",parseFloat(F)),type:"number"})]})]})}),x==="grid"&&a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 animate-in fade-in",dir:"rtl",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ne,{type:"date",label:"",value:n.inspectionDate,onChange:F=>S("inspectionDate",F)}),a.jsx(ne,{label:"",value:n.duration,onChange:F=>S("duration",F)}),a.jsx(ne,{label:"",value:n.level,onChange:F=>S("level",F),options:p_}),a.jsx(ne,{type:"number",label:" ",value:n.studentCount.toString(),onChange:F=>S("studentCount",parseInt(F))})]}),a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx(ne,{label:"      ",value:((ue=n.legacyData)==null?void 0:ue.classroomListening)||"",onChange:F=>w("classroomListening",F),options:g_}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ne,{label:"",value:((oe=n.legacyData)==null?void 0:oe.lighting)||"",onChange:F=>w("lighting",F),options:Tp}),a.jsx(ne,{label:"",value:((se=n.legacyData)==null?void 0:se.cleanliness)||"",onChange:F=>w("cleanliness",F),options:y_}),a.jsx(ne,{label:"",value:((P=n.legacyData)==null?void 0:P.heating)||"",onChange:F=>w("heating",F),options:x_}),a.jsx(ne,{label:"",value:((ie=n.legacyData)==null?void 0:ie.ventilation)||"",onChange:F=>w("ventilation",F),options:Tp})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:" ",value:n.subject,onChange:F=>S("subject",F),options:h_}),a.jsx(ne,{label:"",value:n.topic,onChange:F=>S("topic",F)})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:a.jsx(ne,{label:"  ",value:((pe=n.legacyData)==null?void 0:pe.documentsAndPosters)||"",onChange:F=>w("documentsAndPosters",F),options:__})}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 space-y-3",children:[a.jsx(ne,{label:"  ()",value:((I=n.legacyData)==null?void 0:I.lessonPreparation)||"",onChange:F=>w("lessonPreparation",F),options:v_}),a.jsx(ne,{label:" ",value:((D=n.legacyData)==null?void 0:D.preparationValue)||"",onChange:F=>w("preparationValue",F),options:b_})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 space-y-3",children:[a.jsx(ne,{label:"",value:((E=n.legacyData)==null?void 0:E.registers)||"",onChange:F=>w("registers",F),options:T_}),a.jsx(ne,{label:"    ",value:((M=n.legacyData)==null?void 0:M.registersUsed)||"",onChange:F=>w("registersUsed",F),options:w_}),a.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 mt-2",children:[a.jsx("label",{className:"block text-[11px] font-bold text-blue-800 mb-2",children:"    :"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ne,{label:" ",value:((B=n.legacyData)==null?void 0:B.scheduledPrograms)||"",onChange:F=>w("scheduledPrograms",F),options:C_}),a.jsx(ne,{label:"",value:((W=n.legacyData)==null?void 0:W.progression)||"",onChange:F=>w("progression",F),options:A_})]})]}),a.jsx(ne,{label:"",value:((de=n.legacyData)==null?void 0:de.duties)||"",onChange:F=>w("duties",F),options:j_})]})]}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:" ",value:((j=n.legacyData)==null?void 0:j.informationValue)||"",onChange:F=>w("informationValue",F),options:R_}),a.jsx(ne,{label:"  ",value:(($=n.legacyData)==null?void 0:$.lessonExecution)||"",onChange:F=>w("lessonExecution",F),options:M_}),a.jsx(ne,{label:"   ",value:((te=n.legacyData)==null?void 0:te.objectivesAchieved)||"",onChange:F=>w("objectivesAchieved",F),options:k_}),a.jsx(ne,{label:" ",value:((fe=n.legacyData)==null?void 0:fe.studentParticipation)||"",onChange:F=>w("studentParticipation",F),options:D_})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:""}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:"    ",value:((xe=n.legacyData)==null?void 0:xe.applications)||"",onChange:F=>w("applications",F),options:I_}),a.jsx(ne,{label:"  ",value:((be=n.legacyData)==null?void 0:be.applicationsSuitability)||"",onChange:F=>w("applicationsSuitability",F),options:U_})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:"",value:((Te=n.legacyData)==null?void 0:Te.boardWork)||"",onChange:F=>w("boardWork",F),options:N_}),a.jsxs("div",{className:"bg-gray-100 p-2 rounded border text-sm text-gray-600 font-bold flex justify-between items-center",children:[a.jsx("span",{children:":"}),a.jsx("span",{children:""})]}),a.jsx(ne,{label:" ",value:((Qe=n.legacyData)==null?void 0:Qe.otherAids)||"",onChange:F=>w("otherAids",F),options:S_})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:"    ",value:((ze=n.legacyData)==null?void 0:ze.notebooksMonitored)||"",onChange:F=>w("notebooksMonitored",F),options:E_}),a.jsx(ne,{label:"   ",value:((yt=n.legacyData)==null?void 0:yt.notebooksCare)||"",onChange:F=>w("notebooksCare",F),options:L_})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-md text-gray-800 border-b pb-2 mb-3 bg-gray-50 p-2 rounded",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{label:"   ",value:((vt=n.legacyData)==null?void 0:vt.homeworkValue)||"",onChange:F=>w("homeworkValue",F),options:P_}),a.jsx(ne,{label:"  ",value:((pn=n.legacyData)==null?void 0:pn.homeworkCorrection)||"",onChange:F=>w("homeworkCorrection",F),options:z_}),a.jsx(ne,{label:" ",value:((ps=n.legacyData)==null?void 0:ps.homeworkValue)||"",onChange:F=>w("homeworkValue",F),options:["","",""]})]})]})]})]}),x==="evaluation"&&a.jsx("div",{className:"space-y-6 animate-in fade-in",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 border-b pb-2 mb-4",children:" "}),a.jsxs("div",{className:"mb-6 relative",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"1.    ( )"}),a.jsx(ln,{value:n.generalAssessment,onChange:F=>S("generalAssessment",F),className:"w-full border rounded-lg p-4 leading-relaxed bg-gray-50 text-sm",minHeight:"min-h-[200px]",placeholder:"    ..."}),a.jsxs("button",{onClick:O,disabled:v,className:"absolute bottom-4 left-14 text-xs bg-gray-900 text-white px-3 py-1.5 rounded hover:bg-black transition-colors shadow-md flex items-center gap-2",children:[v?a.jsx(Yu,{className:"animate-spin",size:12}):a.jsx(R0,{size:12}),""]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"2.   (    )"}),a.jsx(ln,{value:((Rt=n.legacyData)==null?void 0:Rt.generalAppreciation)||"",onChange:F=>w("generalAppreciation",F),className:"w-full border rounded-lg p-4 leading-relaxed bg-white text-sm",minHeight:"min-h-[100px]",placeholder:"    ..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  (/20)"}),a.jsx("input",{type:"number",step:"0.25",max:"20",className:"w-full border p-2 rounded text-2xl font-bold text-center",value:n.finalMark,onChange:F=>S("finalMark",parseFloat(F.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),a.jsx(ne,{value:n.markInLetters,onChange:F=>S("markInLetters",F),className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),a.jsx(ne,{type:"date",value:n.inspectionDate,onChange:F=>S("inspectionDate",F)})]})]})]})})]})]})},TC=({report:n,teacher:e,signature:i})=>{const l=()=>{document.title=`_${e.fullName.replace(/\s/g,"_")}_${n.inspectionDate}`,window.print()},r=Array.from(new Set(n.observations.map(x=>x.category))),u=r.slice(0,4),f=r.slice(4),p=x=>{const g=x.length;return g>90?"text-[9px] leading-tight tracking-tighter":g>60?"text-[10px] leading-tight":"text-[11px] leading-normal"};return a.jsxs("div",{className:"font-serif text-black leading-normal relative",dir:"rtl",children:[a.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:a.jsxs("button",{onClick:l,className:"bg-red-600 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-red-700 transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[a.jsx(Po,{size:24}),a.jsx("span",{className:"text-lg",children:"  PDF / "})]})}),a.jsxs("div",{className:"a4-page",children:[a.jsxs("div",{className:"text-center mb-1 shrink-0",children:[a.jsx("h3",{className:"text-sm font-bold",children:"   "}),a.jsx("h3",{className:"text-sm font-bold mb-1",children:"  "}),a.jsxs("div",{className:"flex justify-between items-start px-2 mb-1 text-[11px] font-bold",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{children:["  : ",n.wilaya]}),a.jsxs("p",{children:[": ",n.district]})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{children:"   "}),a.jsxs("p",{children:[": ",n.school]})]})]}),a.jsx("div",{className:"flex justify-center my-1",children:a.jsx("h1",{className:"text-lg font-bold border-2 border-black px-8 py-1 rounded bg-gray-50 shadow-[2px_2px_0px_0px_#000]",children:"     "})})]}),a.jsxs("div",{className:"mb-4 border border-black shrink-0",children:[a.jsx("div",{className:"border-b border-black bg-gray-200 px-2 py-0.5 font-bold text-[11px] text-center",children:"1 -  "}),a.jsx("div",{className:"p-0.5",children:a.jsx("table",{className:"w-full text-[10px] border-collapse",children:a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{className:"w-1/2 align-top border-l border-black p-0.5",children:a.jsx("table",{className:"w-full",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold w-20",children:" :"}),a.jsx("td",{children:e.fullName})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:" :"}),a.jsx("td",{dir:"ltr",className:"text-right",children:e.birthDate})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:":"}),a.jsx("td",{children:e.degree})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:" :"}),a.jsx("td",{dir:"ltr",className:"text-right",children:e.recruitmentDate})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:":"}),a.jsx("td",{children:e.rank})]})]})})}),a.jsx("td",{className:"w-1/2 align-top p-0.5",children:a.jsx("table",{className:"w-full",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold w-24",children:":"}),a.jsx("td",{children:e.status==="titulaire"?"":""})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:":"}),a.jsxs("td",{children:[e.echelon||"-"," (: ",e.echelonDate,")"]})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:"  :"}),a.jsx("td",{dir:"ltr",className:"text-right",children:e.currentRankDate})]}),a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"font-bold",children:" :"}),a.jsxs("td",{children:[e.lastInspectionDate," (",e.lastMark,")"]})]})]})})})]})})})}),a.jsx("div",{className:"border-t border-black bg-gray-200 px-2 py-0.5 font-bold text-[11px] text-center",children:"  "}),a.jsxs("table",{className:"w-full text-[10px] border-collapse text-center",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-black h-4",children:[a.jsx("th",{className:"border-l border-black p-0.5",children:""}),a.jsx("th",{className:"border-l border-black p-0.5",children:""}),a.jsx("th",{className:"border-l border-black p-0.5",children:""}),a.jsx("th",{className:"border-l border-black p-0.5",children:""}),a.jsx("th",{className:"p-0.5",children:" (/)"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{className:"h-4",children:[a.jsx("td",{className:"border-l border-black p-0.5",children:n.subject}),a.jsx("td",{className:"border-l border-black p-0.5",children:n.topic}),a.jsxs("td",{className:"border-l border-black p-0.5",children:[n.level," / ",n.group]}),a.jsx("td",{className:"border-l border-black p-0.5",children:n.duration}),a.jsxs("td",{className:"p-0.5",children:[n.studentCount," / ",n.absentCount]})]})})]})]}),a.jsxs("div",{className:"flex-1 border border-black overflow-hidden flex flex-col mb-2",children:[a.jsx("div",{className:"bg-gray-200 font-bold text-[12px] px-2 py-1 border-b border-black flex justify-between items-center shrink-0",children:a.jsx("span",{className:"underline",children:"2 -    ( ):"})}),a.jsxs("table",{className:"w-full border-collapse text-[10px] table-fixed flex-1",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 h-6 border-b border-black",children:[a.jsx("th",{className:"border-l border-black p-0.5 w-[12%] text-center",children:""}),a.jsx("th",{className:"border-l border-black p-0.5 w-[35%] text-center",children:" "}),a.jsx("th",{className:"border-l border-black p-0.5 w-[5%] text-center",children:""}),a.jsx("th",{className:"p-0.5 w-[48%] text-center",children:" "})]})}),a.jsx("tbody",{children:u.map((x,g)=>{const v=n.observations.filter(b=>b.category===x);return a.jsxs(wu.Fragment,{children:[a.jsx("tr",{className:"bg-gray-100 border-b border-black h-5",children:a.jsxs("td",{colSpan:4,className:"px-2 py-0.5 font-bold text-center text-[10px]",children:[g+1,". ",x]})}),v.map(b=>a.jsxs("tr",{className:"border-b border-black last:border-b-0 h-auto",children:[a.jsx("td",{className:"border-l border-black px-1 py-0.5 font-bold align-middle text-center break-words",children:b.criteria}),a.jsx("td",{className:"border-l border-black px-1 py-0.5 align-middle leading-tight text-[9px] text-justify",children:b.indicators.join(" ")}),a.jsx("td",{className:"border-l border-black p-0.5 text-center align-middle font-bold text-[11px]",children:b.score===2?"2":b.score===1?"1":b.score===0?"0":""}),a.jsx("td",{className:`px-1 py-0.5 align-middle font-bold text-red-800 whitespace-pre-wrap ${p(b.improvementNotes)}`,children:b.improvementNotes})]},b.id))]},x)})})]})]}),a.jsx("div",{className:"text-center text-[10px] text-gray-500 font-bold",children:"1 / 2"})]}),a.jsxs("div",{className:"a4-page",children:[a.jsxs("div",{className:"border border-black mb-2 shrink-0",children:[a.jsx("div",{className:"bg-gray-200 font-bold text-[12px] px-2 py-1 border-b border-black flex justify-between items-center",children:a.jsx("span",{className:"underline",children:"    ( ):"})}),a.jsxs("table",{className:"w-full border-collapse text-[10px] table-fixed",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 h-6 border-b border-black",children:[a.jsx("th",{className:"border-l border-black p-0.5 w-[12%] text-center",children:""}),a.jsx("th",{className:"border-l border-black p-0.5 w-[35%] text-center",children:" "}),a.jsx("th",{className:"border-l border-black p-0.5 w-[5%] text-center",children:""}),a.jsx("th",{className:"p-0.5 w-[48%] text-center",children:" "})]})}),a.jsx("tbody",{children:f.map((x,g)=>{const v=n.observations.filter(b=>b.category===x);return a.jsxs(wu.Fragment,{children:[a.jsx("tr",{className:"bg-gray-100 border-b border-black h-5",children:a.jsxs("td",{colSpan:4,className:"px-2 py-0.5 font-bold text-center text-[10px]",children:[g+5,". ",x]})}),v.map(b=>a.jsxs("tr",{className:"border-b border-black last:border-b-0 h-auto",children:[a.jsx("td",{className:"border-l border-black px-1 py-0.5 font-bold align-middle text-center break-words",children:b.criteria}),a.jsx("td",{className:"border-l border-black px-1 py-0.5 align-middle leading-tight text-[9px] text-justify",children:b.indicators.join(" ")}),a.jsx("td",{className:"border-l border-black p-0.5 text-center align-middle font-bold text-[11px]",children:b.score===2?"2":b.score===1?"1":b.score===0?"0":""}),a.jsx("td",{className:`px-1 py-0.5 align-middle font-bold text-red-800 whitespace-pre-wrap ${p(b.improvementNotes)}`,children:b.improvementNotes})]},b.id))]},x)})})]}),a.jsx("div",{className:"text-[9px] text-center bg-gray-50 border-t border-black py-0.5 text-gray-600 font-bold",children:" : (2: ) - (1:  ) - (0:  )"})]}),a.jsxs("div",{className:"flex-1 flex flex-col border-2 border-black rounded-sm overflow-hidden",children:[a.jsx("div",{className:"text-center bg-gray-100 border-b-2 border-black py-1",children:a.jsx("h2",{className:"text-[14px] font-bold",children:" "})}),a.jsx("div",{className:"p-4 flex-1 text-justify text-[13px] leading-[1.8] whitespace-pre-line overflow-hidden",children:n.generalAssessment}),a.jsxs("div",{className:"flex border-t-2 border-black h-[45mm] shrink-0",children:[a.jsxs("div",{className:"w-2/3 border-l-2 border-black p-3 flex flex-col justify-center gap-2 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold text-[12px]",children:" :"}),a.jsx("span",{className:"flex-1 border-b border-dotted border-black font-bold text-sm px-2 text-center",children:n.markInLetters})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("span",{className:"font-bold text-[12px]",children:" :"}),a.jsxs("span",{className:"text-xl font-bold border-2 border-black px-6 py-0.5 rounded bg-white",children:[n.finalMark," / 20"]})]})]}),a.jsxs("div",{className:"w-1/3 p-2 text-center relative flex flex-col items-center justify-start pt-1",children:[a.jsxs("p",{className:"text-[10px] font-bold mb-0.5",children:[" : ",n.wilaya," : ",n.inspectionDate]}),a.jsx("p",{className:"font-bold underline text-[12px] mb-1",children:" "}),a.jsx("p",{className:"text-[12px] font-bold mb-2",children:n.inspectorName}),i?a.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-28 h-20 flex items-center justify-center pointer-events-none",children:a.jsx("img",{src:i,alt:"Signature",className:"max-w-full max-h-full mix-blend-multiply object-contain"})}):a.jsx("div",{className:"mt-2 text-[8px] text-gray-300 border border-dashed border-gray-300 w-16 h-16 rounded-full flex items-center justify-center rotate-[-15deg]",children:""})]})]})]}),a.jsxs("div",{className:"mt-1 flex justify-between text-[9px] font-bold px-4 text-gray-500 shrink-0",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:" "}),a.jsx("span",{children:" ()"}),a.jsx("span",{className:"text-black",children:"2 / 2"})]})]})]})},wC=({report:n,teacher:e,signature:i})=>{const l=()=>{document.title=`__${e.fullName}`,window.print()},r=x=>n.lessons[x]||{subject:"",topic:"",level:"",timeStart:"",timeEnd:"",phaseLaunch:"",phaseConstruction:"",phaseInvestment:""},f=typeof n.oralQuestions=="string"?{educationScience:n.oralQuestions,psychology:"",legislation:""}:n.oralQuestions||{educationScience:"",psychology:"",legislation:""},p=e.degree&&(e.degree.includes(" ")||e.degree.includes("ENS"));return a.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[a.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:a.jsxs("button",{onClick:l,className:"bg-gray-800 text-white px-6 py-3 rounded-full shadow-xl hover:bg-black transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[a.jsx(Po,{size:20}),a.jsx("span",{children:"  PDF"})]})}),a.jsxs("div",{className:"a4-page relative p-8 flex flex-col justify-between h-[296mm]",style:{backgroundColor:"white"},children:[a.jsxs("div",{className:"text-center mb-4 space-y-1 shrink-0",children:[a.jsx("h3",{className:"text-sm font-bold",children:"   "}),a.jsx("h3",{className:"text-sm font-bold",children:"  "}),a.jsxs("div",{className:"flex justify-between items-start text-xs font-bold mt-2 px-2",children:[a.jsx("div",{className:"text-right",children:a.jsxs("p",{children:["   ",n.wilaya]})}),a.jsx("div",{className:"text-left",children:a.jsxs("p",{children:["    / ",n.district]})})]}),a.jsx("div",{className:"flex justify-center mt-3 mb-4",children:a.jsx("div",{className:"border-[3px] border-black border-double px-10 py-2 rounded-2xl bg-white text-center shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:a.jsxs("h1",{className:"text-lg font-bold",children:["  ",a.jsx("br",{}),a.jsx("span",{className:"font-normal text-sm",children:"    "})]})})})]}),a.jsxs("div",{className:"space-y-3 text-xs font-bold px-2 flex-1",children:[a.jsxs("div",{className:"border-b-2 border-black border-dotted pb-3 space-y-1.5",children:[a.jsx("p",{className:"mb-1",children:"     :   "}),a.jsxs("div",{className:"flex flex-wrap gap-x-12 gap-y-1",children:[a.jsxs("span",{children:[" : ",n.examDate]}),a.jsxs("span",{children:[" : ",n.school]}),a.jsxs("span",{children:[" : ",n.city]})]}),a.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-1 pt-1",children:[a.jsxs("span",{children:["  : ",n.inspectorName]}),a.jsxs("span",{children:["   :  ",n.district]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("span",{className:"min-w-[150px]",children:[" (): ",n.directorName]}),a.jsx("span",{children:"(  )"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("span",{className:"min-w-[150px]",children:[" (): ",n.teacherMemberName]}),a.jsx("span",{children:"(  )"})]})]}),a.jsxs("div",{className:"space-y-2 pt-1",children:[a.jsx("p",{className:"underline decoration-1 underline-offset-4 mb-2",children:"     :   "}),a.jsxs("div",{className:"flex flex-wrap gap-x-16 gap-y-1 items-center",children:[a.jsxs("span",{className:"min-w-[250px]",children:["() : ",e.fullName]}),a.jsx("span",{children:"  : /"})]}),a.jsxs("div",{className:"flex flex-wrap gap-x-16 gap-y-1 items-center",children:[a.jsxs("span",{className:"min-w-[250px]",children:["()  : ",e.birthPlace]}),a.jsxs("span",{children:[" : ",e.birthDate]})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("span",{className:"flex-1",children:["()  : ",e.recruitmentDate]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1",children:[a.jsxs("span",{children:["    : ",n.appointmentDecisionNumber]}),a.jsxs("span",{children:[" : ",n.appointmentDecisionDate]}),a.jsxs("span",{children:["    : ",n.financialVisaNumber]}),a.jsxs("span",{children:[" : ",n.financialVisaDate]})]}),a.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-1 items-center",children:[a.jsxs("span",{children:["()   : ",e.degree]}),a.jsxs("span",{children:[" : ",n.university]}),a.jsxs("span",{children:[" : ",e.degreeDate]})]}),!p&&a.jsxs("p",{children:[" ",n.recruitmentType||"  ","  : ",n.contestDate]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("p",{className:"underline mb-1 text-center",children:"    "}),a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border border-black p-1 w-1/3",children:" "}),a.jsx("th",{className:"border border-black p-1 w-1/3",children:" "}),a.jsx("th",{className:"border border-black p-1 w-1/3",children:" "})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsxs("td",{className:"border border-black p-1 align-top h-16",children:[a.jsx("p",{className:"font-bold mb-1",children:r(0).subject}),a.jsx("p",{className:"mb-1",children:r(0).topic}),a.jsx("p",{children:r(0).level}),a.jsxs("p",{className:"text-[10px] mt-1",children:[r(0).timeStart," - ",r(0).timeEnd]})]}),a.jsxs("td",{className:"border border-black p-1 align-top",children:[a.jsx("p",{className:"font-bold mb-1",children:r(1).subject}),a.jsx("p",{className:"mb-1",children:r(1).topic}),a.jsx("p",{children:r(1).level}),a.jsxs("p",{className:"text-[10px] mt-1",children:[r(1).timeStart," - ",r(1).timeEnd]})]}),a.jsxs("td",{className:"border border-black p-1 align-top",children:[a.jsx("p",{className:"font-bold mb-1",children:r(2).subject}),a.jsx("p",{className:"mb-1",children:r(2).topic}),a.jsx("p",{children:r(2).level}),a.jsxs("p",{className:"text-[10px] mt-1",children:[r(2).timeStart," - ",r(2).timeEnd]})]})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:3,className:"border border-black p-1 font-bold bg-gray-50",children:["      : ",n.pedagogyMark,"  40"]})})]})]})]}),a.jsxs("div",{className:"pt-2 border-t-2 border-black border-dashed mt-2",children:[a.jsx("p",{className:"underline mb-1",children:"  :"}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 pl-4 text-[11px]",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"font-bold w-24 shrink-0",children:"  :"}),a.jsx("span",{className:"font-normal",children:f.educationScience})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"font-bold w-24 shrink-0",children:"  :"}),a.jsx("span",{className:"font-normal",children:f.psychology})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"font-bold w-24 shrink-0",children:" :"}),a.jsx("span",{className:"font-normal",children:f.legislation})]})]}),a.jsxs("p",{className:"text-left font-bold mt-1 pl-2 border-t border-black inline-block pt-1",children:["   : ",n.oralMark,"  20"]})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t-[3px] border-double border-black text-xs shrink-0 pb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:"  :"}),a.jsx("span",{className:"border-2 border-black px-6 py-1 font-bold text-sm bg-gray-100",children:n.finalDecision==="confirmed"?" ()":n.finalDecision==="deferred"?"":""})]}),a.jsxs("div",{className:"border border-black p-1 px-3 text-center rounded",children:[a.jsx("p",{className:"font-bold",children:" "}),a.jsxs("p",{className:"text-lg font-bold",children:[n.totalMark," / 60"]})]})]}),a.jsxs("div",{className:"flex justify-between items-start px-4 mt-2 text-[11px] font-bold",children:[a.jsxs("div",{className:"text-center w-1/3",children:[a.jsx("p",{className:"mb-2 underline",children:" "}),a.jsx("p",{className:"mb-1",children:n.directorName}),a.jsx("p",{children:n.teacherMemberName})]}),a.jsxs("div",{className:"text-center w-1/3",children:[a.jsx("p",{className:"mb-2 underline",children:"  "}),a.jsx("div",{className:"h-12 flex items-center justify-center mb-1",children:i?a.jsx("img",{src:i,alt:"Sig",className:"w-20 h-12 object-contain mix-blend-multiply"}):" "}),a.jsx("p",{children:n.inspectorName})]})]})]})]}),a.jsxs("div",{className:"a4-page relative p-10 flex flex-col",style:{backgroundColor:"white"},children:[a.jsx("div",{className:"flex justify-center mb-10",children:a.jsx("div",{className:"border-[3px] border-black px-12 py-2 rounded-xl text-center shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white",children:a.jsx("h2",{className:"font-bold text-xl tracking-widest",children:" "})})}),a.jsx("div",{className:"flex-1 space-y-10 text-[12px] font-bold text-right pr-2",children:[0,1,2].map(x=>{const g=r(x);return a.jsxs("div",{className:"relative pl-4 border-r-4 border-gray-200 pr-4",children:[a.jsxs("h4",{className:"mb-3 text-sm border-b border-black inline-block pb-1",children:[" ",x===0?"":x===1?"":""," : ",a.jsx("span",{className:"font-normal mx-2",children:g.subject})]}),a.jsxs("ul",{className:"list-none space-y-3 leading-relaxed",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),a.jsx("span",{className:"font-normal text-justify",children:g.phaseLaunch||"..................................................."})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),a.jsx("span",{className:"font-normal text-justify",children:g.phaseConstruction||"..................................................."})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"font-bold min-w-[120px]",children:"   :"}),a.jsx("span",{className:"font-normal text-justify",children:g.phaseInvestment||"..................................................."})]})]})]},x)})}),a.jsxs("div",{className:"mt-auto pt-10",children:[a.jsxs("p",{className:"text-[12px] font-bold text-justify mb-8 leading-loose px-2 border-t border-black pt-4",children:["          : ",a.jsx("span",{className:"underline decoration-dotted underline-offset-4 mx-1",children:" ()     "})]}),a.jsxs("div",{className:"flex justify-between items-end px-8 pb-8",children:[a.jsx("div",{className:"w-1/2"}),a.jsxs("div",{className:"w-1/2 text-center text-[12px] font-bold relative",children:[a.jsxs("p",{className:"mb-4",children:[" : ",n.examDate]}),a.jsx("p",{className:"mb-8",children:"   :"}),a.jsx("p",{className:"mb-6 text-sm",children:n.inspectorName}),a.jsxs("div",{className:"h-24 flex items-center justify-center relative",children:[a.jsx("p",{className:"absolute -top-4 right-10 text-gray-400 text-[10px]",children:""}),i&&a.jsx("img",{src:i,alt:"Signature",className:"w-40 h-24 mix-blend-multiply object-contain transform -rotate-2"})]})]})]})]})]})]})},EC=({report:n,teacher:e,signature:i})=>{var r,u,f,p,x,g,v,b,_,S,w,C,O,J,q,G,H,ee,re,Z,ue,oe,se,P,ie,pe,I,D,E,M,B,W,de,j;const l=()=>{document.title=`__${e.fullName.replace(/\s/g,"_")}_${n.inspectionDate}`,window.print()};return a.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[a.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:a.jsxs("button",{onClick:l,className:"bg-amber-600 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-amber-700 transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[a.jsx(Po,{size:24}),a.jsx("span",{className:"text-lg",children:"  PDF / "})]})}),a.jsxs("div",{className:"a4-page relative flex flex-col p-0",style:{padding:"10mm 15mm"},children:[a.jsxs("div",{className:"flex justify-between items-start text-[11px] font-bold mb-2 relative shrink-0",children:[a.jsxs("div",{className:"text-right flex flex-col items-start w-1/3 space-y-1",children:[a.jsx("h3",{className:"text-[12px] font-bold text-center w-[200%] -mr-[50%] mb-3",children:"   "}),a.jsx("p",{children:"  "}),a.jsxs("p",{children:["  : ",n.wilaya]}),a.jsx("p",{children:"   "}),a.jsxs("p",{children:[": ",n.district]})]}),a.jsxs("div",{className:"text-right w-1/3 pt-8 space-y-1",children:[a.jsxs("p",{children:[": ",n.school]}),a.jsxs("p",{children:[": ",(r=n.legacyData)==null?void 0:r.municipality]}),a.jsxs("p",{children:[": ",(u=n.legacyData)==null?void 0:u.daira]}),a.jsxs("p",{children:[" : ",(f=n.legacyData)==null?void 0:f.schoolYear]})]})]}),a.jsx("div",{className:"flex justify-center mb-3 shrink-0",children:a.jsx("div",{className:"border-[3px] border-black px-8 py-1.5 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white",children:a.jsx("h1",{className:"text-xl font-bold",children:"    "})})}),a.jsxs("div",{className:"border-[3px] border-black p-2 mb-1 shrink-0 text-[12px]",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-20",children:"  :"}),a.jsx("span",{className:"font-normal flex-[2]",children:e.fullName}),a.jsx("span",{className:"font-bold ml-2 w-16 text-center",children:"():"}),a.jsx("span",{className:"font-normal flex-1 text-center",children:"/"}),a.jsx("span",{className:"font-bold ml-2 w-14",children:":"}),a.jsx("span",{className:"font-normal flex-1",children:(p=n.legacyData)==null?void 0:p.familyStatus})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-28",children:"  :"}),a.jsx("span",{className:"font-normal flex-1 text-right",dir:"ltr",children:e.birthDate}),a.jsx("span",{className:"font-bold px-2",children:":"}),a.jsx("span",{className:"font-normal flex-[2]",children:e.birthPlace})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-24",children:"  :"}),a.jsx("span",{className:"font-normal w-32 text-right",dir:"ltr",children:e.recruitmentDate}),a.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),a.jsx("span",{className:"font-normal flex-1",children:e.rank})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-24",children:":"}),a.jsx("span",{className:"font-normal w-32",children:e.echelon}),a.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),a.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:e.echelonDate})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),a.jsx("span",{className:"font-normal w-32",children:e.degree}),a.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),a.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:e.degreeDate||((x=n.legacyData)==null?void 0:x.graduationDate)})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),a.jsx("span",{className:"font-normal w-32",children:(g=n.legacyData)==null?void 0:g.trainingInstitute}),a.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),a.jsx("span",{className:"font-normal flex-1 text-right pr-2",dir:"ltr",children:(v=n.legacyData)==null?void 0:v.trainingDate})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-bold ml-2 w-24",children:" :"}),a.jsx("span",{className:"font-normal w-32 text-right",dir:"ltr",children:e.lastInspectionDate}),a.jsx("span",{className:"font-bold ml-2 w-12 text-center",children:":"}),a.jsx("span",{className:"font-normal flex-1",children:e.lastMark})]})]}),a.jsxs("div",{className:"border-[3px] border-t-0 border-black flex flex-1 h-full min-h-0 text-[11px]",children:[a.jsxs("div",{className:"w-[48%] border-l-[3px] border-black p-2 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),a.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[a.jsxs("span",{children:["  : ",a.jsx("span",{className:"font-normal",children:n.inspectionDate})]}),a.jsxs("span",{children:[": ",a.jsx("span",{className:"font-normal",children:n.duration})]})]}),a.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-normal",children:n.level})]}),a.jsxs("span",{children:[" : ",a.jsx("span",{className:"font-normal",children:n.studentCount})]})]}),a.jsxs("div",{className:"font-bold mb-1.5",children:["       ",a.jsx("span",{className:"font-normal",children:(b=n.legacyData)==null?void 0:b.classroomListening})]}),a.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[a.jsxs("span",{children:["  ",a.jsx("span",{className:"font-normal",children:(_=n.legacyData)==null?void 0:_.lighting})]}),a.jsxs("span",{children:["  ",a.jsx("span",{className:"font-normal",children:(S=n.legacyData)==null?void 0:S.cleanliness})]})]}),a.jsxs("div",{className:"flex justify-between font-bold mb-1.5",children:[a.jsxs("span",{children:["  ",a.jsx("span",{className:"font-normal",children:(w=n.legacyData)==null?void 0:w.heating})]}),a.jsxs("span",{children:[" ",a.jsx("span",{className:"font-normal",children:(C=n.legacyData)==null?void 0:C.ventilation})]})]})]}),a.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),a.jsxs("div",{className:"font-bold mb-1.5",children:["  : ",a.jsx("span",{className:"font-normal",children:n.subject})]}),a.jsxs("div",{className:"font-bold mb-1.5",children:[" : ",a.jsx("span",{className:"font-normal",children:n.topic})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("div",{className:"font-bold underline mt-1",children:"   :"}),a.jsx("div",{className:"min-h-[1.5em] leading-tight font-normal",children:(O=n.legacyData)==null?void 0:O.documentsAndPosters})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"font-bold underline",children:"  :"}),a.jsx("span",{className:"font-normal",children:(J=n.legacyData)==null?void 0:J.lessonPreparation})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"font-bold underline",children:"  :"}),a.jsx("span",{className:"font-normal",children:(q=n.legacyData)==null?void 0:q.preparationValue})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"font-bold underline",children:" :"}),a.jsx("span",{className:"font-normal",children:(G=n.legacyData)==null?void 0:G.registers})]}),a.jsx("div",{className:"font-bold mt-1",children:"      "}),a.jsx("div",{className:"font-normal mr-4",children:(H=n.legacyData)==null?void 0:H.registersUsed}),a.jsx("div",{className:"font-bold mt-1",children:"     :"}),a.jsxs("div",{className:"flex justify-between pr-4 mt-1 font-bold",children:[a.jsxs("span",{children:["  ",a.jsx("span",{className:"font-normal",children:(ee=n.legacyData)==null?void 0:ee.scheduledPrograms})]}),a.jsxs("span",{children:["  ",a.jsx("span",{className:"font-normal",children:(re=n.legacyData)==null?void 0:re.progression})]})]}),a.jsxs("div",{className:"font-bold mt-2",children:[": ",a.jsx("span",{className:"font-normal",children:(Z=n.legacyData)==null?void 0:Z.duties})]})]})]}),a.jsxs("div",{className:"w-[52%] p-2 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),a.jsxs("div",{className:"font-bold mb-2",children:[" :",a.jsx("div",{className:"font-normal mt-0.5 min-h-[16px]",children:(ue=n.legacyData)==null?void 0:ue.informationValue})]}),a.jsxs("div",{className:"font-bold mb-2",children:["    ",a.jsx("span",{className:"font-normal",children:(oe=n.legacyData)==null?void 0:oe.lessonExecution})]}),a.jsxs("div",{className:"font-bold mb-2",children:["     ",a.jsx("span",{className:"font-normal",children:(se=n.legacyData)==null?void 0:se.objectivesAchieved})]}),a.jsxs("div",{className:"font-bold mb-2 mt-2",children:[a.jsx("span",{className:"underline",children:" :"}),a.jsx("div",{className:"font-normal mt-0.5",children:(P=n.legacyData)==null?void 0:P.studentParticipation})]})]}),a.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:""}),a.jsxs("div",{className:"font-bold mb-2",children:["      ",a.jsx("span",{className:"font-normal",children:(ie=n.legacyData)==null?void 0:ie.applications})]}),a.jsxs("div",{className:"font-bold mb-2",children:["    ",a.jsx("span",{className:"font-normal",children:(pe=n.legacyData)==null?void 0:pe.applicationsSuitability})]})]}),a.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:" "}),a.jsxs("div",{className:"font-bold mb-2",children:[": ",a.jsx("span",{className:"font-normal",children:(I=n.legacyData)==null?void 0:I.boardWork})]}),a.jsxs("div",{className:"font-bold mb-2",children:[": ",a.jsx("span",{className:"font-normal",children:""})]}),a.jsxs("div",{className:"font-bold mb-2",children:[" : ",a.jsx("span",{className:"font-normal",children:(D=n.legacyData)==null?void 0:D.otherAids})]})]}),a.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),a.jsxs("div",{className:"font-bold mb-2",children:["      ",a.jsx("span",{className:"font-normal",children:(E=n.legacyData)==null?void 0:E.notebooksMonitored})]}),a.jsxs("div",{className:"font-bold mb-2",children:["     ",a.jsx("span",{className:"font-normal",children:(M=n.legacyData)==null?void 0:M.notebooksCare})]})]}),a.jsx("div",{className:"w-full border-b border-black border-dashed my-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold underline text-[12px] mb-2",children:"  :"}),a.jsxs("div",{className:"font-bold mb-2",children:["     ",a.jsx("span",{className:"font-normal",children:(B=n.legacyData)==null?void 0:B.homeworkValue})]}),a.jsxs("div",{className:"font-bold mb-2",children:["    ",a.jsx("span",{className:"font-normal",children:(W=n.legacyData)==null?void 0:W.homeworkCorrection})]}),a.jsxs("div",{className:"font-bold mb-2",children:["  : ",a.jsx("span",{className:"font-normal",children:(de=n.legacyData)==null?void 0:de.homeworkValue})]})]})]})]}),a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 text-[10px] font-bold",children:"2 / 1"})]}),a.jsxs("div",{className:"a4-page flex flex-col",children:[a.jsxs("div",{className:"border-[3px] border-black flex-1 flex flex-col min-h-[140mm]",children:[a.jsx("div",{className:"text-center font-bold py-1 border-b-[3px] border-black bg-gray-100 text-[13px]",children:"   (    )"}),a.jsx("div",{className:"p-4 text-[13px] leading-loose whitespace-pre-line text-justify flex-1 overflow-hidden",children:n.generalAssessment})]}),a.jsxs("div",{className:"border-[3px] border-t-0 border-black h-[70mm] flex flex-col shrink-0",children:[a.jsx("div",{className:"text-center font-bold py-1 border-b-[3px] border-black bg-gray-100 text-[13px]",children:"          ()"}),a.jsx("div",{className:"p-4 text-[13px] leading-loose whitespace-pre-line text-justify flex-1 overflow-hidden",children:(j=n.legacyData)==null?void 0:j.generalAppreciation})]}),a.jsxs("div",{className:"border-[3px] border-t-0 border-black flex h-[45mm] shrink-0",children:[a.jsxs("div",{className:"w-1/2 border-l-[3px] border-black p-2 font-bold text-[13px] flex flex-col justify-center space-y-3 bg-gray-50",children:[a.jsxs("p",{children:[" : ",a.jsx("span",{className:"underline",children:n.markInLetters})]}),a.jsxs("p",{children:[" : ",a.jsx("span",{className:"text-xl border-2 border-black px-4 py-0.5 bg-white",children:n.finalMark})," / 20"]}),a.jsx("p",{className:"text-[10px] mt-1 text-center",children:"   ()  : ...................."}),a.jsx("p",{className:"text-center text-[10px]",children:""})]}),a.jsxs("div",{className:"w-1/2 p-2 font-bold text-[13px] relative flex flex-col items-center",children:[a.jsx("p",{className:"text-[12px] w-full text-right",children:"     "}),a.jsxs("div",{className:"flex justify-between mt-2 px-1 w-full text-[11px]",children:[a.jsxs("p",{children:[": ",n.inspectorName]}),a.jsxs("p",{children:[": ",n.inspectionDate]})]}),a.jsx("div",{className:"text-center mt-auto mb-2 relative w-full h-24 flex justify-center",children:i?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center -top-4",children:a.jsx("img",{src:i,alt:"Signature",className:"max-w-full max-h-full mix-blend-multiply object-contain w-48 h-32"})}):a.jsx("div",{className:"mt-4 text-[8px] text-gray-300 border border-dashed border-gray-300 w-16 h-16 rounded-full flex items-center justify-center rotate-[-15deg]",children:""})})]})]}),a.jsx("div",{className:"text-center text-[10px] text-gray-500 font-bold mt-1",children:"2 / 2"})]})]})},ox=({report:n})=>{const e=()=>{document.title=`__${n.term}_${n.schoolYear.replace("/","-")}`,window.print()},i=Object.values(n.days).reduce((p,x)=>p+x,0)||1,l=Object.values(n.ranks).reduce((p,x)=>p+x,0)||1,r=Object.values(n.levels).reduce((p,x)=>p+x,0)||1,u=Object.values(n.subjects).reduce((p,x)=>p+x,0)||1,f=(p,x)=>p===0?"":(p/x*100).toFixed(1)+"%";return a.jsxs("div",{className:"font-serif text-black leading-normal",dir:"rtl",children:[a.jsx("div",{className:"fixed top-4 left-4 z-50 flex gap-3 no-print",children:a.jsxs("button",{onClick:e,className:"bg-purple-800 text-white px-6 py-3 rounded-full shadow-xl hover:bg-black transition-transform hover:scale-105 flex items-center gap-2 font-bold font-sans border-2 border-white",children:[a.jsx(Po,{size:20}),a.jsx("span",{children:"  PDF"})]})}),a.jsxs("div",{className:"a4-page relative p-8 flex flex-col h-[296mm]",style:{backgroundColor:"white"},children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 text-sm font-bold",children:[a.jsxs("div",{className:"text-right w-1/3",children:[a.jsx("p",{children:"   "}),a.jsx("p",{children:"  "}),a.jsx("p",{children:"  "})]}),a.jsxs("div",{className:"text-left w-1/3",children:[a.jsxs("p",{children:["   ",n.wilaya]}),a.jsxs("p",{children:[": ",n.district]})]})]}),a.jsx("div",{className:"text-center mb-6",children:a.jsxs("h1",{className:"text-xl font-bold border-b-2 border-black inline-block pb-1",children:["      ",n.term,"   : ",n.schoolYear]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsxs("thead",{children:[a.jsxs("tr",{children:[a.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50 w-[15%]",children:"  "}),a.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50",children:""}),a.jsx("th",{rowSpan:2,className:"border border-black p-1 bg-gray-50",children:""}),a.jsx("th",{colSpan:3,className:"border border-black p-1 bg-gray-50",children:" "}),a.jsx("th",{colSpan:4,className:"border border-black p-1 bg-gray-50",children:""}),a.jsx("th",{colSpan:2,className:"border border-black p-1 bg-gray-50",children:"  ()"})]}),a.jsxs("tr",{children:[a.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:"   "}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:"   ()"}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:""}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:"  "}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:"  ( )"}),a.jsx("th",{className:"border border-black p-1 text-[10px]",children:""})]})]}),a.jsx("tbody",{children:a.jsxs("tr",{className:"h-12 font-bold",children:[a.jsx("td",{className:"border border-black p-1",children:n.inspectorName}),a.jsx("td",{className:"border border-black p-1",children:n.rank}),a.jsx("td",{className:"border border-black p-1",children:n.district}),a.jsx("td",{className:"border border-black p-1",children:n.teachersTotal}),a.jsx("td",{className:"border border-black p-1",children:n.teachersTrainee}),a.jsx("td",{className:"border border-black p-1",children:n.teachersTenure}),a.jsx("td",{className:"border border-black p-1",children:n.visitsInspection}),a.jsx("td",{className:"border border-black p-1",children:n.visitsTenure}),a.jsx("td",{className:"border border-black p-1",children:n.visitsTraining}),a.jsx("td",{className:"border border-black p-1",children:n.visitsTrainingBenefit}),a.jsx("td",{className:"border border-black p-1",children:n.tasksSupervision}),a.jsx("td",{className:"border border-black p-1",children:n.tasksInvestigations})]})})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*      "}),a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1 bg-gray-100",children:""})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),a.jsx("td",{className:"border border-black p-1",children:n.days.sun}),a.jsx("td",{className:"border border-black p-1",children:n.days.mon}),a.jsx("td",{className:"border border-black p-1",children:n.days.tue}),a.jsx("td",{className:"border border-black p-1",children:n.days.wed}),a.jsx("td",{className:"border border-black p-1",children:n.days.thu}),a.jsx("td",{className:"border border-black p-1 font-bold",children:i>1?i:0})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),a.jsx("td",{className:"border border-black p-1",children:f(n.days.sun,i)}),a.jsx("td",{className:"border border-black p-1",children:f(n.days.mon,i)}),a.jsx("td",{className:"border border-black p-1",children:f(n.days.tue,i)}),a.jsx("td",{className:"border border-black p-1",children:f(n.days.wed,i)}),a.jsx("td",{className:"border border-black p-1",children:f(n.days.thu,i)}),a.jsx("td",{className:"border border-black p-1 font-bold",children:"100%"})]})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*      "}),a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:"  "}),a.jsx("th",{className:"border border-black p-1",children:"  "}),a.jsx("th",{className:"border border-black p-1",children:"  "}),a.jsx("th",{className:"border border-black p-1",children:" "}),a.jsx("th",{className:"border border-black p-1",children:"/"}),a.jsx("th",{className:"border border-black p-1 bg-gray-100",children:""})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.stagiere}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.primary}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.class1}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.class2}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.distinguished}),a.jsx("td",{className:"border border-black p-1",children:n.ranks.contract}),a.jsx("td",{className:"border border-black p-1 font-bold",children:l>1?l:0})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.stagiere,l)}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.primary,l)}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.class1,l)}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.class2,l)}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.distinguished,l)}),a.jsx("td",{className:"border border-black p-1",children:f(n.ranks.contract,l)}),a.jsx("td",{className:"border border-black p-1 font-bold",children:"100%"})]})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*        "}),a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:" 01"}),a.jsx("th",{className:"border border-black p-1",children:" 02"}),a.jsx("th",{className:"border border-black p-1",children:" 03"}),a.jsx("th",{className:"border border-black p-1",children:" 04"}),a.jsx("th",{className:"border border-black p-1",children:" 05"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),a.jsx("td",{className:"border border-black p-1",children:n.levels.prep}),a.jsx("td",{className:"border border-black p-1",children:n.levels.year1}),a.jsx("td",{className:"border border-black p-1",children:n.levels.year2}),a.jsx("td",{className:"border border-black p-1",children:n.levels.year3}),a.jsx("td",{className:"border border-black p-1",children:n.levels.year4}),a.jsx("td",{className:"border border-black p-1",children:n.levels.year5})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:" %"}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.prep,r)}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.year1,r)}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.year2,r)}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.year3,r)}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.year4,r)}),a.jsx("td",{className:"border border-black p-1",children:f(n.levels.year5,r)})]})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-sm mb-1 text-right",children:"*    "}),a.jsxs("table",{className:"w-full border-collapse border border-black text-center text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-black p-1 w-20",children:"/"}),a.jsx("th",{className:"border border-black p-1",children:" "}),a.jsx("th",{className:"border border-black p-1",children:""}),a.jsx("th",{className:"border border-black p-1",children:". "}),a.jsx("th",{className:"border border-black p-1",children:" "}),a.jsx("th",{className:"border border-black p-1",children:". "}),a.jsx("th",{className:"border border-black p-1",children:". "}),a.jsx("th",{className:"border border-black p-1",children:". "}),a.jsx("th",{className:"border border-black p-1",children:""})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:""}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.arabic}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.math}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.islamic}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.historyGeo}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.civics}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.science}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.music}),a.jsx("td",{className:"border border-black p-1",children:n.subjects.art})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-1 font-bold bg-gray-50",children:"%"}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.arabic,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.math,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.islamic,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.historyGeo,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.civics,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.science,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.music,u)}),a.jsx("td",{className:"border border-black p-1",children:f(n.subjects.art,u)})]})]})]})]}),a.jsxs("div",{className:"mt-8 flex justify-between px-10 text-sm font-bold",children:[a.jsx("div",{children:""}),a.jsx("div",{children:" "})]})]})]})},CC=({report:n,onChange:e,onPrint:i,teachers:l,reportsMap:r,tenureReportsMap:u})=>{const f=(_,S)=>{e({...n,[_]:S})},p=()=>{if(!n.startDate||!n.endDate){alert("      .");return}const _=new Date(n.startDate),S=new Date(n.endDate),w={visitsInspection:0,visitsTenure:0,days:{sun:0,mon:0,tue:0,wed:0,thu:0},ranks:{stagiere:0,primary:0,class1:0,class2:0,distinguished:0,contract:0},levels:{prep:0,year1:0,year2:0,year3:0,year4:0,year5:0},subjects:{arabic:0,math:0,islamic:0,historyGeo:0,civics:0,science:0,music:0,art:0}};Object.values(r).forEach(C=>{const O=new Date(C.inspectionDate);if(O>=_&&O<=S){w.visitsInspection++;const J=O.getDay();J===0?w.days.sun++:J===1?w.days.mon++:J===2?w.days.tue++:J===3?w.days.wed++:J===4&&w.days.thu++;const q=l.find(G=>G.id===C.teacherId);if(q){const G=q.status,H=q.rank;G==="stagiere"?w.ranks.stagiere++:G==="contractuel"?w.ranks.contract++:H.includes("")?w.ranks.distinguished++:H.includes("")?w.ranks.class2++:H.includes("")?w.ranks.class1++:w.ranks.primary++}C.level.includes("")?w.levels.prep++:C.level.includes("")?w.levels.year1++:C.level.includes("")?w.levels.year2++:C.level.includes("")?w.levels.year3++:C.level.includes("")?w.levels.year4++:C.level.includes("")&&w.levels.year5++,C.subject.includes("")?w.subjects.math++:C.subject.includes("")?w.subjects.islamic++:C.subject.includes("")?w.subjects.historyGeo++:C.subject.includes("")?w.subjects.civics++:C.subject.includes("")?w.subjects.science++:C.subject.includes("")?w.subjects.music++:C.subject.includes("")||C.subject.includes("")?w.subjects.art++:w.subjects.arabic}}),l.forEach(C=>{if(C.status==="stagiere"&&C.tenureDate){const O=new Date(C.tenureDate);O>=_&&O<=S&&w.visitsTenure++}}),e({...n,teachersTotal:l.length,teachersTrainee:l.filter(C=>C.status==="stagiere").length,...w}),alert("       .")},x=Object.values(n.days).reduce((_,S)=>_+S,0),g=Object.values(n.ranks).reduce((_,S)=>_+S,0),v=Object.values(n.levels).reduce((_,S)=>_+S,0),b=Object.values(n.subjects).reduce((_,S)=>_+S,0);return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-purple-900 text-white border-b p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ao,{size:20}),a.jsx("h2",{className:"font-bold text-lg",children:"   "})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-white text-purple-900 px-4 py-2 rounded-lg hover:bg-gray-100 font-bold shadow-sm transition-all",children:[a.jsx(Zl,{size:18}),""]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 p-6 rounded-xl shadow-sm flex flex-col md:flex-row items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-800 font-bold text-lg whitespace-nowrap",children:[a.jsx(y0,{size:24}),a.jsx("span",{children:"  :"})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs font-bold text-purple-700 mb-1",children:" :"}),a.jsx("input",{type:"date",value:n.startDate,onChange:_=>f("startDate",_.target.value),className:"w-full border border-purple-300 rounded p-2 text-sm"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs font-bold text-purple-700 mb-1",children:" :"}),a.jsx("input",{type:"date",value:n.endDate,onChange:_=>f("endDate",_.target.value),className:"w-full border border-purple-300 rounded p-2 text-sm"})]})]}),a.jsxs("button",{onClick:p,className:"bg-purple-700 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-purple-800 transition-transform active:scale-95 flex items-center gap-2 font-bold whitespace-nowrap",children:[a.jsx(R1,{size:18}),"  "]})]}),a.jsxs("div",{className:"bg-white p-1 rounded-lg shadow-sm border overflow-hidden",children:[a.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-500 border-b",children:"  (  )"}),a.jsx("div",{className:"overflow-auto max-h-[500px] border-b bg-gray-500/10 p-4",children:a.jsx("div",{className:"transform scale-75 origin-top-center",children:a.jsx(ox,{report:n})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-lg text-purple-800 border-b pb-2 mb-4 flex items-center gap-2",children:"1.  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  "}),a.jsx("input",{className:"w-full border rounded p-2",value:n.inspectorName,onChange:_=>f("inspectorName",_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" / "}),a.jsx("input",{className:"w-full border rounded p-2",value:n.rank,onChange:_=>f("rank",_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),a.jsx("input",{className:"w-full border rounded p-2",value:n.district,onChange:_=>f("district",_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),a.jsx("input",{className:"w-full border rounded p-2",value:n.wilaya,onChange:_=>f("wilaya",_.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),a.jsxs("select",{className:"w-full border rounded p-2",value:n.term,onChange:_=>f("term",_.target.value),children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" "}),a.jsx("input",{className:"w-full border rounded p-2",value:n.schoolYear,onChange:_=>f("schoolYear",_.target.value)})]})]}),a.jsx("h3",{className:"font-bold text-lg text-purple-800 border-b pb-2 mb-4 mt-6 flex items-center gap-2",children:"2.   ( + )"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.teachersTotal,readOnly:!0})]}),a.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:" ()"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.teachersTrainee,readOnly:!0})]}),a.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.teachersTenure,onChange:_=>f("teachersTenure",parseInt(_.target.value))})]}),a.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.visitsInspection,readOnly:!0})]}),a.jsxs("div",{className:"bg-gray-100 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-gray-600 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 bg-white",value:n.visitsTenure,readOnly:!0})]}),a.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.visitsTraining,onChange:_=>f("visitsTraining",parseInt(_.target.value))})]}),a.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"   ()"}),a.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.visitsTrainingBenefit,onChange:_=>f("visitsTrainingBenefit",parseInt(_.target.value))})]}),a.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:"  ()"}),a.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.tasksSupervision,onChange:_=>f("tasksSupervision",parseInt(_.target.value))})]}),a.jsxs("div",{className:"border border-purple-200 bg-purple-50 p-2 rounded",children:[a.jsx("label",{className:"block text-xs text-purple-800 font-bold",children:" ()"}),a.jsx("input",{type:"number",className:"w-full border border-purple-300 rounded p-1",value:n.tasksInvestigations,onChange:_=>f("tasksInvestigations",parseInt(_.target.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[a.jsx("span",{children:"  ( )"}),a.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[a.jsx(yo,{size:12})," : ",x]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-2 opacity-80",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.sun,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.mon,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.tue,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.wed,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.days.thu,readOnly:!0})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[a.jsx("span",{children:"  ( )"}),a.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[a.jsx(yo,{size:12})," : ",v]})]}),a.jsxs("div",{className:"grid grid-cols-6 gap-2 opacity-80",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:""}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.prep,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:" 1"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year1,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:" 2"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year2,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:" 3"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year3,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:" 4"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year4,readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] block",children:" 5"}),a.jsx("input",{type:"number",className:"w-full border rounded p-1 text-center bg-gray-50",value:n.levels.year5,readOnly:!0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[a.jsx("span",{children:"  ( )"}),a.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[a.jsx(yo,{size:12})," : ",g]})]}),a.jsxs("div",{className:"space-y-2 opacity-80",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:""}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.stagiere,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:"  "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.primary,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:"  "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.class1,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:"  "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.class2,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:""}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.distinguished,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:""}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.ranks.contract,readOnly:!0})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex justify-between",children:[a.jsx("span",{children:"  ( )"}),a.jsxs("span",{className:"text-purple-600 text-xs flex items-center gap-1",children:[a.jsx(yo,{size:12})," : ",b]})]}),a.jsxs("div",{className:"space-y-2 opacity-80",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:" "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.arabic,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:""}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.math,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:" "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.islamic,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:" "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.historyGeo,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:" "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.civics,readOnly:!0})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("label",{className:"text-xs w-24",children:" "}),a.jsx("input",{type:"number",className:"flex-1 border rounded p-1 bg-gray-50",value:n.subjects.science,readOnly:!0})]})]})]})]})]})]})})]})},AC=({isOpen:n,onClose:e,onUpgrade:i})=>n?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden relative animate-in zoom-in-95 duration-300",children:[a.jsx("button",{onClick:e,className:"absolute top-4 left-4 text-white/80 hover:text-white z-10 p-1 bg-black/20 rounded-full",children:a.jsx(zo,{size:20})}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 p-8 text-center relative overflow-hidden",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:[a.jsx(zs,{className:"absolute top-4 right-10 animate-pulse",size:20}),a.jsx(zs,{className:"absolute bottom-4 left-10 animate-pulse delay-700",size:30}),a.jsx(zs,{className:"absolute top-10 left-1/2 animate-pulse delay-300",size:15})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-white",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-inner border border-white/30",children:a.jsx(wb,{size:32,className:"text-white drop-shadow-md",fill:"currentColor"})}),a.jsx("h2",{className:"text-3xl font-bold mb-1 drop-shadow-sm",children:" "}),a.jsx("p",{className:"text-yellow-50 font-medium opacity-90",children:"   "})]})]}),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:a.jsx($l,{size:14,strokeWidth:3})}),a.jsx("span",{className:"font-medium",children:"    "})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:a.jsx($l,{size:14,strokeWidth:3})}),a.jsx("span",{className:"font-medium",children:"    "})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:a.jsx($l,{size:14,strokeWidth:3})}),a.jsx("span",{className:"font-medium",children:"    "})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:a.jsx($l,{size:14,strokeWidth:3})}),a.jsx("span",{className:"font-medium",children:"   "})]})]}),a.jsxs("button",{onClick:i,className:"w-full bg-gray-900 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-gray-800 hover:scale-[1.02] transition-all flex items-center justify-center gap-2 group",children:[a.jsx(C0,{className:"text-yellow-400 group-hover:animate-spin",fill:"currentColor",size:20}),a.jsx("span",{children:"  -  "})]}),a.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:"     ."})]})]})}):null,jC="https://www.googleapis.com/auth/spreadsheets",RC="https://sheets.googleapis.com/$discovery/rest?version=v4";let wo,hu=!1,mu=!1;const rx=(n,e)=>new Promise((i,l)=>{if(hu&&mu){i();return}const r=setTimeout(()=>{l(new Error("Timeout: Could not load Google API scripts. Please check your internet connection."))},1e4),u=()=>{window.gapi?window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:n,discoveryDocs:[RC]}),hu=!0,p()}catch(x){clearTimeout(r),l(x)}}):setTimeout(u,100)},f=()=>{if(window.google)try{wo=window.google.accounts.oauth2.initTokenClient({client_id:e,scope:jC,callback:""}),mu=!0,p()}catch(x){clearTimeout(r),l(x instanceof Error?x:new Error(String(x)))}else setTimeout(f,100)},p=()=>{hu&&mu&&(clearTimeout(r),i())};u(),f()}),zu=(n=!1)=>new Promise((e,i)=>{var u,f;if(!wo)return i(new Error("Google API not initialized"));wo.callback=async p=>{if(p.error){i(p);return}window.gapi&&window.gapi.client&&window.gapi.client.setToken(p),e()};const l=n?"":"consent",r=(f=(u=window.gapi)==null?void 0:u.client)==null?void 0:f.getToken();if(n&&r&&Date.now()<r.expires_in){e();return}wo.requestAccessToken({prompt:l})}),cx=async()=>{try{return await zu(!0),!0}catch(n){return console.warn("Silent auth failed, user needs to click connect",n),!1}},MC=async(n,e)=>{if(!window.gapi)throw new Error("Google API not loaded");const i=await window.gapi.client.sheets.spreadsheets.create({properties:{title:n}}),l=i.result.spreadsheetId,r=i.result.spreadsheetUrl,u={values:e};await window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:l,range:"Sheet1!A1",valueInputOption:"RAW",resource:u});const f={requests:[{repeatCell:{range:{sheetId:0,startRowIndex:0,endRowIndex:1},cell:{userEnteredFormat:{textFormat:{bold:!0},backgroundColor:{red:.9,green:.9,blue:.9}}},fields:"userEnteredFormat(textFormat,backgroundColor)"}},{autoResizeDimensions:{dimensions:{sheetId:0,dimension:"COLUMNS",startIndex:0,endIndex:e[0].length}}}]};return await window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:l,resource:f}),{spreadsheetId:l,spreadsheetUrl:r}},kC=async(n,e)=>{if(!window.gapi)throw new Error("Google API not loaded");await window.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:n,range:"Sheet1"});const i={values:e};await window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:n,range:"Sheet1!A1",valueInputOption:"RAW",resource:i})},DC=async n=>{if(!window.gapi)throw new Error("Google API not loaded");return(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:n,range:"Sheet1!A:AZ"})).result.values},IC=({isOpen:n,onClose:e})=>{const[i,l]=K.useState(0);if(!n)return null;const r=`
function doGet(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
  var data = sheet.getDataRange().getValues();
  return ContentService.createTextOutput(JSON.stringify(data)).setMimeType(ContentService.MimeType.JSON);
}

function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
  var json = JSON.parse(e.postData.contents);
  
  // Clear all data first
  sheet.clear();
  
  // Write new data
  if (json.values && json.values.length > 0) {
    sheet.getRange(1, 1, json.values.length, json.values[0].length).setValues(json.values);
    
    // Formatting Header
    var header = sheet.getRange(1, 1, 1, json.values[0].length);
    header.setFontWeight("bold");
    header.setBackground("#f3f4f6");
  }
  
  return ContentService.createTextOutput(JSON.stringify({result: "success"})).setMimeType(ContentService.MimeType.JSON);
}
  `.trim(),u=[{title:"1.    (Apps Script)",icon:a.jsx(Nb,{size:24}),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"  Google Sheet  ( )     ."}),a.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg border border-gray-200 text-sm space-y-2",children:[a.jsxs("p",{children:["1.     : ",a.jsx("span",{className:"font-bold",children:"Extensions ()"}),"."]}),a.jsxs("p",{children:["2. : ",a.jsx("span",{className:"font-bold",children:"Apps Script"}),"."]}),a.jsx("p",{children:"3.       ."})]})]})},{title:"2.   ",icon:a.jsx(Np,{size:24}),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"            :"}),a.jsxs("div",{className:"relative bg-gray-900 rounded-lg p-4 overflow-hidden",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(r),className:"absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white p-2 rounded transition-colors",title:" ",children:a.jsx(Np,{size:16})}),a.jsx("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto h-48 custom-scrollbar",children:r})]}),a.jsx("p",{className:"text-xs text-center text-gray-500",children:"   (Save icon)  ."})]})},{title:"3.  (Deploy) -  ",icon:a.jsx(Gb,{size:24}),content:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 text-sm space-y-3 text-blue-900",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold border-b border-blue-200 pb-2",children:[a.jsx(N1,{size:16,className:"rotate-90"}),"  :"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsxs("li",{children:["   ",a.jsx("span",{className:"bg-blue-600 text-white px-2 py-0.5 rounded text-xs",children:"Deploy"}),"  ."]}),a.jsxs("li",{children:[" ",a.jsx("span",{className:"font-bold",children:"New deployment"}),"."]}),a.jsxs("li",{children:["   (Select type)  ",a.jsx("span",{className:"font-bold",children:"Web app"}),"."]}),a.jsx("li",{children:"  Description : Mufattish."}),a.jsxs("li",{children:[a.jsx("span",{className:"text-red-600 font-bold block mt-1",children:" :"}),"  ",a.jsx("span",{className:"font-bold",children:"Who has access"})," :",a.jsx("br",{}),a.jsx("span",{className:"bg-yellow-200 px-1 rounded font-bold",children:"Anyone ()"})]}),a.jsxs("li",{children:[" ",a.jsx("span",{className:"font-bold",children:"Deploy"}),"."]})]})]})})},{title:"4.   ",icon:a.jsx(_p,{size:24}),content:a.jsxs("div",{className:"space-y-5 text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["   Deploy     (Authorize access).",a.jsx("br",{}),"     Advanced ",">"," Go to (unsafe) ."]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-xl",children:[a.jsx("h4",{className:"font-bold text-green-800 mb-2",children:"  Web App URL"}),a.jsx("p",{className:"text-xs text-green-700 mb-2",children:"  : ...script.google.com/macros/s"}),a.jsx("div",{className:"bg-white p-2 rounded border border-dashed border-green-300 text-gray-400 text-xs truncate",children:"https://script.google.com/macros/s/AKfycbx.../exec"})]}),a.jsx("p",{className:"font-bold text-gray-800",children:'   "".     !'})]})}];return a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-gray-50 p-4 border-b flex justify-between items-center",children:[a.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsxs("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:[" ",i+1," / ",u.length]})," Google Sheet (  )"]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 bg-white p-1 rounded-full border hover:bg-gray-100",children:a.jsx(zo,{size:18})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"text-green-600 bg-green-50 p-3 rounded-xl",children:u[i].icon}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u[i].title})]}),a.jsx("div",{className:"animate-in slide-in-from-right-4 duration-300",children:u[i].content})]}),a.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>l(Math.max(0,i-1)),disabled:i===0,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",children:[a.jsx(Ju,{size:16,className:"rotate-180"}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"flex gap-1",children:u.map((f,p)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${p===i?"bg-green-600 w-4":"bg-gray-300"}`},p))}),i<u.length-1?a.jsxs("button",{onClick:()=>l(Math.min(u.length-1,i+1)),className:"flex items-center gap-1 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 shadow-sm",children:[a.jsx("span",{children:""}),a.jsx($u,{size:16,className:"rotate-180"})]}):a.jsxs("button",{onClick:e,className:"flex items-center gap-1 px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black shadow-sm",children:[a.jsx("span",{children:""}),a.jsx(_p,{size:16})]})]})]})})},pu=n=>{var e,i;if(!n)return"   ";if(typeof n=="string")return n;if(n instanceof Error)return n.message;if((i=(e=n.result)==null?void 0:e.error)!=null&&i.message&&typeof n.result.error.message=="string")return n.result.error.message;if(n.error){if(typeof n.error=="string")return n.error;if(typeof n.error=="object"&&n.error.message&&typeof n.error.message=="string")return n.error.message}if(n.message&&typeof n.message=="string")return n.message;try{const l=JSON.stringify(n,null,2);return l==="{}"?"   (Unknown Error)":l}catch{return"   "}},UC=({teachers:n,reportsMap:e,tenureReportsMap:i,onRestore:l,currentReport:r,isConnected:u,onConnectionChange:f,isAutoSync:p,onAutoSyncChange:x})=>{const[g,v]=K.useState(!1),[b,_]=K.useState("idle"),[S,w]=K.useState(""),[C,O]=K.useState(!1),J=K.useRef(null),[q,G]=K.useState(!1),[H,ee]=K.useState(""),[re,Z]=K.useState(""),[ue,oe]=K.useState("");K.useEffect(()=>{const M=localStorage.getItem("mufattish_sheet_id"),B=localStorage.getItem("mufattish_client_id"),W=localStorage.getItem("mufattish_sheets_api_key");M&&oe(M),B&&Z(B),W&&ee(W),(!B||!W)&&G(!0)},[]);const se=()=>{const M=!p;x(M),localStorage.setItem("mufattish_auto_sync",String(M))},P=async(M=!0)=>{if(_("idle"),w(""),!H||!re){_("error"),w("   API  Client ID   ."),G(!0);return}const B=H.trim(),W=re.trim();if(B.includes(".apps.googleusercontent.com")){_("error"),w(':    "Client ID"   "API Key".    .');return}if(W.startsWith("AIza")){_("error"),w(':    "API Key"   "Client ID".    .');return}v(!0);try{await rx(B,W),M?await zu(!1):await cx()||await zu(!1),f(!0),localStorage.setItem("mufattish_client_id",W),localStorage.setItem("mufattish_sheets_api_key",B),_("success"),w("   Google !"),G(!1)}catch(de){console.error(de),_("error"),w(` : ${pu(de)}`),f(!1)}finally{v(!1)}},ie=async()=>{if(!(!u&&(await P(!0),!u))){v(!0),w("   Google Sheet...");try{n.length===0&&console.warn("Creating empty sheet...");const M=Xu(n,r,e),{spreadsheetId:B,spreadsheetUrl:W}=await MC("   ",M);oe(B),localStorage.setItem("mufattish_sheet_id",B),_("success"),w("      ."),window.open(W,"_blank")}catch(M){_("error"),w(`  : ${pu(M)}`)}finally{v(!1)}}},pe=async()=>{if(!u)try{await P(!0)}catch{return}if(!ue){_("error"),w("    (Spreadsheet ID).");return}v(!0),w("    Google Sheet...");try{const M=await DC(ue),{teachers:B,reportsMap:W}=M0(M);if(B.length===0)throw new Error("     .");l(B,W,i),_("success"),w(`  ! (${B.length} )`)}catch(M){_("error"),w(`  : ${pu(M)}`)}finally{v(!1)}},I=()=>{const M={version:"1.0",date:new Date().toISOString(),teachers:n,reportsMap:e,tenureReportsMap:i,settings:{inspectorName:localStorage.getItem("mufattish_inspector_name"),signature:localStorage.getItem("mufattish_signature"),isGold:localStorage.getItem("mufattish_is_gold")==="true"}},B=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),W=URL.createObjectURL(B),de=document.createElement("a");de.href=W,de.download=`mufattish_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),_("success"),w("    .")},D=M=>{var de;const B=(de=M.target.files)==null?void 0:de[0];if(!B)return;const W=new FileReader;W.onload=j=>{var $;try{const te=JSON.parse(($=j.target)==null?void 0:$.result);if(te.teachers&&Array.isArray(te.teachers))window.confirm("         .")&&(l(te.teachers,te.reportsMap||{},te.tenureReportsMap||{}),te.settings&&(te.settings.inspectorName&&localStorage.setItem("mufattish_inspector_name",te.settings.inspectorName),te.settings.signature&&localStorage.setItem("mufattish_signature",te.settings.signature),te.settings.isGold&&localStorage.setItem("mufattish_is_gold","true")),_("success"),w(`  : ${te.teachers.length} .`));else throw new Error("   ")}catch{_("error"),w("    .")}J.current&&(J.current.value="")},W.readAsText(B)},E=S.toLowerCase().includes("invalid_request")||S.includes("400");return a.jsxs("div",{className:"p-8 max-w-5xl mx-auto animate-in fade-in duration-500",children:[a.jsx(IC,{isOpen:C,onClose:()=>O(!1)}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg text-white",children:a.jsx(Cu,{size:40})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 font-serif",children:"  "}),a.jsx("p",{className:"text-gray-500 max-w-lg mx-auto",children:"       ."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"bg-green-50 p-4 border-b border-green-100 flex items-center justify-between",children:[a.jsxs("h2",{className:"font-bold text-green-900 flex items-center gap-2",children:[a.jsx(vb,{size:20}),"Google Sheets ()"]}),a.jsx("div",{className:`w-3 h-3 rounded-full ${u?"bg-green-500 animate-pulse":"bg-red-400"}`,title:u?"":" "})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px]",children:"      Google Sheet  .      ."}),!u&&a.jsx("div",{className:"mb-4",children:a.jsx("button",{onClick:()=>q?P(!0):G(!0),className:"w-full bg-green-700 text-white py-2 rounded-lg font-bold hover:bg-green-800 transition-colors",children:q?" ":" "})}),q&&a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border mb-4 text-sm animate-in slide-in-from-top-2",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{placeholder:"Client ID",className:"w-full p-2 border rounded",value:re,onChange:M=>Z(M.target.value)}),a.jsx("input",{placeholder:"API Key",className:"w-full p-2 border rounded",value:H,onChange:M=>ee(M.target.value)}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:()=>O(!0),className:"text-blue-600 text-xs underline",children:"  "}),a.jsx("button",{onClick:()=>G(!1),className:"text-gray-500 text-xs",children:""})]})]})}),u&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{placeholder:"Spreadsheet ID ()",className:"w-full p-2 border rounded text-xs font-mono mb-2",value:ue,onChange:M=>{oe(M.target.value),localStorage.setItem("mufattish_sheet_id",M.target.value)}}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:ie,className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-1 hover:bg-green-700",disabled:g,children:[a.jsx(Mb,{size:14}),"  "]}),a.jsxs("button",{onClick:pe,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-1 hover:bg-blue-700",disabled:g||!ue,children:[a.jsx(Ku,{size:14,className:g?"animate-spin":""}),"  (Restore)"]})]}),a.jsxs("div",{className:`flex items-center justify-between p-2 rounded border mt-2 ${p?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"  (Auto Save)"}),a.jsx("button",{onClick:se,className:`w-8 h-4 rounded-full p-0.5 transition-colors flex ${p?"bg-green-500 justify-end":"bg-gray-300 justify-start"}`,children:a.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative group",children:[a.jsx("div",{className:"bg-purple-50 p-4 border-b border-purple-100 flex items-center justify-between",children:a.jsxs("h2",{className:"font-bold text-purple-900 flex items-center gap-2",children:[a.jsx(Bb,{size:20}),"   (JSON)"]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px]",children:"         .     ."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:I,className:"w-full bg-purple-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors shadow-sm",children:[a.jsx(b0,{size:20}),"   (Backup)"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:".json",ref:J,onChange:D,className:"hidden"}),a.jsxs("button",{onClick:()=>{var M;return(M=J.current)==null?void 0:M.click()},className:"w-full bg-white border-2 border-purple-100 text-purple-700 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-purple-50 transition-colors",children:[a.jsx(j0,{size:20}),"  (Restore)"]})]})]})]})]})]}),b!=="idle"&&a.jsxs("div",{className:`mt-8 p-4 rounded-xl flex items-start gap-3 animate-in slide-in-from-bottom-2 
                    ${b==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[b==="success"?a.jsx(Lo,{size:24,className:"shrink-0 mt-1"}):a.jsx(Uo,{size:24,className:"shrink-0 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold",children:S}),E&&b==="error"&&a.jsxs("div",{className:"mt-2 text-sm bg-white/50 p-2 rounded border border-red-200",children:[a.jsxs("p",{className:"font-bold flex items-center gap-1",children:[a.jsx(A0,{size:14})," :"]}),a.jsx("p",{children:"     Google Console."})]}),b==="success"&&ue&&u&&a.jsx("a",{href:`https://docs.google.com/spreadsheets/d/${ue}`,target:"_blank",rel:"noreferrer",className:"text-xs underline mt-1 block hover:text-green-900",children:" "})]})]})]})},LC=({teachers:n,reportsMap:e,onNavigateToPromotions:i,fullTeacherCount:l,selectedSchool:r})=>{const[u,f]=K.useState("modern"),p=new Date().getFullYear(),x=n.length,g=K.useMemo(()=>x===0?0:(n.reduce((D,E)=>D+(E.lastMark||0),0)/x).toFixed(2),[n]),v=K.useMemo(()=>{const I=new Set;return Object.values(e).forEach(D=>{D.school&&I.add(D.school.trim())}),I.size},[e]),b=K.useMemo(()=>{const I={titulaire:0,contractuel:0,stagiere:0};return n.forEach(D=>{(D.status==="titulaire"||D.status==="contractuel"||D.status==="stagiere")&&I[D.status]++}),I},[n]),_=K.useMemo(()=>{const I={count:0,preparation:{good:0,medium:0,weak:0},objectives:{full:0,partial:0,none:0},registers:{monitored:0,notMonitored:0},board:{organized:0,random:0},notebooks:{good:0,medium:0,bad:0}};return Object.values(e).forEach(D=>{var E,M;if(D.reportModel==="legacy"&&D.legacyData){if(!n.some(j=>j.id===D.teacherId))return;I.count++;const B=D.legacyData.preparationValue;B===""?I.preparation.good++:B===""||B===""?I.preparation.medium++:I.preparation.weak++;const W=D.legacyData.objectivesAchieved;W===" "?I.objectives.full++:W===" "||W===" "?I.objectives.partial++:I.objectives.none++,(E=D.legacyData.registersMonitored)!=null&&E.includes("")?I.registers.monitored++:I.registers.notMonitored++,(M=D.legacyData.boardWork)!=null&&M.includes("")?I.board.organized++:I.board.random++;const de=D.legacyData.notebooksCare;de===""?I.notebooks.good++:de===""||de===""?I.notebooks.medium++:I.notebooks.bad++}}),I},[e,n]),S=K.useMemo(()=>{const I={};n.forEach(E=>{const M=e[E.id];if(M&&M.level&&M.studentCount){const B=M.level.trim();I[B]=(I[B]||0)+M.studentCount}});const D=[" "," "," "," "," "," "];return Object.entries(I).map(([E,M])=>({name:E,count:M})).sort((E,M)=>{const B=D.indexOf(E.name),W=D.indexOf(M.name);return(B===-1?99:B)-(W===-1?99:W)})},[n,e]),w=K.useMemo(()=>Math.max(...S.map(I=>I.count),1),[S]),C=K.useMemo(()=>{const I={};return n.forEach(D=>{const E=D.degree||" ";I[E]=(I[E]||0)+1}),Object.entries(I).map(([D,E])=>({name:D,count:E})).sort((D,E)=>E.count-D.count).slice(0,6)},[n]),O=K.useMemo(()=>Math.max(...C.map(I=>I.count),1),[C]),J=K.useMemo(()=>{const I=[{label:"  5  ()",min:0,max:5,count:0,color:"bg-blue-400"},{label:"5 - 15  ()",min:5,max:15,count:0,color:"bg-indigo-500"},{label:"15 - 25  ()",min:15,max:25,count:0,color:"bg-purple-500"},{label:"+25  ()",min:25,max:100,count:0,color:"bg-amber-500"}];return n.forEach(D=>{if(D.recruitmentDate){const E=new Date(D.recruitmentDate),M=(new Date().getTime()-E.getTime())/(1e3*60*60*24*365.25),B=I.find(W=>M>=W.min&&M<W.max);B&&B.count++}}),I},[n]),q=K.useMemo(()=>{const I={count:0,tech:0,control:0,pedagogy:0},D={count:0,tech:0,control:0,pedagogy:0},E=["",""," "],M=["","",""," "],B=[""," "," "];n.forEach(de=>{const j=e[de.id];if(!j||!de.recruitmentDate||j.reportModel==="legacy")return;const $=new Date(de.recruitmentDate),xe=(new Date().getTime()-$.getTime())/(1e3*60*60*24*365.25)<=10?I:D,be=Te=>{let Qe=0,ze=0;return j.observations.forEach(yt=>{Te.some(vt=>yt.category.includes(vt)||yt.criteria.includes(vt))&&yt.score!==null&&(Qe+=yt.score,ze+=2)}),ze>0?Qe/ze*100:0};xe.count++,xe.tech+=be(E),xe.control+=be(M),xe.pedagogy+=be(B)});const W=de=>{de.count!==0&&(de.tech/=de.count,de.control/=de.count,de.pedagogy/=de.count)};return W(I),W(D),{juniors:I,seniors:D}},[n,e]),G=K.useMemo(()=>{const I=[{label:"  10",min:0,max:9.99,count:0,color:"bg-red-400"},{label:"10 - 12",min:10,max:11.99,count:0,color:"bg-orange-400"},{label:"12 - 14",min:12,max:13.99,count:0,color:"bg-yellow-400"},{label:"14 - 16",min:14,max:15.99,count:0,color:"bg-blue-400"},{label:"  16",min:16,max:20,count:0,color:"bg-green-400"}];n.forEach(E=>{const M=E.lastMark||0,B=I.find(W=>M>=W.min&&M<=W.max);B&&B.count++});const D=Math.max(...I.map(E=>E.count))||1;return{ranges:I,maxCount:D}},[n]),H=K.useMemo(()=>{const I=["","",""," ","",""," "," ",""],D={};return I.forEach(E=>D[E]={sum:0,count:0}),n.forEach(E=>{const M=e[E.id];M&&M.reportModel!=="legacy"&&M.observations.forEach(B=>{let W="";B.category===""?W="":B.category===""?W="":B.category===""?W="":B.category===" "?W=" ":B.category.includes("")?W="":B.category.includes("")?W="":B.category===" "?W=" ":B.category===" "?W=" ":B.category.includes("")&&(W=""),W&&B.score!==null&&(D[W].sum+=B.score,D[W].count+=1)})}),I.map(E=>{const M=D[E],B=M.count>0?M.sum/M.count/2*100:0;return{domain:E,value:B}})},[n,e]),ee=K.useMemo(()=>{const I={};return n.forEach(D=>{const E=e[D.id];E&&E.reportModel!=="legacy"&&E.observations.forEach(M=>{M.score!==null&&(I[M.criteria]||(I[M.criteria]={sum:0,count:0,category:M.category}),I[M.criteria].sum+=M.score,I[M.criteria].count+=1)})}),Object.entries(I).map(([D,E])=>({name:D,category:E.category,avg:E.sum/E.count/2*100})).sort((D,E)=>D.avg-E.avg).slice(0,5)},[n,e]),re=K.useMemo(()=>{const I={};return Object.values(e).forEach(D=>{if(D.school&&D.finalMark){const E=D.school.trim();I[E]||(I[E]={totalMark:0,count:0}),I[E].totalMark+=D.finalMark,I[E].count+=1}}),Object.entries(I).map(([D,E])=>({name:D,avg:E.totalMark/E.count,count:E.count})).sort((D,E)=>E.avg-D.avg)},[e]),Z=K.useMemo(()=>{if(!r)return null;const I=re.findIndex(D=>D.name===r);return I===-1?null:{rank:I+1,total:re.length,data:re[I]}},[r,re]),ue=K.useMemo(()=>n.filter(I=>{if(I.status!=="titulaire"||!I.echelonDate||!I.echelon)return!1;const D=new Date(I.echelonDate);if(isNaN(D.getTime()))return!1;const E=new Date(D);E.setFullYear(D.getFullYear()+2);const M=new Date(p,11,31);if(E>M)return!1;const W=13+parseInt(I.echelon)*.5;return I.lastMark<W}).length,[n,p]),oe=x||1,se=b.titulaire/oe*100,P=se+b.contractuel/oe*100,ie=`conic-gradient(#10b981 0% ${se}%, #f97316 ${se}% ${P}%, #3b82f6 ${P}% 100%)`,pe=I=>{if(I.length===0)return"";const D=I.length,E=80,M=100,B=100;return I.map((W,de)=>{const j=Math.PI*2*de/D-Math.PI/2,$=Math.max(W.value,10),te=M+E*($/100)*Math.cos(j),fe=B+E*($/100)*Math.sin(j);return`${te},${fe}`}).join(" ")};return a.jsxs("div",{className:"p-8 h-full overflow-y-auto bg-gray-50/50",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 border-b pb-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-serif",children:"   "}),r&&a.jsxs("p",{className:"text-indigo-600 font-bold mt-1 flex items-center gap-2 animate-in slide-in-from-right-4",children:[a.jsx(jo,{size:16}),"  : ",r]})]}),a.jsxs("div",{className:"bg-white p-1 rounded-xl border border-gray-200 shadow-sm flex",children:[a.jsxs("button",{onClick:()=>f("modern"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="modern"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:[a.jsx(n1,{size:16}),"  ()"]}),a.jsxs("button",{onClick:()=>f("legacy"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="legacy"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`,children:[a.jsx(e1,{size:16}),"  ()"]})]})]}),r&&Z&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-indigo-800 rounded-2xl shadow-xl p-6 text-white mb-8 animate-in zoom-in-95 duration-500 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(nb,{size:150})}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10",children:[a.jsxs("div",{className:"flex-1 border-l border-white/20 pl-6",children:[a.jsx("h2",{className:"text-2xl font-bold font-serif mb-2",children:r}),a.jsxs("div",{className:"flex items-center gap-2 opacity-80 mb-4",children:[a.jsx(_0,{size:16}),a.jsx("span",{className:"text-sm",children:"  "})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center min-w-[80px]",children:[a.jsx("span",{className:"block text-2xl font-bold text-yellow-400",children:Z.data.avg.toFixed(2)}),a.jsx("span",{className:"text-[10px] uppercase opacity-70",children:" "})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center min-w-[80px]",children:[a.jsx("span",{className:"block text-2xl font-bold",children:Z.data.count}),a.jsx("span",{className:"text-[10px] uppercase opacity-70",children:" "})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 border-l border-white/20 pl-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs uppercase opacity-70 mb-1",children:" "}),a.jsxs("div",{className:"flex items-baseline gap-1 justify-center",children:[a.jsx("span",{className:"text-4xl font-bold",children:Z.rank}),a.jsxs("span",{className:"text-sm opacity-60",children:["/ ",Z.total]})]})]}),a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center border-4 ${Z.rank===1?"border-yellow-400 text-yellow-400":Z.rank<=3?"border-gray-300 text-gray-300":"border-indigo-400 text-indigo-300"}`,children:a.jsx(X1,{size:32})})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsxs("p",{className:"text-sm italic opacity-90 mb-2",children:['"',Z.rank===1?" !    .":Z.rank>Z.total/2?"      .":"      .",'"']}),a.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mt-2",children:a.jsx("div",{className:`h-2 rounded-full ${Z.rank===1?"bg-yellow-400":"bg-blue-400"}`,style:{width:`${Z.data.avg/20*100}%`}})}),a.jsx("span",{className:"text-[10px] mt-1 text-right opacity-60",children:"  "})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-blue-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:r?" ":" "}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:x})]}),a.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:a.jsx(s_,{size:24})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-green-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:" "}),a.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[g,a.jsx("span",{className:"text-sm text-gray-400 font-normal",children:"/20"})]})]}),a.jsx("div",{className:"bg-green-50 p-3 rounded-full text-green-600",children:a.jsx(Eu,{size:24})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-purple-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-bold mb-1",children:""}),a.jsx("p",{className:"text-3xl font-bold text-purple-900",children:r?"1":v})]}),a.jsx("div",{className:"bg-purple-50 p-3 rounded-full text-purple-600",children:a.jsx(jo,{size:24})})]}),a.jsxs("div",{onClick:i,className:"bg-indigo-600 p-6 rounded-2xl shadow-md border border-indigo-700 flex items-center justify-between cursor-pointer hover:bg-indigo-700 transition-colors group relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10 text-white",children:[a.jsx("p",{className:"text-indigo-200 text-sm font-bold mb-1",children:" "}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("p",{className:"text-3xl font-bold",children:ue}),a.jsx("span",{className:"text-xs mb-1.5 opacity-80",children:""})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-indigo-100 font-bold group-hover:translate-x-[-2px] transition-transform",children:[a.jsx("span",{children:" "}),a.jsx($u,{size:10})]})]}),a.jsx("div",{className:`bg-indigo-500/50 p-3 rounded-full text-white relative z-10 ${ue>0?"animate-pulse":""}`,children:a.jsx(Sp,{size:24})}),a.jsx(Sp,{size:80,className:"absolute -bottom-4 -left-4 text-indigo-500 opacity-20"})]})]}),u==="legacy"&&a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:_.count===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-300 text-gray-400",children:[a.jsx(Ao,{size:48,className:"mx-auto mb-3 opacity-20"}),a.jsx("p",{children:"      ."})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-orange-100",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Ao,{className:"text-orange-500",size:20}),"  "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"font-bold text-gray-700",children:" "}),a.jsx("span",{className:"font-bold text-green-600",children:_.preparation.good})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:a.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${_.preparation.good/_.count*100}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"font-bold text-gray-700",children:" / "}),a.jsx("span",{className:"font-bold text-yellow-600",children:_.preparation.medium})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:a.jsx("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:`${_.preparation.medium/_.count*100}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"font-bold text-gray-700",children:" / "}),a.jsx("span",{className:"font-bold text-red-600",children:_.preparation.weak})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:a.jsx("div",{className:"bg-red-500 h-2.5 rounded-full",style:{width:`${_.preparation.weak/_.count*100}%`}})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-blue-100",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(B1,{className:"text-blue-500",size:20}),"  "]}),a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[a.jsxs("div",{className:"relative w-32 h-32",children:[a.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{className:"text-gray-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),a.jsx("path",{className:"text-blue-500",strokeDasharray:`${_.objectives.full/_.count*100}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"})]}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[Math.round(_.objectives.full/_.count*100),"%"]}),a.jsx("span",{className:"text-[10px] text-gray-500",children:" "})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsxs("span",{children:[" (",_.objectives.full,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),a.jsxs("span",{children:["/  (",_.objectives.partial+_.objectives.none,")"]})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-purple-100",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(E0,{className:"text-purple-500",size:20}),"  "]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[a.jsx("p",{className:"text-xs text-purple-800 font-bold mb-2",children:" "}),a.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(_.registers.monitored/_.count*100),"%"]}),a.jsx("p",{className:"text-[10px] text-gray-500",children:" "})]}),a.jsxs("div",{className:"bg-indigo-50 p-3 rounded-lg text-center",children:[a.jsx("p",{className:"text-xs text-indigo-800 font-bold mb-2",children:" "}),a.jsxs("div",{className:"text-2xl font-bold text-indigo-900",children:[Math.round(_.board.organized/_.count*100),"%"]}),a.jsx("p",{className:"text-[10px] text-gray-500",children:" "})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-teal-100",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(zi,{className:"text-teal-500",size:20}),"  "]}),a.jsxs("div",{className:"flex items-end justify-between h-32 px-4 gap-4",children:[a.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[a.jsx("div",{className:"w-full bg-teal-500 rounded-t-lg transition-all",style:{height:`${_.notebooks.good/_.count*100}%`}}),a.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:_.notebooks.good}),a.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]}),a.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[a.jsx("div",{className:"w-full bg-yellow-400 rounded-t-lg transition-all",style:{height:`${_.notebooks.medium/_.count*100}%`}}),a.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:_.notebooks.medium}),a.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]}),a.jsxs("div",{className:"w-1/3 bg-teal-100 rounded-t-lg relative group h-full flex items-end justify-center",children:[a.jsx("div",{className:"w-full bg-red-400 rounded-t-lg transition-all",style:{height:`${_.notebooks.bad/_.count*100}%`}}),a.jsx("span",{className:"absolute bottom-2 text-white font-bold text-sm drop-shadow-md",children:_.notebooks.bad}),a.jsx("span",{className:"absolute -bottom-6 text-xs font-bold text-gray-600",children:""})]})]})]})]})}),u==="modern"&&a.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-red-100 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-red-400"}),a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(A0,{className:"text-red-500",size:20}),"  ( )"]}),a.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"     "}),a.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((I,D)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[a.jsx("span",{className:"font-bold text-gray-700 truncate ml-2",title:I.name,children:I.name}),a.jsxs("span",{className:"font-bold text-red-600 text-xs",children:[I.avg.toFixed(0),"% "]})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:a.jsx("div",{className:"bg-red-400 h-2 rounded-full transition-all duration-1000",style:{width:`${I.avg}%`}})}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:I.category})]},D)):a.jsxs("div",{className:"text-center py-10 text-gray-400",children:[a.jsx(Lo,{size:40,className:"mx-auto mb-2 opacity-20"}),a.jsx("p",{className:"text-sm",children:"     "})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(C1,{className:"text-indigo-500",size:20}),"  (",r?"":" ",")"]}),a.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"     "}),a.jsx("div",{className:"flex justify-center relative",children:a.jsxs("svg",{viewBox:"0 0 200 200",className:"w-64 h-64 overflow-visible",children:[[20,40,60,80,100].map(I=>a.jsx("circle",{cx:"100",cy:"100",r:I*.8,fill:"none",stroke:"#e5e7eb",strokeDasharray:"4 4"},I)),H.map((I,D)=>{const E=Math.PI*2*D/H.length-Math.PI/2,M=100+80*Math.cos(E),B=100+80*Math.sin(E);return a.jsx("line",{x1:"100",y1:"100",x2:M,y2:B,stroke:"#f3f4f6"},D)}),a.jsx("polygon",{points:pe(H),fill:"rgba(79, 70, 229, 0.2)",stroke:"#4f46e5",strokeWidth:"2"}),H.map((I,D)=>{const E=Math.PI*2*D/H.length-Math.PI/2,M=100+95*Math.cos(E),B=100+95*Math.sin(E);return a.jsx("text",{x:M,y:B,textAnchor:"middle",dominantBaseline:"middle",className:"text-[8px] font-bold fill-gray-600",children:I.domain},D)})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(zi,{className:"text-blue-500",size:20}),"   "]}),a.jsx("div",{className:"flex-1 flex items-end justify-between gap-4 px-2 pb-2 min-h-[150px]",children:S.length>0?S.map((I,D)=>{const E=I.count/w*100;return a.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative z-10 h-full",children:[a.jsxs("div",{className:"mb-1 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] font-bold bg-gray-800 text-white px-1.5 py-0.5 rounded absolute -top-8 whitespace-nowrap z-20",children:[I.count," "]}),a.jsx("div",{className:"w-full bg-blue-100 rounded-t-md hover:bg-blue-300 transition-all duration-500 relative",style:{height:`${E>10?E:10}%`},children:a.jsx("div",{className:"absolute bottom-1 w-full text-center text-[9px] font-bold text-blue-700",children:I.count})}),a.jsx("p",{className:"text-[9px] text-gray-500 mt-2 text-center h-8 leading-tight flex items-center justify-center",children:I.name.replace("","")})]},D)}):a.jsx("div",{className:"w-full text-center text-gray-300 text-sm italic",children:"    "})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(Au,{className:"text-emerald-500",size:20})," "]}),a.jsx("div",{className:"space-y-4",children:C.length>0?C.map((I,D)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[a.jsx("span",{className:"font-bold text-gray-700 truncate text-xs",title:I.name,children:I.name}),a.jsx("span",{className:"font-bold text-gray-500 text-xs",children:I.count})]}),a.jsx("div",{className:"w-full bg-gray-50 rounded-full h-2",children:a.jsx("div",{className:"bg-emerald-400 h-2 rounded-full transition-all duration-1000",style:{width:`${I.count/O*100}%`}})})]},D)):a.jsx("div",{className:"text-center text-gray-300 text-sm italic py-8",children:"   "})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 md:col-span-2 flex flex-col md:flex-row gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(Fu,{className:"text-amber-500",size:20}),"  "]}),a.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"    "}),a.jsx("div",{className:"flex flex-col gap-1 items-center",children:J.slice().reverse().map((I,D)=>{const E=x>0?I.count/x*100:0,M=Math.max(E,15);return a.jsxs("div",{className:"w-full flex justify-center group relative",children:[a.jsx("div",{className:`h-8 ${I.color} rounded-sm flex items-center justify-center text-white text-xs font-bold transition-all hover:scale-105 cursor-pointer shadow-sm`,style:{width:`${M}%`,minWidth:"120px"},title:`${I.label}: ${I.count} `,children:I.count}),a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-full pr-2 text-[10px] text-gray-400 w-32 hidden md:block",children:I.label})]},D)})}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center mt-4 md:hidden",children:J.map((I,D)=>a.jsxs("div",{className:"flex items-center gap-1 text-[9px]",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${I.color}`}),a.jsx("span",{children:I.label})]},D))})]}),a.jsx("div",{className:"w-px bg-gray-100 hidden md:block"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2 flex items-center gap-2",children:[a.jsx(Ob,{className:"text-cyan-500",size:20})," :   "]}),a.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"    "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-center mb-1",children:a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[a.jsx(x1,{size:12}),"  "]})}),a.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[a.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),a.jsx("div",{className:"w-1/2 flex justify-end",children:a.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.tech}%`}})}),a.jsx("div",{className:"w-1/2 flex justify-start",children:a.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.tech}%`}})})]}),a.jsxs("div",{className:"flex justify-between text-[9px] mt-1 text-gray-400",children:[a.jsx("span",{children:" (  10)"}),a.jsx("span",{children:" (  10)"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-center mb-1",children:a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[a.jsx(w0,{size:12}),"   "]})}),a.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[a.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),a.jsx("div",{className:"w-1/2 flex justify-end",children:a.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.control}%`}})}),a.jsx("div",{className:"w-1/2 flex justify-start",children:a.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.control}%`}})})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-center mb-1",children:a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex items-center gap-1",children:[a.jsx(T0,{size:12}),"  "]})}),a.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100 relative",children:[a.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-white z-10"}),a.jsx("div",{className:"w-1/2 flex justify-end",children:a.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${q.juniors.pedagogy}%`}})}),a.jsx("div",{className:"w-1/2 flex justify-start",children:a.jsx("div",{className:"h-full bg-amber-400",style:{width:`${q.seniors.pedagogy}%`}})})]})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col",children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(Eu,{className:"text-blue-500",size:20}),"  "]}),a.jsx("div",{className:"flex-1 flex items-end justify-between gap-2 px-2 pb-2 border-b border-gray-100 relative min-h-[150px]",children:G.ranges.map((I,D)=>{const E=I.count/G.maxCount*100;return a.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center group relative z-10 h-full",children:[a.jsx("div",{className:"mb-1 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] font-bold bg-gray-800 text-white px-1.5 py-0.5 rounded absolute -top-6",children:I.count}),a.jsx("div",{className:`w-full ${I.color} rounded-t-md transition-all duration-500 hover:opacity-80`,style:{height:`${E>5?E:5}%`}})]},D)})}),a.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mt-2 px-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-dashed",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-3",children:" "}),a.jsxs("div",{className:"flex items-center justify-center gap-6",children:[a.jsx("div",{className:"relative w-16 h-16 rounded-full border-4 border-gray-100",style:{background:x>0?ie:"#e5e7eb"}}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),a.jsxs("span",{className:"text-gray-600",children:[" (",b.titulaire,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),a.jsxs("span",{className:"text-gray-600",children:[" (",b.contractuel,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-gray-600",children:[" (",b.stagiere,")"]})]})]})]})]})]})]})})]})},Zg=({teachers:n,reportsMap:e})=>{const[i,l]=K.useState(new Date().getFullYear()),r=K.useMemo(()=>n.filter(f=>{if(f.status!=="titulaire"||!f.echelonDate||!f.echelon)return!1;const p=new Date(f.echelonDate);if(isNaN(p.getTime()))return!1;const x=new Date(p);x.setFullYear(p.getFullYear()+2);const g=new Date(i,11,31);if(x>g)return!1;const b=13+parseInt(f.echelon)*.5;return!(f.lastMark>=b)}).map(f=>{var v;const x=13+parseInt(f.echelon||"0")*.5,g=((v=e[f.id])==null?void 0:v.school)||" ";return{...f,maxAllowedMark:x,schoolName:g}}),[n,i,e]),u=()=>{window.print()};return a.jsxs("div",{className:"p-8 h-full overflow-y-auto bg-gray-50/50",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b pb-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-serif flex items-center gap-3",children:[a.jsx(Co,{className:"text-indigo-600",size:32}),"  "]}),a.jsx("p",{className:"text-gray-500 mt-2",children:"         ."})]}),a.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[a.jsxs("div",{className:"bg-white border border-indigo-200 rounded-lg p-1 flex items-center shadow-sm",children:[a.jsx("button",{onClick:()=>l(f=>f-1),className:"p-2 hover:bg-gray-100 rounded-md text-indigo-600",children:a.jsx(Ju,{size:20})}),a.jsxs("div",{className:"px-4 text-center",children:[a.jsx("span",{className:"text-xs text-gray-400 block font-bold",children:" "}),a.jsx("span",{className:"text-xl font-bold text-indigo-800",children:i})]}),a.jsx("button",{onClick:()=>l(f=>f+1),className:"p-2 hover:bg-gray-100 rounded-md text-indigo-600",children:a.jsx($u,{size:20})})]}),a.jsxs("button",{onClick:u,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-3 rounded-lg font-bold flex items-center gap-2 shadow-sm",children:[a.jsx(Zl,{size:18}),""]})]})]}),r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(f=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-indigo-100 overflow-hidden hover:shadow-md transition-all group",children:[a.jsxs("div",{className:"bg-indigo-50/50 p-4 border-b border-indigo-100 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:f.fullName}),a.jsxs("div",{className:"flex items-center gap-1.5 text-indigo-700 text-sm mt-1 font-medium",children:[a.jsx(jo,{size:14}),a.jsx("span",{children:f.schoolName})]})]}),a.jsxs("div",{className:"bg-white border border-indigo-200 text-indigo-800 text-xs px-3 py-1 rounded-full font-bold shadow-sm",children:[" ",f.echelon]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded-lg border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(y0,{size:16,className:"text-gray-400"}),a.jsx("span",{children:" "})]}),a.jsx("span",{className:"font-mono font-bold text-gray-800",children:f.echelonDate})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[a.jsxs("div",{className:"text-center p-2 rounded-lg bg-green-50 border border-green-100",children:[a.jsx("span",{className:"text-xs text-green-700 block mb-1",children:" "}),a.jsx("span",{className:"text-xl font-bold text-green-800",children:f.lastMark})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-red-50 border border-red-100",children:[a.jsx("span",{className:"text-xs text-red-700 block mb-1",children:" "}),a.jsx("span",{className:"text-xl font-bold text-red-800",children:f.maxAllowedMark})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-dashed flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(Y1,{size:14,className:"text-green-500"}),a.jsx("span",{children:"  : "}),a.jsxs("span",{className:"font-bold text-gray-800",children:[(f.maxAllowedMark-f.lastMark).toFixed(2)," "]})]})]})]},f.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[a.jsx(Lo,{size:64,className:"text-green-500 mb-4 opacity-20"}),a.jsxs("h3",{className:"text-xl font-bold text-gray-400",children:["      ",i]}),a.jsx("p",{className:"text-gray-400 mt-2",children:"          ."})]}),a.jsxs("div",{className:"hidden print:block fixed inset-0 bg-white z-50 p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"    ( )"}),a.jsxs("p",{className:"font-bold border-2 border-black inline-block px-4 py-1 mt-2",children:["  ",i," (  31/12/",i,")"]})]}),a.jsxs("table",{className:"w-full border-collapse border border-black text-sm",dir:"rtl",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border border-black p-2",children:""}),a.jsx("th",{className:"border border-black p-2",children:" "}),a.jsx("th",{className:"border border-black p-2",children:""}),a.jsx("th",{className:"border border-black p-2",children:""}),a.jsx("th",{className:"border border-black p-2",children:""}),a.jsx("th",{className:"border border-black p-2",children:" "}),a.jsx("th",{className:"border border-black p-2",children:""}),a.jsx("th",{className:"border border-black p-2",children:" "})]})}),a.jsx("tbody",{children:r.map((f,p)=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black p-2 text-center",children:p+1}),a.jsx("td",{className:"border border-black p-2 font-bold",children:f.fullName}),a.jsx("td",{className:"border border-black p-2",children:f.schoolName}),a.jsx("td",{className:"border border-black p-2 text-center",children:f.echelon}),a.jsx("td",{className:"border border-black p-2 text-center",children:f.echelonDate}),a.jsx("td",{className:"border border-black p-2 text-center",children:f.lastMark}),a.jsx("td",{className:"border border-black p-2 text-center",children:f.maxAllowedMark}),a.jsxs("td",{className:"border border-black p-2 text-center",children:["+",(f.maxAllowedMark-f.lastMark).toFixed(2)]})]},f.id))})]})]})]})},PC=({teacher:n,isOpen:e,onClose:i,onStartInspection:l,onStartLegacyInspection:r,onStartTenure:u,onUpdateTeacher:f})=>{const[p,x]=K.useState("");if(K.useEffect(()=>{n&&x(n.tenureDate||"")},[n]),!n)return null;const g=()=>{f&&f({...n,tenureDate:p})},v=C=>C?new Date(C).toLocaleDateString("ar-DZ",{year:"numeric",month:"long",day:"numeric"}):" ",_=(C=>{if(!C)return 0;const O=new Date(C),q=new Date().getTime()-O.getTime();return Math.floor(q/(1e3*60*60*24*365.25))})(n.recruitmentDate);let S=null;if(n.echelonDate){const C=new Date(n.echelonDate);C.setFullYear(C.getFullYear()+2),S=C}const w=S?S<=new Date:!1;return a.jsxs("div",{className:`fixed inset-0 z-[100] flex justify-end transition-all duration-500 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[a.jsx("div",{className:`absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,onClick:i}),a.jsxs("div",{className:`relative w-full max-w-md bg-gray-50 h-full shadow-2xl transform transition-transform duration-500 cubic-bezier(0.32, 0.72, 0, 1) flex flex-col border-l border-white/10 ${e?"translate-x-0":"translate-x-full"}`,dir:"rtl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white p-6 pb-8 relative overflow-hidden shrink-0",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-indigo-500/10 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),a.jsx("button",{onClick:i,className:"absolute top-5 left-5 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-all text-white/80 hover:text-white backdrop-blur-md",children:a.jsx(zo,{size:20})}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center mt-2",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"w-24 h-24 bg-white text-blue-900 rounded-full flex items-center justify-center text-4xl font-bold shadow-xl border-4 border-white/20 backdrop-blur-sm",children:n.fullName.charAt(0)}),a.jsx("div",{className:`absolute bottom-0 right-0 w-7 h-7 rounded-full border-4 border-slate-900 flex items-center justify-center text-white text-[10px]
                                ${n.status==="titulaire"?"bg-emerald-500":n.status==="contractuel"?"bg-orange-500":"bg-blue-500"}`,title:n.status==="titulaire"?"":" ",children:a.jsx(w0,{size:14})})]}),a.jsx("h2",{className:"text-2xl font-bold font-serif tracking-wide",children:n.fullName}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-blue-200 text-xs font-medium bg-blue-950/50 px-3 py-1 rounded-full border border-blue-800/50",children:[a.jsx(Fu,{size:12}),a.jsx("span",{children:n.rank})]})]})]}),a.jsxs("div",{className:"px-6 -mt-6 relative z-20 grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),a.jsx("span",{className:"text-xl font-bold text-slate-800",children:n.echelon||"-"})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),a.jsxs("div",{className:"flex items-baseline gap-0.5",children:[a.jsx("span",{className:`text-xl font-bold ${n.lastMark>=16?"text-emerald-600":n.lastMark>=13?"text-blue-600":"text-orange-600"}`,children:n.lastMark}),a.jsx("span",{className:"text-[10px] text-gray-400",children:"/20"})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-md border border-gray-100 flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:""}),a.jsxs("span",{className:"text-xl font-bold text-indigo-700",children:[_," ",a.jsx("span",{className:"text-[10px] font-normal text-gray-400",children:""})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:a.jsx(Yb,{size:20})}),a.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:" "})]}),a.jsxs("div",{className:"relative border-r-2 border-indigo-100 mr-3 space-y-8 pb-2",children:[a.jsxs("div",{className:"relative pr-8 group",children:[a.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-gray-300 group-hover:border-indigo-500 transition-colors z-10"}),a.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-indigo-100 group-hover:translate-x-[-4px]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("p",{className:"font-bold text-gray-800 text-sm",children:" "}),a.jsx("span",{className:"text-[10px] font-mono bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:v(n.recruitmentDate)})]}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(Hi,{size:12,className:"text-gray-400"}),"  "]})]})]}),n.status==="stagiere"&&a.jsxs("div",{className:"relative pr-8 group",children:[a.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-blue-300 group-hover:border-blue-500 transition-colors z-10"}),a.jsxs("div",{className:"bg-blue-50/30 p-4 rounded-2xl shadow-sm border border-blue-100 hover:shadow-md transition-all group-hover:translate-x-[-4px]",children:[a.jsx("div",{className:"flex justify-between items-center mb-1",children:a.jsxs("p",{className:"font-bold text-blue-900 text-sm flex items-center gap-1",children:[a.jsx(Au,{size:14}),"   "]})}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("input",{type:"date",value:p,onChange:C=>x(C.target.value),onBlur:g,className:"bg-white border border-blue-200 rounded px-2 py-1 text-xs outline-none focus:ring-1 focus:ring-blue-400 flex-1"})}),a.jsx("p",{className:"text-[9px] text-blue-600 mt-1",children:"     "})]})]}),n.currentRankDate&&a.jsxs("div",{className:"relative pr-8 group",children:[a.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-white rounded-full border-[3px] border-purple-300 group-hover:border-purple-500 transition-colors z-10"}),a.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all hover:border-purple-100 group-hover:translate-x-[-4px]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"   "}),a.jsx("span",{className:"text-[10px] font-mono bg-purple-50 text-purple-700 px-2 py-0.5 rounded-full",children:v(n.currentRankDate)})]}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(Eu,{size:12,className:"text-purple-400"}),n.rank]})]})]}),n.lastInspectionDate&&a.jsxs("div",{className:"relative pr-8 group",children:[a.jsx("div",{className:"absolute -right-[9px] top-1 w-4 h-4 bg-blue-100 rounded-full border-[3px] border-blue-500 z-10 shadow-sm"}),a.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-2xl shadow-sm border border-blue-100 hover:shadow-md transition-all group-hover:translate-x-[-4px]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("p",{className:"font-bold text-blue-900 text-sm",children:"  "}),a.jsx("span",{className:"text-[10px] font-mono bg-white text-blue-700 px-2 py-0.5 rounded-full shadow-sm border border-blue-100",children:v(n.lastInspectionDate)})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg border border-blue-100",children:[a.jsx(C0,{size:12,className:"text-yellow-500 fill-yellow-500"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.lastMark})]}),a.jsx("span",{className:"text-[10px] text-blue-400",children:" "})]})]})]}),S&&n.status==="titulaire"&&a.jsxs("div",{className:"relative pr-8 group",children:[a.jsx("div",{className:`absolute -right-[9px] top-1 w-4 h-4 rounded-full border-[3px] z-10 ${w?"bg-orange-100 border-orange-500 animate-pulse":"bg-gray-100 border-gray-300"}`}),a.jsxs("div",{className:`p-4 rounded-2xl border border-dashed transition-all group-hover:translate-x-[-4px] ${w?"bg-orange-50/50 border-orange-300":"bg-transparent border-gray-300"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("p",{className:`font-bold text-sm ${w?"text-orange-800":"text-gray-500"}`,children:["  ( ",parseInt(n.echelon||"0")+1,")"]}),w&&a.jsx(Uo,{size:14,className:"text-orange-500"})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[a.jsx(xb,{size:12}),"  : ",v(n.echelonDate||"")]}),w&&a.jsx("p",{className:"text-[10px] font-bold text-orange-600 mt-2 bg-white/50 inline-block px-2 py-1 rounded",children:"  (  )"})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 shrink-0 space-y-3 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] relative z-30",children:[a.jsxs("button",{onClick:()=>l(n),className:"w-full bg-slate-900 text-white font-bold text-base py-3.5 rounded-xl shadow-lg shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 hover:scale-[1.01] active:scale-[0.99] group",children:[a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"   "}),a.jsx(Xv,{size:18,className:"text-blue-400"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r&&a.jsxs("button",{onClick:()=>r(n),className:"w-full bg-amber-500 text-white font-bold text-xs py-3 rounded-xl shadow-md hover:bg-amber-600 transition-all flex items-center justify-center gap-2 border-b-4 border-amber-700 active:border-b-0 active:translate-y-1 group",children:[a.jsx(D1,{size:18,className:"text-amber-100 group-hover:rotate-12 transition-transform"}),a.jsx("span",{children:" "})]}),n.status==="stagiere"&&u?a.jsxs("button",{onClick:()=>u(n),className:"w-full bg-emerald-600 text-white font-bold text-xs py-3 rounded-xl shadow-md hover:bg-emerald-700 transition-all flex items-center justify-center gap-2 border-b-4 border-emerald-800 active:border-b-0 active:translate-y-1",children:[a.jsx(Au,{size:16}),a.jsx("span",{children:" "})]}):a.jsx("button",{onClick:i,className:"w-full text-slate-400 font-bold text-xs py-3 hover:text-slate-600 transition-colors",children:" "})]})]})]})]})},zC="modulepreload",OC=function(n){return"/"+n},Wg={},qi=function(e,i,l){let r=Promise.resolve();if(i&&i.length>0){let f=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));r=f(i.map(g=>{if(g=OC(g),g in Wg)return;Wg[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":zC,v||(_.as="script"),_.crossOrigin="",_.href=g,x&&_.setAttribute("nonce",x),document.head.appendChild(_),v)return new Promise((S,w)=>{_.addEventListener("load",S),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return r.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},qC=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>qi(async()=>{const{default:l}=await Promise.resolve().then(()=>Wl);return{default:l}},void 0).then(({default:l})=>l(...i)):e=fetch,(...i)=>e(...i)};class ad extends Error{constructor(e,i="FunctionsError",l){super(e),this.name=i,this.context=l}}class GC extends ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HC extends ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VC extends ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var BC=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};class FC{constructor(e,{headers:i={},customFetch:l}={}){this.url=e,this.headers=i,this.fetch=qC(l)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var l;return BC(this,void 0,void 0,function*(){try{const{headers:r,method:u,body:f}=i;let p={},x;f&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(p["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(p["Content-Type"]="application/json",x=JSON.stringify(f)));const g=yield this.fetch(`${this.url}/${e}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),r),body:x}).catch(S=>{throw new GC(S)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new HC(g);if(!g.ok)throw new VC(g);let b=((l=g.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield g.json():b==="application/octet-stream"?_=yield g.blob():b==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null}}catch(r){return{data:null,error:r}}})}}var $C=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=$C();const JC=Gi.fetch,od=Gi.fetch.bind(Gi),ux=Gi.Headers,YC=Gi.Request,KC=Gi.Response,Wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:ux,Request:YC,Response:KC,default:od,fetch:JC},Symbol.toStringTag,{value:"Module"}));class QC extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class XC{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=od:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let r=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,x;let g=null,v=null,b=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const J=await u.text();J===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=J:v=JSON.parse(J))}const C=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),O=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&O&&O.length>1&&(b=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,b=null,_=406,S="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const C=await u.text();try{g=JSON.parse(C),Array.isArray(g)&&u.status===404&&(v=[],g=null,_=200,S="OK")}catch{u.status===404&&C===""?(_=204,S="No Content"):g={message:C}}if(g&&this.isMaybeSingle&&(!((x=g==null?void 0:g.details)===null||x===void 0)&&x.includes("0 rows"))&&(g=null,_=200,S="OK"),g&&this.shouldThrowOnError)throw new QC(g)}return{error:g,data:v,count:b,status:_,statusText:S}});return this.shouldThrowOnError||(r=r.catch(u=>{var f,p,x;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(p=u==null?void 0:u.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=u==null?void 0:u.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,i)}}class ZC extends XC{select(e){let i=!1;const l=(e??"*").split("").map(r=>/\s/.test(r)&&!i?"":(r==='"'&&(i=!i),r)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:i=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${e}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:i,referencedTable:l=i}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,i,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${e}`),this.url.searchParams.set(f,`${i-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:i=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:f="text"}={}){var p;const x=[e?"analyze":null,i?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${g}"; options=${x};`,f==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Mi extends ZC{eq(e,i){return this.url.searchParams.append(e,`eq.${i}`),this}neq(e,i){return this.url.searchParams.append(e,`neq.${i}`),this}gt(e,i){return this.url.searchParams.append(e,`gt.${i}`),this}gte(e,i){return this.url.searchParams.append(e,`gte.${i}`),this}lt(e,i){return this.url.searchParams.append(e,`lt.${i}`),this}lte(e,i){return this.url.searchParams.append(e,`lte.${i}`),this}like(e,i){return this.url.searchParams.append(e,`like.${i}`),this}likeAllOf(e,i){return this.url.searchParams.append(e,`like(all).{${i.join(",")}}`),this}likeAnyOf(e,i){return this.url.searchParams.append(e,`like(any).{${i.join(",")}}`),this}ilike(e,i){return this.url.searchParams.append(e,`ilike.${i}`),this}ilikeAllOf(e,i){return this.url.searchParams.append(e,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(e,i){return this.url.searchParams.append(e,`ilike(any).{${i.join(",")}}`),this}is(e,i){return this.url.searchParams.append(e,`is.${i}`),this}in(e,i){const l=i.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${l})`),this}contains(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cs.{${i.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(i)}`),this}containedBy(e,i){return typeof i=="string"?this.url.searchParams.append(e,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(e,`cd.{${i.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(i)}`),this}rangeGt(e,i){return this.url.searchParams.append(e,`sr.${i}`),this}rangeGte(e,i){return this.url.searchParams.append(e,`nxl.${i}`),this}rangeLt(e,i){return this.url.searchParams.append(e,`sl.${i}`),this}rangeLte(e,i){return this.url.searchParams.append(e,`nxr.${i}`),this}rangeAdjacent(e,i){return this.url.searchParams.append(e,`adj.${i}`),this}overlaps(e,i){return typeof i=="string"?this.url.searchParams.append(e,`ov.${i}`):this.url.searchParams.append(e,`ov.{${i.join(",")}}`),this}textSearch(e,i,{config:l,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(e,`${u}fts${f}.${i}`),this}match(e){return Object.entries(e).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(e,i,l){return this.url.searchParams.append(e,`not.${i}.${l}`),this}or(e,{foreignTable:i,referencedTable:l=i}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,i,l){return this.url.searchParams.append(e,`${i}.${l}`),this}}class WC{constructor(e,{headers:i={},schema:l,fetch:r}){this.url=e,this.headers=i,this.schema=l,this.fetch=r}select(e,{head:i=!1,count:l}={}){const r=i?"HEAD":"GET";let u=!1;const f=(e??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new Mi({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:i,defaultToNull:l=!0}={}){const r="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const f=e.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(f.length>0){const p=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new Mi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:i,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){const f="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&p.push(this.headers.Prefer),r&&p.push(`count=${r}`),u||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(e)){const x=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(x.length>0){const g=[...new Set(x)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new Mi({method:f,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:i}={}){const l="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),i&&r.push(`count=${i}`),this.headers.Prefer=r.join(","),new Mi({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i="DELETE",l=[];return e&&l.push(`count=${e}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Mi({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const eA="1.9.2",tA={"X-Client-Info":`postgrest-js/${eA}`};class rd{constructor(e,{headers:i={},schema:l,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},tA),i),this.schemaName=l,this.fetch=r}from(e){const i=new URL(`${this.url}/${e}`);return new WC(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:l=!1,count:r}={}){let u;const f=new URL(`${this.url}/rpc/${e}`);let p;l?(u="HEAD",Object.entries(i).forEach(([g,v])=>{f.searchParams.append(g,`${v}`)})):(u="POST",p=i);const x=Object.assign({},this.headers);return r&&(x.Prefer=`count=${r}`),new Mi({method:u,url:f,headers:x,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}const nA="2.9.3",sA={"X-Client-Info":`realtime-js/${nA}`},iA="1.0.0",dx=1e4,lA=1e3;var Pi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Pi||(Pi={}));var Ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ot||(Ot={}));var sn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(sn||(sn={}));var Ou;(function(n){n.websocket="websocket"})(Ou||(Ou={}));var Ps;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ps||(Ps={}));class fx{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class aA{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),l=new TextDecoder;return this._decodeBroadcast(e,i,l)}_decodeBroadcast(e,i,l){const r=i.getUint8(1),u=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=l.decode(e.slice(f,f+r));f=f+r;const x=l.decode(e.slice(f,f+u));f=f+u;const g=JSON.parse(l.decode(e.slice(f,e.byteLength)));return{ref:null,topic:p,event:x,payload:g}}}class gu{constructor(e,i,l={},r=dx){this.channel=e,this.event=i,this.payload=l,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var l;return this._hasReceived(e)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(l=>l.status===e).forEach(l=>l.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(e0||(e0={}));class Kl{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},r=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kl.syncState(this.state,r,u,f),this.pendingDiffs.forEach(x=>{this.state=Kl.syncDiff(this.state,x,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},r=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Kl.syncDiff(this.state,r,u,f),p())}),this.onJoin((r,u,f)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:u,newPresences:f})}),this.onLeave((r,u,f)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,l,r){const u=this.cloneDeep(e),f=this.transformState(i),p={},x={};return this.map(u,(g,v)=>{f[g]||(x[g]=v)}),this.map(f,(g,v)=>{const b=u[g];if(b){const _=v.map(O=>O.presence_ref),S=b.map(O=>O.presence_ref),w=v.filter(O=>S.indexOf(O.presence_ref)<0),C=b.filter(O=>_.indexOf(O.presence_ref)<0);w.length>0&&(p[g]=w),C.length>0&&(x[g]=C)}else p[g]=v}),this.syncDiff(u,{joins:p,leaves:x},l,r)}static syncDiff(e,i,l,r){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),r||(r=()=>{}),this.map(u,(p,x)=>{var g;const v=(g=e[p])!==null&&g!==void 0?g:[];if(e[p]=this.cloneDeep(x),v.length>0){const b=e[p].map(S=>S.presence_ref),_=v.filter(S=>b.indexOf(S.presence_ref)<0);e[p].unshift(..._)}l(p,v,x)}),this.map(f,(p,x)=>{let g=e[p];if(!g)return;const v=x.map(b=>b.presence_ref);g=g.filter(b=>v.indexOf(b.presence_ref)<0),e[p]=g,r(p,g,x),g.length===0&&delete e[p]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(l=>i(l,e[l]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,l)=>{const r=e[l];return"metas"in r?i[l]=r.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[l]=r,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Fe||(Fe={}));const t0=(n,e,i={})=>{var l;const r=(l=i.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(e).reduce((u,f)=>(u[f]=oA(f,n,e,r),u),{})},oA=(n,e,i,l)=>{const r=e.find(p=>p.name===n),u=r==null?void 0:r.type,f=i[n];return u&&!l.includes(u)?hx(u,f):qu(f)},hx=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return dA(e,i)}switch(n){case Fe.bool:return rA(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return cA(e);case Fe.json:case Fe.jsonb:return uA(e);case Fe.timestamp:return fA(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return qu(e);default:return qu(e)}},qu=n=>n,rA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},cA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},uA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},dA=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,l=n[i];if(n[0]==="{"&&l==="}"){let u;const f=n.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>hx(e,p))}return n},fA=n=>typeof n=="string"?n.replace(" ","T"):n;var n0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(n0||(n0={}));var s0;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(s0||(s0={}));var i0;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(i0||(i0={}));class cd{constructor(e,i={config:{}},l){this.topic=e,this.params=i,this.socket=l,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},i.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,sn.join,this.params,this.timeout),this.rejoinTimer=new fx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(r,u)=>{this._trigger(this._replyEventName(u),r)}),this.presence=new Kl(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,i=this.timeout){var l,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:f}}=this.params;this._onError(g=>e&&e("CHANNEL_ERROR",g)),this._onClose(()=>e&&e("CLOSED"));const p={},x={broadcast:u,presence:f,postgres_changes:(r=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(g=>g.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(p.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",({postgres_changes:g})=>{var v;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),g===void 0){e&&e("SUBSCRIBED");return}else{const b=this.bindings.postgres_changes,_=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,S=[];for(let w=0;w<_;w++){const C=b[w],{filter:{event:O,schema:J,table:q,filter:G}}=C,H=g&&g[w];if(H&&H.event===O&&H.schema===J&&H.table===q&&H.filter===G)S.push(Object.assign(Object.assign({},C),{id:H.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e("SUBSCRIBED");return}}).receive("error",g=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,l){return this._on(e,i,l)}async send(e,i={}){var l,r;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:f}=e,p={method:"POST",headers:{apikey:(l=this.socket.apiKey)!==null&&l!==void 0?l:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=i.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,x;const g=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((x=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||x===void 0)&&x.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ot.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const r=new gu(this,sn.leave,{},e);r.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,i,l){const r=new AbortController,u=setTimeout(()=>r.abort(),l),f=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(u),f}_push(e,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new gu(this,e,i,l);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,i,l){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,l){var r,u;const f=e.toLocaleLowerCase(),{close:p,error:x,leave:g,join:v}=sn;if(l&&[p,x,g,v].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(S=>{var w,C,O;return((w=S.filter)===null||w===void 0?void 0:w.event)==="*"||((O=(C=S.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(S=>S.callback(_,l)):(u=this.bindings[f])===null||u===void 0||u.filter(S=>{var w,C,O,J,q,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const H=S.id,ee=(w=S.filter)===null||w===void 0?void 0:w.event;return H&&((C=i.ids)===null||C===void 0?void 0:C.includes(H))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((O=i.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const H=(q=(J=S==null?void 0:S.filter)===null||J===void 0?void 0:J.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return H==="*"||H===((G=i==null?void 0:i.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof _=="object"&&"ids"in _){const w=_.data,{schema:C,table:O,commit_timestamp:J,type:q,errors:G}=w;_=Object.assign(Object.assign({},{schema:C,table:O,commit_timestamp:J,eventType:q,new:{},old:{},errors:G}),this._getPayloadRecords(w))}S.callback(_,l)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,l){const r=e.toLocaleLowerCase(),u={type:r,filter:i,callback:l};return this.bindings[r]?this.bindings[r].push(u):this.bindings[r]=[u],this}_off(e,i){const l=e.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(r=>{var u;return!(((u=r.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&cd.isEqual(r.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const l in e)if(e[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sn.close,{},e)}_onError(e){this._on(sn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=t0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=t0(e.columns,e.old_record)),i}}const hA=()=>{},mA=typeof WebSocket<"u";class pA{constructor(e,i){var l;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=sA,this.params={},this.timeout=dx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hA,this.conn=null,this.sendBuffer=[],this.serializer=new aA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=u=>{let f;return u?f=u:typeof fetch>"u"?f=(...p)=>qi(async()=>{const{default:x}=await Promise.resolve().then(()=>Wl);return{default:x}},void 0).then(({default:x})=>x(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${e}/${Ou.websocket}`,i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const r=(l=i==null?void 0:i.params)===null||l===void 0?void 0:l.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(u,f)=>f(JSON.stringify(u)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(mA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new gA(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),qi(async()=>{const{default:e}=await import("./browser-a16i2Jha.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,l){this.logger(e,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Pi.connecting:return Ps.Connecting;case Pi.open:return Ps.Open;case Pi.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}channel(e,i={config:{}}){const l=new cd(`realtime:${e}`,i,this);return this.channels.push(l),l}push(e){const{topic:i,event:l,payload:r,ref:u}=e,f=()=>{this.encode(e,p=>{var x;(x=this.conn)===null||x===void 0||x.send(p)})};this.log("push",`${i} ${l} (${u})`,r),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(e){this.accessToken=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(sn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(l=>l.topic===e&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iA}))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:l,event:r,payload:u,ref:f}=i;(f&&f===this.pendingHeartbeatRef||r===(u==null?void 0:u.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${r} ${f&&"("+f+")"||""}`,u),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(r,u,f)),this.stateChangeCallbacks.message.forEach(p=>p(i))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const l=e.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${e}${l}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(lA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class gA{constructor(e,i,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=l.close}}class ud extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class xA extends ud{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class l0 extends ud{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var yA=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};const mx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>qi(async()=>{const{default:l}=await Promise.resolve().then(()=>Wl);return{default:l}},void 0).then(({default:l})=>l(...i)):e=fetch,(...i)=>e(...i)},vA=()=>yA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qi(()=>Promise.resolve().then(()=>Wl),void 0)).Response:Response});var $i=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};const xu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bA=(n,e)=>$i(void 0,void 0,void 0,function*(){const i=yield vA();n instanceof i?n.json().then(l=>{e(new xA(xu(l),n.status||500))}).catch(l=>{e(new l0(xu(l),l))}):e(new l0(xu(n),n))}),_A=(n,e,i,l)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(l),Object.assign(Object.assign({},r),i))};function Vo(n,e,i,l,r,u){return $i(this,void 0,void 0,function*(){return new Promise((f,p)=>{n(i,_A(e,l,r,u)).then(x=>{if(!x.ok)throw x;return l!=null&&l.noResolveJson?x:x.json()}).then(x=>f(x)).catch(x=>bA(x,p))})})}function Gu(n,e,i,l){return $i(this,void 0,void 0,function*(){return Vo(n,"GET",e,i,l)})}function ds(n,e,i,l,r){return $i(this,void 0,void 0,function*(){return Vo(n,"POST",e,l,r,i)})}function NA(n,e,i,l,r){return $i(this,void 0,void 0,function*(){return Vo(n,"PUT",e,l,r,i)})}function px(n,e,i,l,r){return $i(this,void 0,void 0,function*(){return Vo(n,"DELETE",e,l,r,i)})}var Xt=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};const SA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TA{constructor(e,i={},l,r){this.url=e,this.headers=i,this.bucketId=l,this.fetch=mx(r)}uploadOrUpdate(e,i,l,r){return Xt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},a0),r),p=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",f.cacheControl)):(u=l,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const x=this._removeEmptyFolders(i),g=this._getFinalPath(x),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:u,headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{})),b=yield v.json();return v.ok?{data:{path:x,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(u){if(gt(u))return{data:null,error:u};throw u}})}upload(e,i,l){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,l)})}uploadToSignedUrl(e,i,l,r){return Xt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let x;const g=Object.assign({upsert:a0.upsert},r),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(x=new FormData,x.append("cacheControl",g.cacheControl),x.append("",l)):typeof FormData<"u"&&l instanceof FormData?(x=l,x.append("cacheControl",g.cacheControl)):(x=l,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const b=yield this.fetch(p.toString(),{method:"PUT",body:x,headers:v}),_=yield b.json();return b.ok?{data:{path:u,fullPath:_.Key},error:null}:{data:null,error:_}}catch(x){if(gt(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(e){return Xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=yield ds(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:this.headers}),r=new URL(this.url+l.url),u=r.searchParams.get("token");if(!u)throw new ud("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:u},error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}update(e,i,l){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,l)})}move(e,i){return Xt(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i},{headers:this.headers}),error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}copy(e,i){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i},{headers:this.headers})).Key},error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}createSignedUrl(e,i,l){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),u=yield ds(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:i},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,i,l){return Xt(this,void 0,void 0,function*(){try{const r=yield ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:r.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}download(e,i){return Xt(this,void 0,void 0,function*(){const r=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=u?`?${u}`:"";try{const p=this._getFinalPath(e);return{data:yield(yield Gu(this.fetch,`${this.url}/${r}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(gt(p))return{data:null,error:p};throw p}})}getPublicUrl(e,i){const l=this._getFinalPath(e),r=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&r.push(u);const p=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});x!==""&&r.push(x);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${g}`)}}}remove(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}list(e,i,l){return Xt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},SA),i),{prefix:e||""});return{data:yield ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},l),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const wA="2.5.5",EA={"X-Client-Info":`storage-js/${wA}`};var Ei=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};class CA{constructor(e,i={},l){this.url=e,this.headers=Object.assign(Object.assign({},EA),i),this.fetch=mx(l)}listBuckets(){return Ei(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ei(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return Ei(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}updateBucket(e,i){return Ei(this,void 0,void 0,function*(){try{return{data:yield NA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}emptyBucket(e){return Ei(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return Ei(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}}class AA extends CA{constructor(e,i={},l){super(e,i,l)}from(e){return new TA(this.url,this.headers,e,this.fetch)}}const jA="2.39.7";let Jl="";typeof Deno<"u"?Jl="deno":typeof document<"u"?Jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jl="react-native":Jl="node";const RA={"X-Client-Info":`supabase-js-${Jl}/${jA}`},MA={headers:RA},kA={schema:"public"},DA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IA={};var UA=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};const LA=n=>{let e;return n?e=n:typeof fetch>"u"?e=od:e=fetch,(...i)=>e(...i)},PA=()=>typeof Headers>"u"?ux:Headers,zA=(n,e,i)=>{const l=LA(i),r=PA();return(u,f)=>UA(void 0,void 0,void 0,function*(){var p;const x=(p=yield e())!==null&&p!==void 0?p:n;let g=new r(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${x}`),l(u,Object.assign(Object.assign({},f),{headers:g}))})};function OA(n){return n.replace(/\/$/,"")}function qA(n,e){const{db:i,auth:l,realtime:r,global:u}=n,{db:f,auth:p,realtime:x,global:g}=e;return{db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},x),r),global:Object.assign(Object.assign({},g),u)}}function GA(n){return Math.round(Date.now()/1e3)+n}function HA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const nn=()=>typeof document<"u",Is={tested:!1,writable:!1},Ql=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Is.tested)return Is.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Is.tested=!0,Is.writable=!0}catch{Is.tested=!0,Is.writable=!1}return Is.writable};function yu(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,u)=>{e[u]=r})}catch{}return i.searchParams.forEach((l,r)=>{e[r]=l}),e}const gx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>qi(async()=>{const{default:l}=await Promise.resolve().then(()=>Wl);return{default:l}},void 0).then(({default:l})=>l(...i)):e=fetch,(...i)=>e(...i)},VA=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Us=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},vo=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},vu=async(n,e)=>{await n.removeItem(e)};function BA(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",l,r,u,f,p,x,g,v=0;for(n=n.replace("-","+").replace("_","/");v<n.length;)f=e.indexOf(n.charAt(v++)),p=e.indexOf(n.charAt(v++)),x=e.indexOf(n.charAt(v++)),g=e.indexOf(n.charAt(v++)),l=f<<2|p>>4,r=(p&15)<<4|x>>2,u=(x&3)<<6|g,i=i+String.fromCharCode(l),x!=64&&r!=0&&(i=i+String.fromCharCode(r)),g!=64&&u!=0&&(i=i+String.fromCharCode(u));return i}class Bo{constructor(){this.promise=new Bo.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Bo.promiseConstructor=Promise;function o0(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=n.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=i[1];return JSON.parse(BA(l))}async function FA(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function $A(n,e){return new Promise((l,r)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await n(u);if(!e(u,null,f)){l(f);return}}catch(f){if(!e(u,f)){r(f);return}}})()})}function JA(n){return("0"+n.toString(16)).substr(-2)}function Ci(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let r="";for(let u=0;u<56;u++)r+=i.charAt(Math.floor(Math.random()*l));return r}return crypto.getRandomValues(e),Array.from(e,JA).join("")}async function YA(n){const i=new TextEncoder().encode(n),l=await crypto.subtle.digest("SHA-256",i),r=new Uint8Array(l);return Array.from(r).map(u=>String.fromCharCode(u)).join("")}function KA(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ai(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await YA(n);return KA(i)}class dd extends Error{constructor(e,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i}}function Re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class QA extends dd{constructor(e,i){super(e,i),this.name="AuthApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function XA(n){return Re(n)&&n.name==="AuthApiError"}class xx extends dd{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class qs extends dd{constructor(e,i,l){super(e),this.name=i,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ji extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class bu extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class bo extends qs{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class _o extends qs{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r0 extends qs{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hu extends qs{constructor(e,i){super(e,"AuthRetryableFetchError",i)}}function _u(n){return Re(n)&&n.name==="AuthRetryableFetchError"}class ZA extends qs{constructor(e,i,l){super(e,"AuthWeakPasswordError",i),this.reasons=l}}var WA=function(n,e){var i={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(i[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(n);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(n,l[r])&&(i[l[r]]=n[l[r]]);return i};const ki=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ej=[502,503,504];async function c0(n){if(!VA(n))throw new Hu(ki(n),0);if(ej.includes(n.status))throw new Hu(ki(n),n.status);let e;try{e=await n.json()}catch(i){throw new xx(ki(i),i)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)?new ZA(ki(e),n.status,e.weak_password.reasons):new QA(ki(e),n.status||500)}const tj=(n,e,i,l)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(l),Object.assign(Object.assign({},r),i))};async function ke(n,e,i,l){var r;const u=Object.assign({},l==null?void 0:l.headers);l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const f=(r=l==null?void 0:l.query)!==null&&r!==void 0?r:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",x=await nj(n,e,i+p,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(x):{data:Object.assign({},x),error:null}}async function nj(n,e,i,l,r,u){const f=tj(e,l,r,u);let p;try{p=await n(i,f)}catch(x){throw console.error(x),new Hu(ki(x),0)}if(p.ok||await c0(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(x){await c0(x)}}function Ls(n){var e;let i=null;aj(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=GA(n.expires_in)));const l=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:l},error:null}}function u0(n){const e=Ls(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(e.data.weak_password=n.weak_password),e}function fs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function sj(n){return{data:n,error:null}}function ij(n){const{action_link:e,email_otp:i,hashed_token:l,redirect_to:r,verification_type:u}=n,f=WA(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:i,hashed_token:l,redirect_to:r,verification_type:u},x=Object.assign({},f);return{data:{properties:p,user:x},error:null}}function lj(n){return n}function aj(n){return n.access_token&&n.refresh_token&&n.expires_in}var oj=function(n,e){var i={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(i[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(n);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(n,l[r])&&(i[l[r]]=n[l[r]]);return i};class rj{constructor({url:e="",headers:i={},fetch:l}){this.url=e,this.headers=i,this.fetch=gx(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(e,i={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:fs})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async generateLink(e){try{const{options:i}=e,l=oj(e,["options"]),r=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(r.new_email=l==null?void 0:l.newEmail,delete r.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ij,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Re(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,l,r,u,f,p,x;try{const g={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&u!==void 0?u:""},xform:lj});if(v.error)throw v.error;const b=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(x=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&x!==void 0?x:[];return S.length>0&&(S.forEach(w=>{const C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);g[`${O}Page`]=C}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Re(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:fs})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async deleteUser(e,i=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:fs})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}async _listFactors(e){try{const{data:i,error:l}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:l}}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}}const yx="0.0.0",cj="http://localhost:9999",uj="supabase.auth.token",dj={"X-Client-Info":`gotrue-js/${yx}`},d0=10,fj={getItem:n=>Ql()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ql()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ql()&&globalThis.localStorage.removeItem(n)}};function f0(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function hj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ri={debug:!!(globalThis&&Ql()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mj extends vx{}async function pj(n,e,i){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const l=new globalThis.AbortController;return e>0&&setTimeout(()=>{l.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async r=>{if(r){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await i()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new mj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ri.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}})}hj();const gj={url:cj,storageKey:uj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dj,flowType:"implicit",debug:!1},Fl=30*1e3,h0=3;async function m0(n,e,i){return await i()}class Xl{constructor(e){var i,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xl.nextInstanceID,Xl.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},gj),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new rj({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=gx(r.fetch),this.lock=r.lock||m0,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,r.lock?this.lock=r.lock:nn()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=pj:this.lock=m0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ql()?this.storage=fj:(this.memoryStorage={},this.storage=f0(this.memoryStorage)):(this.memoryStorage={},this.storage=f0(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=nn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:i,error:l}=await this._getSessionFromURL(e);if(l)return this._debug("#_initialize()","error detecting session from URL",l),(l==null?void 0:l.message)==="Identity is already linked"||(l==null?void 0:l.message)==="Identity is already linked to another user"?{error:l}:(await this._removeSession(),{error:l});const{session:r,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",u),await this._saveSession(r),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Re(e)?{error:e}:{error:new xx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var i,l,r;try{await this._removeSession();let u;if("email"in e){const{email:v,password:b,options:_}=e;let S=null,w=null;if(this.flowType==="pkce"){const C=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,C),S=await Ai(C),w=C===S?"plain":"s256"}u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:b,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:w},xform:Ls})}else if("phone"in e){const{phone:v,password:b,options:_}=e;u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(l=_==null?void 0:_.data)!==null&&l!==void 0?l:{},channel:(r=_==null?void 0:_.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ls})}else throw new bo("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const x=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(u){if(Re(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{await this._removeSession();let i;if("email"in e){const{email:u,password:f,options:p}=e;i=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:u0})}else if("phone"in e){const{phone:u,password:f,options:p}=e;i=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:u0})}else throw new bo("You must provide either an email or phone number and a password");const{data:l,error:r}=i;return r?{data:{user:null,session:null},error:r}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:r})}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,l,r,u;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await vo(this.storage,`${this.storageKey}-code-verifier`),[l,r]=(i??"").split("/"),{data:u,error:f}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:l},xform:Ls});return await vu(this.storage,`${this.storageKey}-code-verifier`),f?{data:{user:null,session:null,redirectType:null},error:f}:!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new bu}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:r??null}),error:f})}async signInWithIdToken(e){await this._removeSession();try{const{options:i,provider:l,token:r,access_token:u,nonce:f}=e,p=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:r,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ls}),{data:x,error:g}=p;return g?{data:{user:null,session:null},error:g}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new bu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:g})}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,l,r,u,f;try{if(await this._removeSession(),"email"in e){const{email:p,options:x}=e;let g=null,v=null;if(this.flowType==="pkce"){const _=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,_),g=await Ai(_),v=_===g?"plain":"s256"}const{error:b}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},create_user:(l=x==null?void 0:x.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:p,options:x}=e,{data:g,error:v}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},create_user:(u=x==null?void 0:x.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(f=x==null?void 0:x.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v}}throw new bo("You must provide either an email or phone number.")}catch(p){if(Re(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(e){var i,l;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,u;"options"in e&&(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo,u=(l=e.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:r,xform:Ls});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const x=f.session,g=f.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var i,l,r;try{await this._removeSession();let u=null,f=null;if(this.flowType==="pkce"){const p=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,p),u=await Ai(p),f=p===u?"plain":"s256"}return await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(l=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:sj})}catch(u){if(Re(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:l}=e;if(l)throw l;if(!i)throw new ji;const{error:r}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Re(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const i=`${this.url}/resend`;if("email"in e){const{email:l,type:r,options:u}=e,{error:f}=await ke(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in e){const{phone:l,type:r,options:u}=e,{data:f,error:p}=await ke(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new bo("You must provide either an email or phone number and a type")}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const l=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",e.expires_at),!l)return{data:{session:e},error:null};const{session:r,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async i=>{var l,r;const{data:u,error:f}=i;if(f)throw f;return await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&r!==void 0?r:void 0,xform:fs})})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async l=>{const{data:r,error:u}=l;if(u)throw u;if(!r.session)throw new ji;const f=r.session;let p=null,x=null;if(this.flowType==="pkce"&&e.email!=null){const b=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,b),p=await Ai(b),x=b===p?"plain":"s256"}const{data:g,error:v}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:x}),jwt:f.access_token,xform:fs});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(Re(l))return{data:{user:null},error:l};throw l}}_decodeJWT(e){return o0(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const i=Date.now()/1e3;let l=i,r=!0,u=null;const f=o0(e.access_token);if(f.exp&&(l=f.exp,r=l<=i),r){const{session:p,error:x}=await this._callRefreshToken(e.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:x}=await this._getUser(e.access_token);if(x)throw x;u={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(i){if(Re(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var l;if(!e){const{data:f,error:p}=i;if(p)throw p;e=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(e!=null&&e.refresh_token))throw new ji;const{session:r,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e){try{if(!nn())throw new _o("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new _o("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new r0("Not a valid PKCE flow url.");const i=yu(window.location.href);if(e){if(!i.code)throw new r0("No code detected.");const{data:q,error:G}=await this._exchangeCodeForSession(i.code);if(G)throw G;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:q.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new _o(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:l,provider_refresh_token:r,access_token:u,refresh_token:f,expires_in:p,expires_at:x,token_type:g}=i;if(!u||!p||!f||!g)throw new _o("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(p);let _=v+b;x&&(_=parseInt(x));const S=_-v;S*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const w=_-b;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,_,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",w,_,v);const{data:C,error:O}=await this._getUser(u);if(O)throw O;const J={provider_token:l,provider_refresh_token:r,access_token:u,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:J,redirectType:i.type},error:null}}catch(i){if(Re(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){const e=yu(window.location.href);return!!(nn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=yu(window.location.href),i=await vo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:r,error:u}=i;if(u)return{error:u};const f=(l=r.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,e);if(p&&!(XA(p)&&(p.status===404||p.status===401)))return{error:p}}return e!=="others"&&(await this._removeSession(),await vu(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const i=HA(),l={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(e){return await this._useSession(async i=>{var l,r;try{const{data:{session:u},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,i={}){let l=null,r=null;if(this.flowType==="pkce"){const u=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,`${u}/PASSWORD_RECOVERY`),l=await Ai(u),r=u===l?"plain":"s256"}try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:l,code_challenge_method:r,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(Re(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:l,error:r}=await this._useSession(async u=>{var f,p,x,g,v;const{data:b,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(x=e.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(r)throw r;return nn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:e.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(Re(l))return{data:{provider:e.provider,url:null},error:l};throw l}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var l,r;const{data:u,error:f}=i;if(f)throw f;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&r!==void 0?r:void 0})})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await $A(async r=>(await FA(r*200),this._debug(i,"refreshing attempt",r),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ls})),(r,u,f)=>f&&f.error&&_u(f.error)&&Date.now()+(r+1)*200-l<Fl)}catch(l){if(this._debug(i,"error",l),Re(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",l),nn()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:e,url:l},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await vo(this.storage,this.storageKey);if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),u=((e=l.expires_at)!==null&&e!==void 0?e:1/0)<r+d0;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${d0}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),_u(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,l;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Bo;const{data:u,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!u.session)throw new ji;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(r,"error",u),Re(u)){const f={session:null,error:u};return _u(u)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,i,l=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:e,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,i)}catch(x){u.push(x)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Us(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vu(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((l.expires_at*1e3-e)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Fl}ms, refresh threshold is ${h0} ticks`),r<=h0&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,l){const r=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&r.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&r.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const u=Ci();await Us(this.storage,`${this.storageKey}-code-verifier`,u);const f=await Ai(u),p=u===f?"plain":"s256";this._debug("PKCE","code verifier",`${u.substring(0,5)}...`,"code challenge",f,"method",p);const x=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(p)}`});r.push(x.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);r.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&r.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var l;const{data:r,error:u}=i;return u?{data:null,error:u}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(l=r==null?void 0:r.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var l,r;const{data:u,error:f}=i;if(f)return{data:null,error:f};const{data:p,error:x}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return x?{data:null,error:x}:(!((r=p==null?void 0:p.totp)===null||r===void 0)&&r.qr_code&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:r,error:u}=i;if(u)return{data:null,error:u};const{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(l=r==null?void 0:r.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(Re(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:r,error:u}=i;return u?{data:null,error:u}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(l=r==null?void 0:r.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(Re(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:l}=await this._challenge({factorId:e.factorId});return l?{data:null,error:l}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const l=(e==null?void 0:e.factors)||[],r=l.filter(u=>u.factor_type==="totp"&&u.status==="verified");return{data:{all:l,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,l;const{data:{session:r},error:u}=e;if(u)return{data:null,error:u};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(r.access_token);let p=null;f.aal&&(p=f.aal);let x=p;((l=(i=r.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(x="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:x,currentAuthenticationMethods:v},error:null}}))}}Xl.nextInstanceID=0;class xj extends Xl{constructor(e){super(e)}}var yj=function(n,e,i,l){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{g(l.next(v))}catch(b){f(b)}}function x(v){try{g(l.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):r(v.value).then(p,x)}g((l=l.apply(n,e||[])).next())})};class vj{constructor(e,i,l){var r,u,f,p,x,g,v,b;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const _=OA(e);this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,this.functionsUrl=`${_}/functions/v1`;const S=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:kA,realtime:IA,auth:Object.assign(Object.assign({},DA),{storageKey:S}),global:MA},C=qA(l??{},w);this.storageKey=(u=(r=C.auth)===null||r===void 0?void 0:r.storageKey)!==null&&u!==void 0?u:"",this.headers=(p=(f=C.global)===null||f===void 0?void 0:f.headers)!==null&&p!==void 0?p:{},this.auth=this._initSupabaseAuthClient((x=C.auth)!==null&&x!==void 0?x:{},this.headers,(g=C.global)===null||g===void 0?void 0:g.fetch),this.fetch=zA(i,this._getAccessToken.bind(this),(v=C.global)===null||v===void 0?void 0:v.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},C.realtime)),this.rest=new rd(`${_}/rest/v1`,{headers:this.headers,schema:(b=C.db)===null||b===void 0?void 0:b.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},l={}){return this.rest.rpc(e,i,l)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return yj(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return(i=(e=l.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:l,storage:r,storageKey:u,flowType:f,debug:p},x,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xj({url:this.authUrl,headers:Object.assign(Object.assign({},v),x),storageKey:u,autoRefreshToken:e,persistSession:i,detectSessionInUrl:l,storage:r,flowType:f,debug:p,fetch:g})}_initRealtimeClient(e){return new pA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(e,i,l){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==l?(this.realtime.setAuth(l??null),this.changedAccessToken=l):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bj=(n,e,i)=>new vj(n,e,i);var bx={};const Nu=bx.VITE_SUPABASE_URL||"https://voqxebgaebmmijvzcaun.supabase.co",No=bx.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvcXhlYmdhZWJtbWlqdnpjYXVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTQ3MzUsImV4cCI6MjA3OTU3MDczNX0.NPN6zGNVSJYmZloosWL_s-dTogxpLjpgKH8w1e6E3Os";let Su=null;const _j=()=>{if(!(Nu!==""&&!Nu.includes("_")&&No&&No!==""&&!No.includes("_")))return console.warn("Supabase is not configured. Auth will be disabled."),null;try{return Su||(Su=bj(Nu,No,{auth:{persistSession:!0,autoRefreshToken:!0}})),Su}catch(e){return console.error("Failed to initialize Supabase client:",e),null}},Un=_j(),Vu=()=>!!Un,Nj=()=>{const[n,e]=K.useState(!1),[i,l]=K.useState(""),[r,u]=K.useState(""),[f,p]=K.useState(""),[x,g]=K.useState(""),[v,b]=K.useState(!0),[_,S]=K.useState(""),[w,C]=K.useState(""),O=()=>{S(""),C(""),u(""),g(""),v||p("")},J=async q=>{if(q.preventDefault(),!Vu()||!Un){S("   Supabase  .");return}if(!v){if(r!==x){S("    .");return}if(f.trim().length<3){S("     .");return}}e(!0),S(""),C("");try{if(v){const{error:G}=await Un.auth.signInWithPassword({email:i,password:r});if(G)throw G}else{const{error:G}=await Un.auth.signUp({email:i,password:r,options:{data:{full_name:f}}});if(G)throw G;C("   !       ."),b(!0),u(""),g("")}}catch(G){console.error(G),G.message.includes("Invalid login")?S("      ."):G.message.includes("Email not confirmed")?S("       ."):G.message.includes("User already registered")?S("      ."):G.message.includes("Password should be")?S("     6   ."):S(" : "+G.message)}finally{e(!1)}};return Vu()?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-4",dir:"rtl",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"bg-white p-8 pb-0 text-center relative z-10",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl rotate-3 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30",children:a.jsx(fu,{className:"text-white -rotate-3",size:40})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 font-serif",children:" "}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm font-medium",children:"  "})]}),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-6",children:[a.jsx("button",{onClick:()=>{b(!0),O()},className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${v?"bg-white text-blue-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:""}),a.jsx("button",{onClick:()=>{b(!1),O()},className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${v?"text-gray-500 hover:text-gray-700":"bg-white text-blue-800 shadow-sm"}`,children:" "})]}),_&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-xl text-xs border border-red-100 flex items-start gap-3 animate-in slide-in-from-top-2",children:[a.jsx(Uo,{size:18,className:"shrink-0"}),a.jsx("span",{className:"leading-snug",children:_})]}),w&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 text-green-700 rounded-xl text-xs border border-green-100 flex items-start gap-3 animate-in slide-in-from-top-2",children:[a.jsx(Lo,{size:18,className:"shrink-0"}),a.jsx("span",{className:"leading-snug",children:w})]}),a.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!v&&a.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",required:!v,value:f,onChange:q=>p(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:" "}),a.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:a.jsx(Hi,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"email",required:!0,value:i,onChange:q=>l(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:"name@education.dz"}),a.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:a.jsx(u1,{size:20})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"password",required:!0,value:r,onChange:q=>u(q.target.value),className:"w-full pl-4 pr-11 py-3 border-2 border-gray-100 rounded-xl focus:border-blue-500 focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700",placeholder:"",minLength:6}),a.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:a.jsx(fu,{size:20})})]})]}),!v&&a.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[a.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:"  "}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"password",required:!v,value:x,onChange:q=>g(q.target.value),className:`w-full pl-4 pr-11 py-3 border-2 rounded-xl focus:ring-0 outline-none transition-all text-sm bg-gray-50 focus:bg-white font-bold text-gray-700 ${x&&r!==x?"border-red-200 focus:border-red-500":"border-gray-100 focus:border-blue-500"}`,placeholder:"",minLength:6}),a.jsx("div",{className:"absolute right-3 top-3 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:a.jsx(fu,{size:20})})]}),x&&r!==x&&a.jsx("p",{className:"text-[10px] text-red-500 mt-1 mr-1 font-bold",children:"   "})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-800 text-white font-bold py-3.5 rounded-xl hover:bg-blue-900 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none mt-4",children:n?a.jsx(Yu,{className:"animate-spin",size:20}):v?a.jsxs(a.Fragment,{children:[a.jsx(l1,{size:20})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(e_,{size:20})," "]})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 text-[11px] text-gray-500 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-bold mb-1",children:[a.jsx(z1,{size:14}),a.jsx("span",{children:"  "})]}),a.jsxs("p",{className:"leading-relaxed opacity-80",children:["   ",a.jsx("b",{children:" "})," ( ).   ( )     Google Sheets        ."]})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",dir:"rtl",children:a.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg p-8 text-center border border-orange-100",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Qb,{size:40,className:"text-orange-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"   "}),a.jsxs("div",{className:"text-gray-600 mb-8 text-sm leading-relaxed space-y-4 text-right",children:[a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 font-bold",children:""}),a.jsxs("span",{children:["      ",a.jsx("b",{children:"Supabase"}),"      ."]})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 font-bold",children:""}),a.jsxs("span",{children:["    ",a.jsx("b",{children:" "}),"     Supabase."]})]})]}),a.jsxs("div",{className:"bg-gray-900 text-gray-300 p-4 rounded-lg text-left text-xs font-mono mb-6 overflow-x-auto shadow-inner",children:[a.jsx("span",{className:"text-green-400",children:"# In services/supabaseService.ts or .env file:"}),a.jsx("br",{}),'const SUPABASE_URL = "YOUR_PROJECT_URL";',a.jsx("br",{}),'const SUPABASE_ANON_KEY = "YOUR_ANON_KEY";']}),a.jsxs("p",{className:"text-xs text-gray-400 border-t pt-4",children:["    : ",a.jsx("code",{children:"npm install @supabase/supabase-js"})]})]})})};var Ce=(n=>(n.DASHBOARD="DASHBOARD",n.EDITOR="EDITOR",n.LEGACY_EDITOR="LEGACY_EDITOR",n.PRINT="PRINT",n.DATABASE="DATABASE",n.PROMOTIONS="PROMOTIONS",n.TENURE_EDITOR="TENURE_EDITOR",n.QUARTERLY_REPORT="QUARTERLY_REPORT",n))(Ce||{});const Tu=()=>Math.random().toString(36).substr(2,9),Sj=()=>{var sa,ia,qn,mt;const[n,e]=K.useState(null),[i,l]=K.useState(!0),[r,u]=K.useState(Ce.DASHBOARD),[f,p]=K.useState(O_),[x,g]=K.useState(""),[v,b]=K.useState(null),[_,S]=K.useState(""),[w,C]=K.useState(!1),[O,J]=K.useState(void 0),[q,G]=K.useState(Oi),[H,ee]=K.useState({}),[re,Z]=K.useState(wp),[ue,oe]=K.useState({}),[se,P]=K.useState(q_),[ie,pe]=K.useState(!1),[I,D]=K.useState(!1),[E,M]=K.useState(!1),[B,W]=K.useState("idle"),[de,j]=K.useState(""),[$,te]=K.useState(()=>localStorage.getItem("mufattish_auto_sync")==="true"),fe=K.useRef(!0),[xe,be]=K.useState(""),[Te,Qe]=K.useState(""),ze=K.useMemo(()=>{const le=new Set;return Object.values(H).forEach(he=>{he.school&&le.add(he.school.trim())}),Array.from(le).sort()},[H]),yt=K.useMemo(()=>{const le=new Set;return Object.values(H).forEach(he=>{he.level&&le.add(he.level.trim())}),Array.from(le).sort()},[H]),vt=K.useMemo(()=>f.filter(le=>{const he=H[le.id];return!(xe&&(!he||he.school.trim()!==xe)||Te&&(!he||he.level.trim()!==Te))}),[f,H,xe,Te]);K.useEffect(()=>{if(Vu()&&Un){Un.auth.getSession().then(({data:{session:he}})=>{e(he),l(!1)}).catch(he=>{console.error("Session check failed:",he),l(!1)});const{data:{subscription:le}}=Un.auth.onAuthStateChange((he,De)=>{e(De),l(!1)});return()=>le.unsubscribe()}else l(!1)},[]),K.useEffect(()=>{const le=localStorage.getItem("mufattish_teachers"),he=localStorage.getItem("mufattish_reports_map"),De=localStorage.getItem("mufattish_tenure_reports_map"),bt=localStorage.getItem("mufattish_quarterly_report"),on=localStorage.getItem("mufattish_is_gold"),rn=localStorage.getItem("mufattish_inspector_name"),gn=localStorage.getItem("mufattish_signature");if(le)try{p(JSON.parse(le))}catch{}if(he)try{ee(JSON.parse(he))}catch{}if(De)try{oe(JSON.parse(De))}catch{}if(bt)try{P(JSON.parse(bt))}catch{}on==="true"&&pe(!0),rn&&S(rn),gn&&J(gn);const gs=localStorage.getItem("mufattish_sheets_api_key"),cn=localStorage.getItem("mufattish_client_id");gs&&cn&&rx(gs,cn).then(()=>{cx().then(qt=>{qt&&M(!0)})}).catch(qt=>console.error("Google Init Error:",qt))},[]),K.useEffect(()=>{localStorage.setItem("mufattish_teachers",JSON.stringify(f))},[f]),K.useEffect(()=>{localStorage.setItem("mufattish_reports_map",JSON.stringify(H))},[H]),K.useEffect(()=>{localStorage.setItem("mufattish_tenure_reports_map",JSON.stringify(ue))},[ue]),K.useEffect(()=>{localStorage.setItem("mufattish_quarterly_report",JSON.stringify(se))},[se]),K.useEffect(()=>{localStorage.setItem("mufattish_is_gold",ie.toString())},[ie]),K.useEffect(()=>{localStorage.setItem("mufattish_inspector_name",_)},[_]),K.useEffect(()=>{if(fe.current){fe.current=!1;return}if(!$||!E)return;const le=localStorage.getItem("mufattish_sheet_id");if(!le)return;W("syncing");const he=setTimeout(async()=>{try{const De=Xu(f,q,H);await kC(le,De),W("success"),j("   Google Sheets"),setTimeout(()=>W("idle"),3e3)}catch(De){console.error("Sync Error:",De),W("error"),j(" ")}},4e3);return()=>clearTimeout(he)},[f,H,ue,$,E]);const pn=le=>{b(le)},ps=async()=>{Un&&(await Un.auth.signOut(),e(null))},Rt=(le,he)=>{if(b(null),g(le.id),H[le.id]){const De=H[le.id];G({...De,reportModel:he,inspectorName:De.inspectorName||_})}else{const De={...Oi,id:Tu(),teacherId:le.id,reportModel:he,wilaya:q.wilaya||"",school:q.school||"",inspectorName:_};G(De),ee(bt=>({...bt,[le.id]:De}))}},F=le=>{Rt(le,"modern"),u(Ce.EDITOR)},Mt=le=>{Rt(le,"legacy"),u(Ce.LEGACY_EDITOR)},Fo=le=>{if(b(null),g(le.id),ue[le.id]){const he=ue[le.id];Z({...he,inspectorName:he.inspectorName||_})}else{const he={...wp,id:Tu(),teacherId:le.id,wilaya:q.wilaya||"",school:q.school||"",inspectorName:_};Z(he),oe(De=>({...De,[le.id]:he}))}u(Ce.TENURE_EDITOR)},ea=()=>{P(le=>({...le,inspectorName:le.inspectorName||_,wilaya:le.wilaya||q.wilaya||"",district:le.district||q.district||"",teachersTotal:f.length,teachersTrainee:f.filter(he=>he.status==="stagiere").length})),u(Ce.QUARTERLY_REPORT)},Gs=le=>{G(le),ee(he=>({...he,[le.teacherId]:le}))},Ji=le=>{Z(le),oe(he=>({...he,[le.teacherId]:le}))},Yi=le=>{P(le)},Ki=le=>{p(he=>he.map(De=>De.id===le.id?le:De)),v&&v.id===le.id&&b(le)},$o=async le=>{if(window.confirm("      ")){p(De=>De.filter(bt=>bt.id!==le));const he={...H};delete he[le],ee(he),x===le&&(g(""),r!==Ce.DATABASE&&r!==Ce.PROMOTIONS&&r!==Ce.QUARTERLY_REPORT&&u(Ce.DASHBOARD))}},at=()=>{if(x){const le=f.find(he=>he.id===x);le&&(document.title=`_${le.fullName.replace(/\s/g,"_")}`)}window.print()},Jo=()=>{const le=prompt("   :");if(le){const he={id:Tu(),fullName:le,birthDate:"",birthPlace:"",degree:"",recruitmentDate:new Date().toISOString().split("T")[0],rank:"  ",lastInspectionDate:"",lastMark:10,status:"titulaire"};p([...f,he]),pn(he)}},ta=(le,he)=>{const De=[...f],bt={...H};le.forEach(on=>{const rn=De.findIndex(gn=>gn.id===on.id);rn>=0?De[rn]=on:De.push(on)}),Object.assign(bt,he),p(De),ee(bt),alert(`  ${le.length}  .`)},na=(le,he,De)=>{p(le),ee(he),oe(De),alert("    .")},On=le=>{var De;const he=(De=le.target.files)==null?void 0:De[0];if(he){const bt=new FileReader;bt.onloadend=()=>{const on=bt.result;J(on),localStorage.setItem("mufattish_signature",on)},bt.readAsDataURL(he)}};if(i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:a.jsxs("div",{className:"text-center animate-pulse",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("div",{className:"text-blue-400 font-bold font-serif text-xl",children:" "}),a.jsx("div",{className:"text-slate-500 text-sm mt-2",children:"  ..."})]})});if(!n)return a.jsx(Nj,{});const Nt=f.find(le=>le.id===x),Qi=((ia=(sa=n.user)==null?void 0:sa.user_metadata)==null?void 0:ia.full_name)||((mt=(qn=n.user)==null?void 0:qn.email)==null?void 0:mt.split("@")[0])||"";return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-gray-900 font-sans p-3 lg:p-4 overflow-hidden h-screen",children:[a.jsx(AC,{isOpen:I,onClose:()=>D(!1),onUpgrade:()=>{pe(!0),D(!1),alert("!     .")}}),a.jsx(PC,{teacher:v,isOpen:!!v,onClose:()=>b(null),onStartInspection:F,onStartLegacyInspection:Mt,onStartTenure:Fo,onUpdateTeacher:Ki}),a.jsxs("div",{className:"hidden print:block",children:[Nt&&r===Ce.EDITOR&&a.jsx(TC,{report:q,teacher:Nt,signature:O}),Nt&&r===Ce.LEGACY_EDITOR&&a.jsx(EC,{report:q,teacher:Nt,signature:O}),Nt&&r===Ce.TENURE_EDITOR&&a.jsx(wC,{report:re,teacher:Nt,signature:O}),r===Ce.PROMOTIONS&&a.jsx(Zg,{teachers:vt,reportsMap:H}),r===Ce.QUARTERLY_REPORT&&a.jsx(ox,{report:se})]}),a.jsxs("div",{className:"flex h-full gap-4 print:hidden",children:[a.jsxs("aside",{className:"w-96 bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl flex flex-col border border-white/20 overflow-hidden transition-all hover:shadow-blue-900/20 duration-500 shrink-0",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-700 to-indigo-800 text-white relative overflow-hidden shrink-0",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>u(Ce.DASHBOARD),children:[a.jsx($b,{className:"text-blue-300 group-hover:rotate-180 transition-transform duration-700",size:28,strokeWidth:1.5}),a.jsx("h1",{className:"text-xl font-bold font-serif tracking-wide",children:" "})]})}),a.jsxs("div",{className:"flex gap-2 mb-4 bg-white/10 p-1.5 rounded-xl backdrop-blur-sm border border-white/10",children:[a.jsx("button",{onClick:()=>u(Ce.DASHBOARD),className:`flex-1 p-2 rounded-lg transition-all flex justify-center items-center ${r===Ce.DASHBOARD?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:"",children:a.jsx(Zb,{size:18})}),a.jsx("button",{onClick:()=>u(Ce.DATABASE),className:`flex-1 p-2 rounded-lg transition-all flex justify-center items-center ${r===Ce.DATABASE?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:a.jsx(Cu,{size:18})}),a.jsx("button",{onClick:()=>u(Ce.PROMOTIONS),className:`flex-1 p-2 rounded-lg transition-all flex justify-center items-center ${r===Ce.PROMOTIONS?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:a.jsx(Co,{size:18})}),a.jsx("button",{onClick:ea,className:`flex-1 p-2 rounded-lg transition-all flex justify-center items-center ${r===Ce.QUARTERLY_REPORT?"bg-white text-blue-800 shadow-sm":"hover:bg-white/10 text-blue-100"}`,title:" ",children:a.jsx(bp,{size:18})})]}),E&&a.jsxs("div",{className:`mb-4 px-3 py-2 rounded-xl flex items-center justify-between backdrop-blur-md border transition-all duration-300 ${B==="error"?"bg-red-500/20 border-red-400/30":"bg-white/10 border-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[B==="syncing"?a.jsx(Ku,{size:14,className:"animate-spin text-blue-200"}):B==="error"?a.jsx(Uo,{size:14,className:"text-red-300"}):a.jsx(v0,{size:14,className:"text-green-300"}),a.jsx("span",{className:"text-[10px] font-bold text-blue-50",children:B==="syncing"?" ...":B==="error"?" ":" "})]}),a.jsx("div",{className:`w-2 h-2 rounded-full ${B==="error"?"bg-red-500":"bg-green-400"} animate-pulse`})]}),a.jsxs("div",{className:"bg-blue-900/40 p-3 rounded-xl border border-blue-400/30 backdrop-blur-md",children:[a.jsx("label",{className:"text-[10px] text-blue-200 font-bold block mb-1 uppercase tracking-wider",children:"  ()"}),a.jsx("div",{className:"flex items-center gap-2",children:w?a.jsx("input",{type:"text",value:_,onChange:le=>S(le.target.value),onBlur:()=>C(!1),autoFocus:!0,className:"w-full bg-blue-950/50 border border-blue-400 rounded px-2 py-1 text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-300",placeholder:"  ..."}):a.jsxs("div",{onClick:()=>C(!0),className:"flex-1 flex items-center justify-between cursor-pointer hover:bg-white/5 rounded px-2 py-1 transition-colors group",children:[a.jsx("span",{className:"text-sm font-bold truncate",children:_||"  "}),a.jsx(v1,{size:12,className:"text-blue-300 group-hover:text-white"})]})})]})]}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-blue-500 rounded-full blur-3xl opacity-30"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 rounded-full blur-3xl opacity-20"})]}),a.jsx("div",{className:"flex-1 overflow-hidden bg-white/50 relative",children:r===Ce.DASHBOARD||r===Ce.EDITOR||r===Ce.LEGACY_EDITOR||r===Ce.TENURE_EDITOR?a.jsx(B_,{teachers:vt,reportsMap:H,currentReport:q,onSelect:pn,selectedId:x,onAddNew:Jo,onImport:ta,onDelete:$o,availableSchools:ze,availableLevels:yt,filterSchool:xe,filterLevel:Te,onSetFilterSchool:be,onSetFilterLevel:Qe}):r===Ce.QUARTERLY_REPORT?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(bp,{size:32,className:"text-purple-400"})}),a.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),a.jsx("p",{className:"text-xs",children:"   "})]}):r===Ce.DATABASE?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Cu,{size:32,className:"text-slate-300"})}),a.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),a.jsx("p",{className:"text-xs",children:"    "})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 p-6 text-center animate-in fade-in zoom-in-95",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Co,{size:32,className:"text-slate-300"})}),a.jsx("h3",{className:"font-bold text-slate-600 mb-2",children:" "}),a.jsx("p",{className:"text-xs",children:"   "})]})}),a.jsx("div",{className:"p-4 border-t border-slate-100 bg-white/80 backdrop-blur-sm shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 border border-blue-200 flex items-center justify-center text-blue-700 shrink-0 shadow-sm",children:a.jsx(pb,{size:20})}),a.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[120px]",children:[" ",a.jsx("br",{}),a.jsx("span",{className:"font-bold text-slate-800 text-sm truncate block",title:Qi,children:Qi})]})]}),a.jsx("button",{onClick:ps,className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all shadow-sm border border-transparent hover:border-red-100",title:" ",children:a.jsx(r1,{size:18})})]})})]}),a.jsxs("main",{className:"flex-1 bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl flex flex-col relative overflow-hidden border border-white/20 min-w-0",children:[r===Ce.DASHBOARD&&a.jsx(LC,{teachers:vt,reportsMap:H,onNavigateToPromotions:()=>u(Ce.PROMOTIONS),fullTeacherCount:f.length,selectedSchool:xe}),r===Ce.DATABASE&&a.jsx(UC,{teachers:f,reportsMap:H,tenureReportsMap:ue,onRestore:na,currentReport:q,onConnectionChange:M,isConnected:E,onAutoSyncChange:te,isAutoSync:$}),r===Ce.PROMOTIONS&&a.jsx(Zg,{teachers:vt,reportsMap:H}),r===Ce.EDITOR&&Nt&&a.jsx(_C,{report:q,teacher:Nt,onChange:Gs,onTeacherChange:Ki,onPrint:at,isGoldMember:ie,onUpgradeClick:()=>D(!0),onUploadSignature:On}),r===Ce.LEGACY_EDITOR&&Nt&&a.jsx(SC,{report:q,teacher:Nt,onChange:Gs,onTeacherChange:Ki,onPrint:at,isGoldMember:ie,onUpgradeClick:()=>D(!0),onUploadSignature:On}),r===Ce.TENURE_EDITOR&&Nt&&a.jsx(NC,{report:re,teacher:Nt,onChange:Ji,onPrint:at,isGoldMember:ie,onUploadSignature:On}),r===Ce.QUARTERLY_REPORT&&a.jsx(CC,{report:se,onChange:Yi,onPrint:at,teachers:f,reportsMap:H,tenureReportsMap:ue})]})]})]})},_x=document.getElementById("root");if(!_x)throw new Error("Could not find root element to mount to");const Tj=Bv.createRoot(_x);Tj.render(a.jsx(wu.StrictMode,{children:a.jsx(Sj,{})}));export{p0 as g};
